{"version":3,"sources":["webpack:///./src/main/js/apps/create/components/UpgradeOrganizationModal.tsx","webpack:///./src/main/js/apps/create/components/UpgradeOrganizationBox.tsx","webpack:///./src/main/js/components/common/VisibilitySelector.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/LockIcon.js","webpack:///./node_modules/sonar-ui-common/components/controls/Tabs.js","webpack:///./node_modules/sonar-ui-common/components/controls/Tabs.css?ff1d","webpack:///./node_modules/sonar-ui-common/components/controls/Tabs.css","webpack:///./src/main/js/apps/create/components/OrganizationSelect.tsx","webpack:///./src/main/js/apps/create/project/style.css?0a3a","webpack:///./src/main/js/apps/create/project/ManualProjectCreate.css?ab01","webpack:///./src/main/js/apps/create/project/ManualProjectCreate.css","webpack:///./src/main/js/apps/create/project/style.css","webpack:///./src/main/js/apps/create/project/OrganizationInput.tsx","webpack:///./src/main/js/apps/create/project/AlmRepositoryItem.tsx","webpack:///./src/main/js/apps/create/project/SetupProjectBox.tsx","webpack:///./src/main/js/apps/create/project/RemoteRepositories.tsx","webpack:///./src/main/js/apps/create/project/AutoProjectCreate.tsx","webpack:///./src/main/js/apps/create/project/ManualProjectCreate.tsx","webpack:///./src/main/js/apps/create/project/CreateProjectPageSonarCloud.tsx","webpack:///./src/main/js/apps/create/project/CreateProjectPageSonarQube.tsx","webpack:///./src/main/js/apps/create/project/CreateProjectPage.tsx","webpack:///./src/main/js/app/components/a11y/A11ySkipTarget.tsx","webpack:///./node_modules/sonar-ui-common/helpers/pages.js","webpack:///./src/main/js/helpers/almIntegrations.ts","webpack:///./src/main/js/helpers/extensions.ts","webpack:///./src/main/js/apps/create/organization/utils.ts","webpack:///./node_modules/lodash/partition.js","webpack:///./src/main/js/helpers/organizations.ts","webpack:///./src/main/js/components/hoc/whenLoggedIn.tsx","webpack:///./src/main/js/api/alm-integration.ts","webpack:///./src/main/js/apps/create/components/UpgradeOrganizationAdvantages.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/ValidationInput.js","webpack:///./src/main/js/api/billing.ts","webpack:///./src/main/js/components/hoc/withUserOrganizations.tsx","webpack:///./src/main/js/apps/create/components/BillingFormShim.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/IdentityProviderLink.js","webpack:///./node_modules/sonar-ui-common/components/controls/IdentityProviderLink.css?6ae9","webpack:///./node_modules/sonar-ui-common/components/controls/IdentityProviderLink.css"],"names":["BillingForm","Object","withCurrentUser","BillingFormShim","_super","UpgradeOrganizationModal","_this","apply","this","arguments","mounted","state","ready","__extends","prototype","componentDidMount","extensions","then","setState","componentWillUnmount","render","header","l10n","index_js_exposed","Modal_default","a","contentLabel","noBackdrop","props","insideModal","onRequestClose","onClose","shouldCloseOnOverlayClick","size","className","onCommit","onUpgradeDone","organizationKey","organization","key","subscriptionPlans","_a","onSubmit","processingUpgrade","renderFormFields","renderNextCharge","renderRecap","renderSubmitButton","id","index_es","defaultMessage","values","org","name","UpgradeOrganizationAdvantages","DeferredSpinner_default","loading","buttons","onClick","UpgradeOrganizationBox_UpgradeOrganizationBox","UpgradeOrganizationBox","upgradeOrganizationModal","fetchSubscriptionPlans","billing","handleUpgradeClick","handleUpgradeOrganizationModalClose","handleOrganizationUpgrade","onOrganizationUpgrade","UpgradeOrganizationBox_extends","startingPrice","price","RadioCard_default","title","titleInfo","undefined","utils","es","target","to","components_UpgradeOrganizationModal","VisibilitySelector","handlePublicClick","event","preventDefault","currentTarget","blur","onChange","handlePrivateClick","react__WEBPACK_IMPORTED_MODULE_1__","classnames__WEBPACK_IMPORTED_MODULE_0__","href","is-checked","visibility","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_2__","showDetails","canTurnToPrivate","defineProperty","exports","value","React","__webpack_require__","Icon_1","default","_b","fill","createElement","d","style","extendStatics","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","classNames","selected","tabs","map","tab","Tab","disabled","onSelect","node","handleClick","stopPropagation","children","PureComponent","content","module","i","options","hmr","transform","insertInto","locals","push","OrganizationSelect","hideIcons","organizations","optionRenderer","icon","alm","_helpers_almIntegrations__WEBPACK_IMPORTED_MODULE_5__","isPaidOrg","subscription","alt","height","src","sonar_ui_common_helpers_urls__WEBPACK_IMPORTED_MODULE_4__","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_3__","getOptionRenderer","sonar_ui_common_components_controls_Select__WEBPACK_IMPORTED_MODULE_2___default","autoFocus","clearable","labelKey","lodash_sortBy__WEBPACK_IMPORTED_MODULE_0___default","o","toLowerCase","placeholder","required","valueKey","valueRenderer","OrganizationInput_OrganizationInput","OrganizationInput","handleLinkClick","storage","Date","now","toString","router","pathname","autoImport","htmlFor","project_OrganizationInput","react_router_es","AlmRepositoryItem","handleMouseEnter","highlightUpgradeBox","handleMouseLeave","handleToggle","repository","linkedProjectKey","toggleRepository","AlmRepositoryItem_extends","identityProvider","alreadyImported","Boolean","Tooltip_default","overlay","classnames","imported","onMouseEnter","onMouseLeave","role","LockIcon_default","theme","disableGrayText","Checkbox_default","checked","onCheck","identity_default","icon-half-transparent","helpers_urls","width","label","private","CheckIcon_default","green","link","urls","SetupProjectBox","submitting","canSubmit","selectedRepositories","length","handleFormSubmit","alm_integration","installationKeys","repo","installationKey","projects","onProjectCreate","project","projectKey","handleProvisionFail","onProvisionFail","SetupProjectBox_extends","hasSelectedRepositories","partition_default","privateRepos","_c","publicRepos","open","RemoteRepositories","checkAllRepositories","highlight","repositories","search","successfullyUpgraded","fetchRepositories","filterBySearch","includes","handleHighlightUpgradeBox","updateSelectedRepositories","keys","forEach","newRepository","find","r","handleSearch","onCheckAllRepositories","helpers_organizations","nextState","validRepositories","filter","filterByPlan","filterByImportable","keyBy_default","__assign","RemoteRepositories_extends","componentDidUpdate","prevProps","almApplication","hasPrivateRepositories","some","showSearchBox","showCheckAll","showUpgradebox","actions","admin","filteredRepositories","SearchBox_default","minLength","Alert","variant","project_AlmRepositoryItem","create-project-side-with-search","project_SetupProjectBox","types","AutoProjectCreate","call","handleInstallAppClick","handleOrganizationSelect","selectedOrganization","getInitialSelectedOrganization","AutoProjectCreate_extends","boundOrganizations","IdentityProviderLink_default","backgroundColor","iconPath","small","url","installationUrl","project_RemoteRepositories","ManualProjectCreate","checkFreeKey","components","component","alreadyExist","projectKeyError","touched","validating","catch","canChoosePrivate","getOrganization","userOrganizations","projectName","trim","selectedVisibility","fetchMyOrganizations","prevState","handleProjectKeyChange","validateKey","projectNameChanged","projectNameError","validateName","handleProjectNameChange","handleVisibilityChange","test","debounce_default","ManualProjectCreate_extends","system","projectKeyIsInvalid","projectKeyIsValid","projectNameIsInvalid","projectNameIsValid","ValidationInput_default","description","error","help","isInvalid","isValid","is-invalid","is-valid","maxLength","type","CreateProjectPageSonarCloud_CreateProjectPageSonarCloud","CreateProjectPageSonarCloud","handleProjectCreate","projectKeys","skipOnboarding","fetchAlmApplication","application","onTabChange","updateUrl","replace","location","query","CreateProjectPageSonarCloud_assign","CreateProjectPageSonarCloud_extends","almIntegrations","currentUser","pages","showManualTab","Helmet_default","titleTemplate","Tabs_default","create_project_ManualProjectCreate","provision","project_AutoProjectCreate","mapDispatchToProps","users","project_CreateProjectPageSonarCloud","whenLoggedIn","withUserOrganizations","CreateProjectPageSonarQube_CreateProjectPageSonarQube","CreateProjectPageSonarQube","CreateProjectPageSonarQube_extends","project_CreateProjectPageSonarQube","CreateProjectPage","A11ySkipTarget","anchor","CreateProjectPage_assign","react__WEBPACK_IMPORTED_MODULE_0__","_A11yContext__WEBPACK_IMPORTED_MODULE_2__","Consumer","addA11ySkipLink","removeA11ySkipLink","A11ySkipTargetInner","getLink","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_1__","weight","CLASS_SIDEBAR_PAGE","CLASS_WHITE_PAGE","toggleBodyClass","force","document","body","classList","toggle","documentElement","addSideBarClass","addWhitePageClass","removeSideBarClass","removeWhitePageClass","__webpack_exports__","getAlmMembersUrl","getUserAlmKey","hasAdvancedALMIntegration","isBitbucket","isGithub","isVSTS","sanitizeAlmId","_users__WEBPACK_IMPORTED_MODULE_0__","endsWith","user","externalProvider","almKey","startsWith","librariesExposed","installScript","Promise","resolve","scriptTag","sonar_ui_common_helpers_urls__WEBPACK_IMPORTED_MODULE_0__","onload","getElementsByTagName","appendChild","getExtensionStart","fromCache","_extensionsHandler__WEBPACK_IMPORTED_MODULE_1__","all","e","bind","exposeLibraries","sent","start","reject","Step","ORGANIZATION_IMPORT_BINDING_IN_PROGRESS_TIMESTAMP","ORGANIZATION_IMPORT_REDIRECT_TO_PROJECT_TIMESTAMP","BIND_ORGANIZATION_KEY","BIND_ORGANIZATION_REDIRECT_TO_ORG_TIMESTAMP","formatPrice","noSign","priceFormatted","sonar_ui_common_helpers_measures__WEBPACK_IMPORTED_MODULE_2__","parseQuery","lodash_memoize__WEBPACK_IMPORTED_MODULE_0___default","urlQuery","almInstallId","sonar_ui_common_helpers_query__WEBPACK_IMPORTED_MODULE_3__","jwt","sonar_ui_common_helpers_strings__WEBPACK_IMPORTED_MODULE_4__","iss","serializeQuery","installation_id","clientKey","partition","createAggregator","result","isPaidOrganization","hasPrivateAccess","isCurrentUserMemberOf","WrappedComponent","Wrapper","_helpers_users__WEBPACK_IMPORTED_MODULE_2__","sonar_ui_common_helpers_handleRequiredAuthentication__WEBPACK_IMPORTED_MODULE_1___default","displayName","_utils__WEBPACK_IMPORTED_MODULE_3__","_withCurrentUser__WEBPACK_IMPORTED_MODULE_4__","bindAlmOrganization","data","sonar_ui_common_helpers_request__WEBPACK_IMPORTED_MODULE_0__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","getAlmAppInfo","getAlmOrganization","max","slowThreshold","almOrganization","boundOrganization","getRepositories","listUnboundApplications","applications","app","provisionProject","join","getGithubLanguages","apiUrl","sonar_ui_common_components_icons_CheckIcon__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_components_icons_CheckIcon__WEBPACK_IMPORTED_MODULE_1___default","n","_app_theme__WEBPACK_IMPORTED_MODULE_3__","TRIAL_DURATION_DAYS","Advantage","lightGreen","AlertErrorIcon_1","AlertSuccessIcon_1","HelpTooltip_1","hasError","getSubscriptionPlans","_utils__WEBPACK_IMPORTED_MODULE_4__","_apps_account_organizations_actions__WEBPACK_IMPORTED_MODULE_2__","react_redux__WEBPACK_IMPORTED_MODULE_1__","_store_rootReducer__WEBPACK_IMPORTED_MODULE_3__","window","SonarBilling","colors_1","urls_1","dark-text","isDarkColor","getBaseUrl"],"mappings":"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","file":"js/287.1576512032968.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { ResetButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { withCurrentUser } from '../../../components/hoc/withCurrentUser';\nimport { getExtensionStart } from '../../../helpers/extensions';\nimport BillingFormShim from './BillingFormShim';\nimport UpgradeOrganizationAdvantages from './UpgradeOrganizationAdvantages';\n\nconst BillingForm = withCurrentUser(BillingFormShim);\n\ninterface Props {\n  insideModal?: boolean;\n  onUpgradeDone: () => void;\n  onClose: () => void;\n  organization: T.Organization;\n  subscriptionPlans: T.SubscriptionPlan[];\n}\n\ninterface State {\n  ready: boolean;\n}\n\nexport default class UpgradeOrganizationModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { ready: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    getExtensionStart('billing/billing').then(\n      () => {\n        if (this.mounted) {\n          this.setState({ ready: true });\n        }\n      },\n      () => {}\n    );\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n    const header = translate('billing.upgrade_box.upgrade_to_paid_plan');\n\n    if (!this.state.ready) {\n      return null;\n    }\n\n    return (\n      <Modal\n        contentLabel={header}\n        noBackdrop={this.props.insideModal}\n        onRequestClose={this.props.onClose}\n        shouldCloseOnOverlayClick={false}\n        size=\"medium\">\n        <div className=\"modal-head\">\n          <h2>{header}</h2>\n        </div>\n        <BillingForm\n          onCommit={this.props.onUpgradeDone}\n          organizationKey={this.props.organization.key}\n          subscriptionPlans={this.props.subscriptionPlans}>\n          {({\n            onSubmit,\n            processingUpgrade,\n            renderFormFields,\n            renderNextCharge,\n            renderRecap,\n            renderSubmitButton\n          }) => (\n            <form id=\"organization-paid-plan-form\" onSubmit={onSubmit}>\n              <div className=\"modal-body modal-container\">\n                <div className=\"huge-spacer-bottom\">\n                  <p className=\"spacer-bottom\">\n                    <FormattedMessage\n                      defaultMessage={translate('billing.upgrade.org_x_advantages')}\n                      id=\"billing.coupon.description\"\n                      values={{\n                        org: <strong>{this.props.organization.name}</strong>\n                      }}\n                    />\n                  </p>\n                  <UpgradeOrganizationAdvantages />\n                </div>\n                {renderFormFields()}\n                <div className=\"big-spacer-top\">{renderRecap()}</div>\n              </div>\n              <footer className=\"modal-foot display-flex-center display-flex-space-between\">\n                {renderNextCharge() || <span />}\n                <div>\n                  <DeferredSpinner loading={processingUpgrade} />\n                  {renderSubmitButton()}\n                  <ResetButtonLink onClick={this.props.onClose}>\n                    {translate('cancel')}\n                  </ResetButtonLink>\n                </div>\n              </footer>\n            </form>\n          )}\n        </BillingForm>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport RadioCard from 'sonar-ui-common/components/controls/RadioCard';\nimport { hasMessage, translate } from 'sonar-ui-common/helpers/l10n';\nimport { getSubscriptionPlans } from '../../../api/billing';\nimport { formatPrice } from '../organization/utils';\nimport UpgradeOrganizationAdvantages from './UpgradeOrganizationAdvantages';\nimport UpgradeOrganizationModal from './UpgradeOrganizationModal';\n\ninterface Props {\n  className?: string;\n  insideModal?: boolean;\n  onOrganizationUpgrade: () => void;\n  organization: T.Organization;\n}\n\ninterface State {\n  subscriptionPlans: T.SubscriptionPlan[];\n  upgradeOrganizationModal: boolean;\n}\n\nexport default class UpgradeOrganizationBox extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { subscriptionPlans: [], upgradeOrganizationModal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchSubscriptionPlans();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchSubscriptionPlans = () => {\n    return getSubscriptionPlans().then(subscriptionPlans => {\n      if (this.mounted) {\n        this.setState({ subscriptionPlans });\n      }\n    });\n  };\n\n  handleUpgradeClick = () => {\n    this.setState({ upgradeOrganizationModal: true });\n  };\n\n  handleUpgradeOrganizationModalClose = () => {\n    if (this.mounted) {\n      this.setState({ upgradeOrganizationModal: false });\n    }\n  };\n\n  handleOrganizationUpgrade = () => {\n    this.props.onOrganizationUpgrade();\n    this.handleUpgradeOrganizationModalClose();\n  };\n\n  render() {\n    if (!hasMessage('billing.upgrade_box.header')) {\n      return null;\n    }\n\n    const { subscriptionPlans, upgradeOrganizationModal } = this.state;\n    const startingPrice = subscriptionPlans[0] && subscriptionPlans[0].price;\n\n    return (\n      <>\n        <RadioCard\n          className={this.props.className}\n          title={translate('billing.upgrade_box.header')}\n          titleInfo={\n            startingPrice !== undefined && (\n              <FormattedMessage\n                defaultMessage={translate('billing.price_from_x')}\n                id=\"billing.price_from_x\"\n                values={{\n                  price: <span className=\"big\">{formatPrice(startingPrice)}</span>\n                }}\n              />\n            )\n          }>\n          <>\n            <UpgradeOrganizationAdvantages />\n            <div className=\"big-spacer-left\">\n              <Button className=\"js-upgrade-organization\" onClick={this.handleUpgradeClick}>\n                {translate('billing.paid_plan.upgrade')}\n              </Button>\n              <Link className=\"spacer-left\" target=\"_blank\" to=\"/about/pricing\">\n                {translate('billing.pricing.learn_more')}\n              </Link>\n            </div>\n          </>\n        </RadioCard>\n        {upgradeOrganizationModal && (\n          <UpgradeOrganizationModal\n            insideModal={this.props.insideModal}\n            onClose={this.handleUpgradeOrganizationModalClose}\n            onUpgradeDone={this.handleOrganizationUpgrade}\n            organization={this.props.organization}\n            subscriptionPlans={subscriptionPlans}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  canTurnToPrivate?: boolean;\n  className?: string;\n  onChange: (visibility: T.Visibility) => void;\n  showDetails?: boolean;\n  visibility?: T.Visibility;\n}\n\nexport default class VisibilitySelector extends React.PureComponent<Props> {\n  handlePublicClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onChange('public');\n  };\n\n  handlePrivateClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onChange('private');\n  };\n\n  render() {\n    return (\n      <div className={classNames('visibility-select', this.props.className)}>\n        <a\n          className=\"link-base-color link-no-underline visibility-select-option\"\n          href=\"#\"\n          id=\"visibility-public\"\n          onClick={this.handlePublicClick}>\n          <i\n            className={classNames('icon-radio', {\n              'is-checked': this.props.visibility === 'public'\n            })}\n          />\n          <span className=\"spacer-left\">{translate('visibility.public')}</span>\n        </a>\n        {this.props.showDetails && (\n          <span className=\"visibility-details note\">\n            {translate('visibility.public.description.long')}\n          </span>\n        )}\n\n        {this.props.canTurnToPrivate ? (\n          <>\n            <a\n              className=\"link-base-color link-no-underline huge-spacer-left visibility-select-option\"\n              href=\"#\"\n              id=\"visibility-private\"\n              onClick={this.handlePrivateClick}>\n              <i\n                className={classNames('icon-radio', {\n                  'is-checked': this.props.visibility === 'private'\n                })}\n              />\n              <span className=\"spacer-left\">{translate('visibility.private')}</span>\n            </a>\n            {this.props.showDetails && (\n              <span className=\"visibility-details note\">\n                {translate('visibility.private.description.long')}\n              </span>\n            )}\n          </>\n        ) : (\n          <>\n            <span\n              className=\"huge-spacer-left text-muted cursor-not-allowed visibility-select-option\"\n              id=\"visibility-private\">\n              <i\n                className={classNames('icon-radio', {\n                  'is-checked': this.props.visibility === 'private'\n                })}\n              />\n              <span className=\"spacer-left\">{translate('visibility.private')}</span>\n            </span>\n            {this.props.showDetails && (\n              <span className=\"visibility-details note\">\n                {translate('visibility.private.description.long')}\n              </span>\n            )}\n          </>\n        )}\n      </div>\n    );\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction LockIcon(_a) {\n    var className = _a.className, _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, size = _a.size;\n    return (React.createElement(Icon_1.default, { className: className, size: size },\n        React.createElement(\"path\", { d: \"M5.455 7.364h5.09v-1.91A2.55 2.55 0 0 0 8 2.91a2.55 2.55 0 0 0-2.545 2.546v1.909zm8.272.954v5.727a.955.955 0 0 1-.954.955H3.227a.955.955 0 0 1-.954-.955V8.318c0-.527.427-.954.954-.954h.318v-1.91C3.545 3.01 5.554 1 8 1s4.455 2.009 4.455 4.455v1.909h.318c.527 0 .954.427.954.954z\", style: { fill: fill } })));\n}\nexports.default = LockIcon;\n//# sourceMappingURL=LockIcon.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nrequire(\"./Tabs.css\");\nfunction Tabs(_a) {\n    var onChange = _a.onChange, selected = _a.selected, tabs = _a.tabs;\n    return (React.createElement(\"ul\", { className: \"flex-tabs\" }, tabs.map(function (tab) { return (React.createElement(Tab, { disabled: tab.disabled, key: tab.key, name: tab.key, onSelect: onChange, selected: selected === tab.key }, tab.node)); })));\n}\nexports.default = Tabs;\nvar Tab = (function (_super) {\n    __extends(Tab, _super);\n    function Tab() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            event.preventDefault();\n            event.stopPropagation();\n            if (!_this.props.disabled) {\n                _this.props.onSelect(_this.props.name);\n            }\n        };\n        return _this;\n    }\n    Tab.prototype.render = function () {\n        var _a = this.props, children = _a.children, disabled = _a.disabled, name = _a.name, selected = _a.selected;\n        return (React.createElement(\"li\", null,\n            React.createElement(\"a\", { className: classNames('js-' + name, { disabled: disabled, selected: selected }), href: \"#\", onClick: this.handleClick }, children)));\n    };\n    return Tab;\n}(React.PureComponent));\nexports.Tab = Tab;\n//# sourceMappingURL=Tabs.js.map","\nvar content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Tabs.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Tabs.css\", function() {\n\t\tvar newContent = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Tabs.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".flex-tabs{display:flex;clear:left;margin-bottom:24px;border-bottom:1px solid #e6e6e6;font-size:14px}.flex-tabs>li>a{position:relative;display:block;top:1px;height:100%;width:100%;box-sizing:border-box;color:#777;font-weight:600;cursor:pointer;padding-bottom:12px;border-bottom:3px solid transparent;transition:color .2s ease}.flex-tabs>li~li{margin-left:32px}.flex-tabs>li>a:hover{color:#444}.flex-tabs>li>a.selected{color:#4b9fd5;border-bottom-color:#4b9fd5}.flex-tabs>li>a.disabled{color:#bbb!important;cursor:not-allowed!important;pointer-events:none!important}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\nimport * as React from 'react';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getBaseUrl } from 'sonar-ui-common/helpers/urls';\nimport { sanitizeAlmId } from '../../../helpers/almIntegrations';\n\ninterface Props {\n  hideIcons?: boolean;\n  onChange: (organization: T.Organization) => void;\n  organization: string;\n  organizations: T.Organization[];\n}\n\nexport default function OrganizationSelect({\n  hideIcons,\n  onChange,\n  organization,\n  organizations\n}: Props) {\n  const optionRenderer = getOptionRenderer(hideIcons);\n  return (\n    <Select\n      autoFocus={!organization}\n      className=\"input-super-large\"\n      clearable={false}\n      id=\"select-organization\"\n      labelKey=\"name\"\n      onChange={onChange}\n      optionRenderer={optionRenderer}\n      options={sortBy(organizations, o => o.name.toLowerCase())}\n      placeholder={translate('onboarding.import_organization.choose_organization')}\n      required={true}\n      value={organization}\n      valueKey=\"key\"\n      valueRenderer={optionRenderer}\n    />\n  );\n}\n\nexport function getOptionRenderer(hideIcons?: boolean) {\n  return function optionRenderer(organization: T.Organization) {\n    const icon = organization.alm\n      ? `sonarcloud/${sanitizeAlmId(organization.alm.key)}`\n      : 'sonarcloud-square-logo';\n    const isPaidOrg = organization.subscription === 'PAID';\n    return (\n      <div className=\"display-flex-space-between\">\n        <span className=\"text-ellipsis flex-1\">\n          {!hideIcons && (\n            <img\n              alt={organization.alm ? organization.alm.key : 'SonarCloud'}\n              className=\"little-spacer-right\"\n              height={14}\n              src={`${getBaseUrl()}/images/${icon}.svg`}\n            />\n          )}\n          {organization.name}\n          <span className=\"note little-spacer-left\">{organization.key}</span>\n        </span>\n        {isPaidOrg && <div className=\"badge\">{translate('organization.paid_plan.badge')}</div>}\n      </div>\n    );\n  };\n}\n","\nvar content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./style.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./style.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./style.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./ManualProjectCreate.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./ManualProjectCreate.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./ManualProjectCreate.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".manual-project-create{max-width:700px}.manual-project-create .visibility-select-option{margin-left:0!important;margin-bottom:8px;display:flex;align-items:center;font-size:14px}.manual-project-create .visibility-details{display:block;margin:8px 0}.manual-project-create .visibility-select-wrapper{padding:8px 0 16px}.manual-project-create .button{margin-top:8px}\", \"\"]);\n\n","exports = module.exports = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".create-project{display:flex!important;justify-content:space-between}.create-project-repository{display:flex;align-items:center;min-width:500px;height:40px;border:1px solid #e6e6e6;padding:8px 16px;margin-bottom:8px;box-sizing:border-box;cursor:pointer;transition:all .3s ease}.create-project-repository.disabled{background-color:#ebebeb;border-color:#ddd;cursor:default}.create-project-repository.imported{cursor:default}.create-project-repository.selected{background-color:#cae3f2;border-color:#236a97}.create-project-repository:not(.imported):not(.disabled):active,.create-project-repository:not(.imported):not(.disabled):focus,.create-project-repository:not(.imported):not(.disabled):hover{border-color:#4b9fd5;box-shadow:none}.create-project-side-with-search{margin-top:32px}.create-project-side-sticky{position:-webkit-sticky;position:sticky;top:68px}.create-project-setup{display:flex;overflow:hidden;opacity:0;flex-direction:column;height:0;width:450px;margin-bottom:0;color:#fff;background-color:#0b3c62;border:none;border-radius:3px;transition:height .5s ease,opacity .4s ease-out,margin-bottom .5s ease-in}.create-project-setup.open{opacity:1;height:160px;margin-bottom:20px}.create-project-setup h2{color:#fff;font-weight:700;font-size:16px}.create-project-setup .boxed-group-inner{display:flex;flex-direction:column;flex-grow:1}.create-project-setup .button{border-color:#4c9bd6;background-color:#4c9bd6;color:#fff;transition:border-color .2s ease,box-shadow .2s ease,background-color .2s ease}.create-project-setup .button:focus,.create-project-setup .button:hover{border-color:#327bb3;background-color:#327bb3}.create-project-actions{min-width:500px;display:flex;justify-content:space-between;align-items:center;padding:8px 0 8px 16px;border-left:1px solid transparent}.create-project-actions .icon-checkbox{margin-right:8px}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { withRouter, WithRouterProps } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { save } from 'sonar-ui-common/helpers/storage';\nimport OrganizationSelect from '../components/OrganizationSelect';\nimport { ORGANIZATION_IMPORT_REDIRECT_TO_PROJECT_TIMESTAMP } from '../organization/utils';\n\ninterface Props {\n  autoImport?: boolean;\n  onChange: (organization: T.Organization) => void;\n  organization: string;\n  organizations: T.Organization[];\n}\n\nexport class OrganizationInput extends React.PureComponent<Props & WithRouterProps> {\n  handleLinkClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.stopPropagation();\n    save(ORGANIZATION_IMPORT_REDIRECT_TO_PROJECT_TIMESTAMP, Date.now().toString(10));\n    this.props.router.push({\n      pathname: '/create-organization',\n      state: { tab: this.props.autoImport ? 'auto' : 'manual' }\n    });\n  };\n\n  render() {\n    const { autoImport, onChange, organization, organizations } = this.props;\n    return (\n      <div className=\"form-field spacer-bottom\">\n        <label htmlFor=\"select-organization\">\n          <span className=\"text-middle\">\n            <strong>{translate('onboarding.create_project.organization')}</strong>\n            <em className=\"mandatory\">*</em>\n          </span>\n        </label>\n        <OrganizationSelect\n          hideIcons={!autoImport}\n          onChange={onChange}\n          organization={organization}\n          organizations={organizations}\n        />\n        <a className=\"big-spacer-left js-new-org\" href=\"#\" onClick={this.handleLinkClick}>\n          {autoImport\n            ? translate('onboarding.create_project.import_new_org')\n            : translate('onboarding.create_project.create_new_org')}\n        </a>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(OrganizationInput);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { identity } from 'lodash';\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport CheckIcon from 'sonar-ui-common/components/icons/CheckIcon';\nimport LockIcon from 'sonar-ui-common/components/icons/LockIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getBaseUrl } from 'sonar-ui-common/helpers/urls';\nimport { colors } from '../../../app/theme';\nimport { getProjectUrl } from '../../../helpers/urls';\n\ninterface Props {\n  disabled: boolean;\n  highlightUpgradeBox: (highlight: boolean) => void;\n  identityProvider: T.IdentityProvider;\n  repository: T.AlmRepository;\n  selected: boolean;\n  toggleRepository: (repository: T.AlmRepository) => void;\n}\n\nexport default class AlmRepositoryItem extends React.PureComponent<Props> {\n  handleMouseEnter = () => {\n    this.props.highlightUpgradeBox(true);\n  };\n\n  handleMouseLeave = () => {\n    this.props.highlightUpgradeBox(false);\n  };\n\n  handleToggle = () => {\n    if (!this.props.disabled && !this.props.repository.linkedProjectKey) {\n      this.props.toggleRepository(this.props.repository);\n    }\n  };\n\n  render() {\n    const { disabled, identityProvider, repository, selected } = this.props;\n    const alreadyImported = Boolean(repository.linkedProjectKey);\n    return (\n      <Tooltip\n        overlay={\n          disabled\n            ? translate('onboarding.create_project.subscribe_to_import_private_repositories')\n            : undefined\n        }>\n        <li>\n          <div\n            className={classNames('create-project-repository', {\n              disabled,\n              imported: alreadyImported,\n              selected\n            })}\n            onClick={this.handleToggle}\n            onMouseEnter={disabled ? this.handleMouseEnter : undefined}\n            onMouseLeave={disabled ? this.handleMouseLeave : undefined}\n            role=\"listitem\">\n            <div className=\"flex-1 display-flex-center\">\n              {disabled ? (\n                <LockIcon fill={colors.disableGrayText} />\n              ) : (\n                <Checkbox\n                  checked={selected || alreadyImported}\n                  disabled={disabled || alreadyImported}\n                  onCheck={identity}\n                />\n              )}\n              <img\n                alt={identityProvider.name}\n                className={classNames('spacer-left', { 'icon-half-transparent': disabled })}\n                height={14}\n                src={`${getBaseUrl()}/images/sonarcloud/${identityProvider.key}.svg`}\n                width={14}\n              />\n              <span className=\"spacer-left\">{this.props.repository.label}</span>\n              {repository.private && (\n                <div className=\"badge spacer-left\">{translate('visibility.private')}</div>\n              )}\n            </div>\n\n            {repository.linkedProjectKey && (\n              <span>\n                <CheckIcon className=\"little-spacer-right\" fill={colors.green} />\n                <FormattedMessage\n                  defaultMessage={translate('onboarding.create_project.repository_imported')}\n                  id=\"onboarding.create_project.repository_imported\"\n                  values={{\n                    link: (\n                      <Link to={getProjectUrl(repository.linkedProjectKey)}>\n                        {translate('onboarding.create_project.see_project')}\n                      </Link>\n                    )\n                  }}\n                />\n              </span>\n            )}\n          </div>\n        </li>\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { partition } from 'lodash';\nimport * as React from 'react';\nimport { SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { provisionProject } from '../../../api/alm-integration';\n\ninterface Props {\n  onProjectCreate: (projectKeys: string[], organization: string) => void;\n  onProvisionFail: () => Promise<void>;\n  organization: T.Organization;\n  selectedRepositories: T.AlmRepository[];\n}\n\ninterface State {\n  submitting: boolean;\n}\n\nexport default class SetupProjectBox extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { submitting: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  canSubmit = () => {\n    return !this.state.submitting && this.props.selectedRepositories.length > 0;\n  };\n\n  handleFormSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    if (this.canSubmit()) {\n      const { selectedRepositories } = this.props;\n      this.setState({ submitting: true });\n      provisionProject({\n        installationKeys: selectedRepositories.map(repo => repo.installationKey),\n        organization: this.props.organization.key\n      }).then(\n        ({ projects }) =>\n          this.props.onProjectCreate(\n            projects.map(project => project.projectKey),\n            this.props.organization.key\n          ),\n        this.handleProvisionFail\n      );\n    }\n  };\n\n  handleProvisionFail = () => {\n    return this.props.onProvisionFail().then(() => {\n      if (this.mounted) {\n        this.setState({ submitting: false });\n      }\n    });\n  };\n\n  render() {\n    const { selectedRepositories } = this.props;\n    const hasSelectedRepositories = selectedRepositories.length > 0;\n    const [privateRepos = [], publicRepos = []] = partition(\n      selectedRepositories,\n      repo => repo.private\n    );\n    return (\n      <form\n        className={classNames('create-project-setup boxed-group', {\n          open: hasSelectedRepositories\n        })}\n        onSubmit={this.handleFormSubmit}>\n        <div className=\"boxed-group-header\">\n          <h2 className=\"spacer-top\">\n            {selectedRepositories.length > 1\n              ? translateWithParameters(\n                  'onboarding.create_project.x_repositories_selected',\n                  selectedRepositories.length\n                )\n              : translate('onboarding.create_project.1_repository_selected')}\n          </h2>\n        </div>\n        <div className=\"boxed-group-inner\">\n          <div className=\"flex-1\">\n            {publicRepos.length === 1 && (\n              <p>{translate('onboarding.create_project.1_repository_created_as_public')}</p>\n            )}\n            {publicRepos.length > 1 && (\n              <p>\n                {translateWithParameters(\n                  'onboarding.create_project.x_repository_created_as_public',\n                  publicRepos.length\n                )}\n              </p>\n            )}\n            {privateRepos.length === 1 && (\n              <p>{translate('onboarding.create_project.1_repository_created_as_private')}</p>\n            )}\n            {privateRepos.length > 1 && (\n              <p>\n                {translateWithParameters(\n                  'onboarding.create_project.x_repository_created_as_private',\n                  privateRepos.length\n                )}\n              </p>\n            )}\n          </div>\n          <div>\n            <SubmitButton className=\"button-large\" disabled={this.state.submitting}>\n              {translate('set_up')}\n            </SubmitButton>\n            <DeferredSpinner className=\"spacer-left\" loading={this.state.submitting} />\n          </div>\n        </div>\n      </form>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { keyBy } from 'lodash';\nimport * as React from 'react';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { isDefined } from 'sonar-ui-common/helpers/types';\nimport { getRepositories } from '../../../api/alm-integration';\nimport { isPaidOrganization } from '../../../helpers/organizations';\nimport UpgradeOrganizationBox from '../components/UpgradeOrganizationBox';\nimport AlmRepositoryItem from './AlmRepositoryItem';\nimport SetupProjectBox from './SetupProjectBox';\n\ninterface Props {\n  almApplication: T.AlmApplication;\n  onOrganizationUpgrade: () => void;\n  onProjectCreate: (projectKeys: string[], organization: string) => void;\n  organization: T.Organization;\n}\n\ntype SelectedRepositories = T.Dict<T.AlmRepository | undefined>;\n\ninterface State {\n  checkAllRepositories: boolean;\n  highlight: boolean;\n  loading: boolean;\n  repositories: T.AlmRepository[];\n  search: string;\n  selectedRepositories: SelectedRepositories;\n  successfullyUpgraded: boolean;\n}\n\nexport default class RemoteRepositories extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    checkAllRepositories: false,\n    highlight: false,\n    loading: true,\n    repositories: [],\n    search: '',\n    selectedRepositories: {},\n    successfullyUpgraded: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchRepositories();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.organization.key !== this.props.organization.key) {\n      this.setState({ loading: true, selectedRepositories: {} });\n      this.fetchRepositories();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchRepositories = () => {\n    const { organization } = this.props;\n    return getRepositories({ organization: organization.key }).then(\n      ({ repositories }) => {\n        if (this.mounted) {\n          this.setState({ loading: false, repositories });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  filterBySearch = (search: String) => (repo: T.AlmRepository) => {\n    return repo.label.toLowerCase().includes(search.toLowerCase());\n  };\n\n  handleHighlightUpgradeBox = (highlight: boolean) => {\n    this.setState({ highlight });\n  };\n\n  handleOrganizationUpgrade = () => {\n    this.props.onOrganizationUpgrade();\n    if (this.mounted) {\n      this.setState({ successfullyUpgraded: true });\n    }\n  };\n\n  handleProvisionFail = () => {\n    return this.fetchRepositories().then(() => {\n      if (this.mounted) {\n        this.setState(({ repositories, selectedRepositories }) => {\n          const updateSelectedRepositories: SelectedRepositories = {};\n          Object.keys(selectedRepositories).forEach(installationKey => {\n            const newRepository = repositories.find(r => r.installationKey === installationKey);\n            if (newRepository && !newRepository.linkedProjectKey) {\n              updateSelectedRepositories[newRepository.installationKey] = newRepository;\n            }\n          });\n          return { selectedRepositories: updateSelectedRepositories };\n        });\n      }\n    });\n  };\n\n  handleSearch = (search: string) => {\n    this.setState({ search, checkAllRepositories: false, selectedRepositories: {} });\n  };\n\n  onCheckAllRepositories = () => {\n    this.setState(({ checkAllRepositories, repositories, search }) => {\n      const { organization } = this.props;\n\n      const isPaidOrg = isPaidOrganization(organization);\n      const filterByPlan = (repo: T.AlmRepository) => (isPaidOrg ? true : !repo.private);\n      const filterByImportable = (repo: T.AlmRepository) => !repo.linkedProjectKey;\n\n      const nextState = {\n        selectedRepositories: {},\n        checkAllRepositories: !checkAllRepositories\n      };\n\n      if (nextState.checkAllRepositories) {\n        const validRepositories = repositories.filter(\n          repo =>\n            this.filterBySearch(search)(repo) && filterByPlan(repo) && filterByImportable(repo)\n        );\n        nextState.selectedRepositories = keyBy(validRepositories, 'installationKey');\n      }\n\n      return nextState;\n    });\n  };\n\n  toggleRepository = (repository: T.AlmRepository) => {\n    this.setState(({ selectedRepositories }) => ({\n      selectedRepositories: {\n        ...selectedRepositories,\n        [repository.installationKey]: selectedRepositories[repository.installationKey]\n          ? undefined\n          : repository\n      }\n    }));\n  };\n\n  render() {\n    const { highlight, loading, repositories, search, selectedRepositories } = this.state;\n    const { almApplication, organization } = this.props;\n    const isPaidOrg = isPaidOrganization(organization);\n    const hasPrivateRepositories = repositories.some(repository => Boolean(repository.private));\n    const showSearchBox = repositories.length > 5;\n    const showCheckAll = repositories.length > 1;\n    const showUpgradebox =\n      !isPaidOrg && hasPrivateRepositories && organization.actions && organization.actions.admin;\n    const filteredRepositories = repositories.filter(this.filterBySearch(search));\n\n    return (\n      <div className=\"create-project\">\n        <div className=\"flex-1 huge-spacer-right\">\n          <div className=\"spacer-bottom create-project-actions\">\n            <div>\n              {showCheckAll && (\n                <Checkbox\n                  checked={this.state.checkAllRepositories}\n                  disabled={filteredRepositories.length === 0}\n                  onCheck={this.onCheckAllRepositories}>\n                  {translate('onboarding.create_project.select_all_repositories')}\n                </Checkbox>\n              )}\n            </div>\n            {showSearchBox && (\n              <SearchBox\n                minLength={1}\n                onChange={this.handleSearch}\n                placeholder={translate('search.search_for_repositories')}\n                value={this.state.search}\n              />\n            )}\n          </div>\n\n          {this.state.successfullyUpgraded && (\n            <Alert variant=\"success\">\n              {translateWithParameters(\n                'onboarding.create_project.subscribtion_success_x',\n                organization.name\n              )}\n            </Alert>\n          )}\n          <DeferredSpinner loading={loading}>\n            <ul>\n              {filteredRepositories.length === 0 && (\n                <li className=\"big-spacer-top note\">\n                  {showUpgradebox\n                    ? translateWithParameters('no_results_for_x', search)\n                    : translate('onboarding.create_project.no_repositories')}\n                </li>\n              )}\n              {filteredRepositories.map(repo => (\n                <AlmRepositoryItem\n                  disabled={Boolean(repo.private && !isPaidOrg)}\n                  highlightUpgradeBox={this.handleHighlightUpgradeBox}\n                  identityProvider={almApplication}\n                  key={repo.installationKey}\n                  repository={repo}\n                  selected={Boolean(selectedRepositories[repo.installationKey])}\n                  toggleRepository={this.toggleRepository}\n                />\n              ))}\n            </ul>\n          </DeferredSpinner>\n        </div>\n        {organization && (\n          <div className={classNames({ 'create-project-side-with-search': showSearchBox })}>\n            <div className=\"create-project-side-sticky\">\n              <SetupProjectBox\n                onProjectCreate={this.props.onProjectCreate}\n                onProvisionFail={this.handleProvisionFail}\n                organization={organization}\n                selectedRepositories={Object.keys(selectedRepositories)\n                  .map(r => selectedRepositories[r])\n                  .filter(isDefined)}\n              />\n              {showUpgradebox && (\n                <UpgradeOrganizationBox\n                  className={classNames({ highlight })}\n                  onOrganizationUpgrade={this.handleOrganizationUpgrade}\n                  organization={organization}\n                />\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport IdentityProviderLink from 'sonar-ui-common/components/controls/IdentityProviderLink';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { save } from 'sonar-ui-common/helpers/storage';\nimport {\n  ORGANIZATION_IMPORT_BINDING_IN_PROGRESS_TIMESTAMP,\n  ORGANIZATION_IMPORT_REDIRECT_TO_PROJECT_TIMESTAMP\n} from '../organization/utils';\nimport OrganizationInput from './OrganizationInput';\nimport RemoteRepositories from './RemoteRepositories';\n\ninterface Props {\n  almApplication: T.AlmApplication;\n  boundOrganizations: T.Organization[];\n  onOrganizationUpgrade: () => void;\n  onProjectCreate: (projectKeys: string[], organization: string) => void;\n  organization?: string;\n}\n\ninterface State {\n  selectedOrganization: string;\n}\n\nexport default class AutoProjectCreate extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { selectedOrganization: this.getInitialSelectedOrganization(props) };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  getInitialSelectedOrganization(props: Props) {\n    if (props.organization) {\n      return props.organization;\n    } else if (props.boundOrganizations.length === 1) {\n      return props.boundOrganizations[0].key;\n    } else {\n      return '';\n    }\n  }\n\n  handleInstallAppClick = () => {\n    save(ORGANIZATION_IMPORT_BINDING_IN_PROGRESS_TIMESTAMP, Date.now().toString(10));\n    save(ORGANIZATION_IMPORT_REDIRECT_TO_PROJECT_TIMESTAMP, Date.now().toString(10));\n  };\n\n  handleOrganizationSelect = ({ key }: T.Organization) => {\n    this.setState({ selectedOrganization: key });\n  };\n\n  render() {\n    const { almApplication, boundOrganizations, onProjectCreate } = this.props;\n\n    if (boundOrganizations.length === 0) {\n      return (\n        <>\n          <p className=\"spacer-bottom\">\n            {translate('onboarding.create_project.install_app_description', almApplication.key)}\n          </p>\n          <IdentityProviderLink\n            backgroundColor={almApplication.backgroundColor}\n            className=\"display-inline-block\"\n            iconPath={almApplication.iconPath}\n            name={almApplication.name}\n            onClick={this.handleInstallAppClick}\n            small={true}\n            url={almApplication.installationUrl}>\n            {translate(\n              'onboarding.import_organization.choose_organization_button',\n              almApplication.key\n            )}\n          </IdentityProviderLink>\n        </>\n      );\n    }\n\n    const { selectedOrganization } = this.state;\n    const organization = boundOrganizations.find(o => o.key === selectedOrganization);\n\n    return (\n      <>\n        <OrganizationInput\n          autoImport={true}\n          onChange={this.handleOrganizationSelect}\n          organization={selectedOrganization}\n          organizations={this.props.boundOrganizations}\n        />\n        {organization && (\n          <RemoteRepositories\n            almApplication={almApplication}\n            onOrganizationUpgrade={this.props.onOrganizationUpgrade}\n            onProjectCreate={onProjectCreate}\n            organization={organization}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { debounce } from 'lodash';\nimport * as React from 'react';\nimport { SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport ValidationInput from 'sonar-ui-common/components/controls/ValidationInput';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { createProject, doesComponentExists } from '../../../api/components';\nimport VisibilitySelector from '../../../components/common/VisibilitySelector';\nimport { isSonarCloud } from '../../../helpers/system';\nimport UpgradeOrganizationBox from '../components/UpgradeOrganizationBox';\nimport './ManualProjectCreate.css';\nimport OrganizationInput from './OrganizationInput';\n\ninterface Props {\n  currentUser: T.LoggedInUser;\n  fetchMyOrganizations?: () => Promise<void>;\n  onProjectCreate: (projectKeys: string[]) => void;\n  organization?: string;\n  userOrganizations?: T.Organization[];\n}\n\ninterface State {\n  projectName: string;\n  projectNameChanged: boolean;\n  projectNameError?: string;\n  projectKey: string;\n  projectKeyError?: string;\n  selectedOrganization?: T.Organization;\n  selectedVisibility?: T.Visibility;\n  submitting: boolean;\n  touched: boolean;\n  validating: boolean;\n}\n\ntype ValidState = State & Required<Pick<State, 'projectKey' | 'projectName'>>;\n\nexport default class ManualProjectCreate extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      projectKey: '',\n      projectName: '',\n      projectNameChanged: false,\n      selectedOrganization: this.getInitialSelectedOrganization(props),\n      submitting: false,\n      touched: false,\n      validating: false\n    };\n    this.checkFreeKey = debounce(this.checkFreeKey, 250);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  checkFreeKey = (key: string) => {\n    return doesComponentExists({ component: key })\n      .then(alreadyExist => {\n        if (this.mounted && key === this.state.projectKey) {\n          if (!alreadyExist) {\n            this.setState({ projectKeyError: undefined, validating: false });\n          } else {\n            this.setState({\n              projectKeyError: translate('onboarding.create_project.project_key.taken'),\n              touched: true,\n              validating: false\n            });\n          }\n        }\n      })\n      .catch(() => {\n        if (this.mounted && key === this.state.projectKey) {\n          this.setState({ projectKeyError: undefined, validating: false });\n        }\n      });\n  };\n\n  canChoosePrivate = (selectedOrganization: T.Organization | undefined) => {\n    return Boolean(selectedOrganization && selectedOrganization.subscription === 'PAID');\n  };\n\n  canSubmit(state: State): state is ValidState {\n    const {\n      projectKey,\n      projectKeyError,\n      projectName,\n      projectNameError,\n      selectedOrganization\n    } = state;\n    return Boolean(\n      projectKeyError === undefined &&\n        projectNameError === undefined &&\n        projectKey.length > 0 &&\n        projectName.length > 0 &&\n        (!isSonarCloud() || selectedOrganization)\n    );\n  }\n\n  getInitialSelectedOrganization = (props: Props) => {\n    if (props.organization) {\n      return this.getOrganization(props.organization);\n    } else if (props.userOrganizations && props.userOrganizations.length === 1) {\n      return props.userOrganizations[0];\n    } else {\n      return undefined;\n    }\n  };\n\n  getOrganization = (organizationKey: string) => {\n    return (\n      this.props.userOrganizations &&\n      this.props.userOrganizations.find(({ key }: T.Organization) => key === organizationKey)\n    );\n  };\n\n  handleFormSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    const { state } = this;\n    if (this.canSubmit(state)) {\n      this.setState({ submitting: true });\n      createProject({\n        project: state.projectKey,\n        name: (state.projectName || state.projectKey).trim(),\n        organization: state.selectedOrganization && state.selectedOrganization.key,\n        visibility: this.state.selectedVisibility\n      }).then(\n        ({ project }) => this.props.onProjectCreate([project.key]),\n        () => {\n          if (this.mounted) {\n            this.setState({ submitting: false });\n          }\n        }\n      );\n    }\n  };\n\n  handleOrganizationSelect = ({ key }: T.Organization) => {\n    const selectedOrganization = this.getOrganization(key);\n    let { selectedVisibility } = this.state;\n\n    if (selectedVisibility === undefined) {\n      selectedVisibility = this.canChoosePrivate(selectedOrganization) ? 'private' : 'public';\n    }\n\n    this.setState({\n      selectedOrganization,\n      selectedVisibility\n    });\n  };\n\n  handleOrganizationUpgrade = () => {\n    this.props.fetchMyOrganizations!().then(\n      () => {\n        this.setState(prevState => {\n          if (prevState.selectedOrganization) {\n            const selectedOrganization = this.getOrganization(prevState.selectedOrganization.key);\n            return {\n              selectedOrganization\n            };\n          }\n          return null;\n        });\n      },\n      () => {}\n    );\n  };\n\n  handleProjectKeyChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const projectKey = event.currentTarget.value || '';\n    const projectKeyError = this.validateKey(projectKey);\n\n    this.setState(prevState => {\n      const projectName = prevState.projectNameChanged ? prevState.projectName : projectKey;\n      return {\n        projectKey,\n        projectKeyError,\n        projectName,\n        projectNameError: this.validateName(projectName),\n        touched: true,\n        validating: projectKeyError === undefined\n      };\n    });\n\n    if (projectKeyError === undefined) {\n      this.checkFreeKey(projectKey);\n    }\n  };\n\n  handleProjectNameChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const projectName = event.currentTarget.value;\n    this.setState({\n      projectName,\n      projectNameChanged: true,\n      projectNameError: this.validateName(projectName)\n    });\n  };\n\n  handleVisibilityChange = (selectedVisibility: T.Visibility) => {\n    this.setState({ selectedVisibility });\n  };\n\n  validateKey = (projectKey: string) => {\n    return projectKey.length > 400 || !/^[\\w-.:]*[a-zA-Z]+[\\w-.:]*$/.test(projectKey)\n      ? translate('onboarding.create_project.project_key.error')\n      : undefined;\n  };\n\n  validateName = (projectName: string) => {\n    return projectName.length === 0 || projectName.length > 255\n      ? translate('onboarding.create_project.display_name.error')\n      : undefined;\n  };\n\n  render() {\n    const {\n      projectKey,\n      projectKeyError,\n      projectName,\n      projectNameError,\n      selectedOrganization,\n      submitting,\n      touched,\n      validating\n    } = this.state;\n    const projectKeyIsInvalid = touched && projectKeyError !== undefined;\n    const projectKeyIsValid = touched && !validating && projectKeyError === undefined;\n    const projectNameIsInvalid = touched && projectNameError !== undefined;\n    const projectNameIsValid = touched && projectNameError === undefined;\n    const canChoosePrivate = this.canChoosePrivate(selectedOrganization);\n\n    return (\n      <div className=\"create-project\">\n        <div className=\"flex-1 huge-spacer-right\">\n          <form className=\"manual-project-create\" onSubmit={this.handleFormSubmit}>\n            {isSonarCloud() && this.props.userOrganizations && (\n              <OrganizationInput\n                onChange={this.handleOrganizationSelect}\n                organization={selectedOrganization ? selectedOrganization.key : ''}\n                organizations={this.props.userOrganizations}\n              />\n            )}\n\n            <ValidationInput\n              className=\"form-field\"\n              description={translate('onboarding.create_project.project_key.description')}\n              error={projectKeyError}\n              help={translate('onboarding.create_project.project_key.help')}\n              id=\"project-key\"\n              isInvalid={projectKeyIsInvalid}\n              isValid={projectKeyIsValid}\n              label={translate('onboarding.create_project.project_key')}\n              required={true}>\n              <input\n                autoFocus={true}\n                className={classNames('input-super-large', {\n                  'is-invalid': projectKeyIsInvalid,\n                  'is-valid': projectKeyIsValid\n                })}\n                id=\"project-key\"\n                maxLength={400}\n                minLength={1}\n                onChange={this.handleProjectKeyChange}\n                type=\"text\"\n                value={projectKey}\n              />\n            </ValidationInput>\n\n            <ValidationInput\n              className=\"form-field\"\n              description={translate('onboarding.create_project.display_name.description')}\n              error={projectNameError}\n              help={translate('onboarding.create_project.display_name.help')}\n              id=\"project-name\"\n              isInvalid={projectNameIsInvalid}\n              isValid={projectNameIsValid}\n              label={translate('onboarding.create_project.display_name')}\n              required={true}>\n              <input\n                className={classNames('input-super-large', {\n                  'is-invalid': projectNameIsInvalid,\n                  'is-valid': projectNameIsValid\n                })}\n                id=\"project-name\"\n                maxLength={255}\n                minLength={1}\n                onChange={this.handleProjectNameChange}\n                type=\"text\"\n                value={projectName}\n              />\n            </ValidationInput>\n\n            {isSonarCloud() && selectedOrganization && (\n              <div\n                className={classNames('visibility-select-wrapper', {\n                  open: Boolean(this.state.selectedOrganization)\n                })}>\n                <VisibilitySelector\n                  canTurnToPrivate={canChoosePrivate}\n                  onChange={this.handleVisibilityChange}\n                  showDetails={true}\n                  visibility={canChoosePrivate ? this.state.selectedVisibility : 'public'}\n                />\n              </div>\n            )}\n\n            <SubmitButton disabled={!this.canSubmit(this.state) || submitting}>\n              {translate('set_up')}\n            </SubmitButton>\n            <DeferredSpinner className=\"spacer-left\" loading={submitting} />\n          </form>\n        </div>\n\n        {isSonarCloud() && selectedOrganization && (\n          <div className=\"create-project-side-sticky\">\n            <UpgradeOrganizationBox\n              className={classNames('animated', { open: !canChoosePrivate })}\n              onOrganizationUpgrade={this.handleOrganizationUpgrade}\n              organization={selectedOrganization}\n            />\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Helmet from 'react-helmet';\nimport { connect } from 'react-redux';\nimport { WithRouterProps } from 'react-router';\nimport Tabs from 'sonar-ui-common/components/controls/Tabs';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { addWhitePageClass, removeWhitePageClass } from 'sonar-ui-common/helpers/pages';\nimport { getAlmAppInfo } from '../../../api/alm-integration';\nimport { whenLoggedIn } from '../../../components/hoc/whenLoggedIn';\nimport { withUserOrganizations } from '../../../components/hoc/withUserOrganizations';\nimport { hasAdvancedALMIntegration } from '../../../helpers/almIntegrations';\nimport { getOrganizationUrl, getProjectUrl } from '../../../helpers/urls';\nimport { skipOnboarding } from '../../../store/users';\nimport AutoProjectCreate from './AutoProjectCreate';\nimport ManualProjectCreate from './ManualProjectCreate';\nimport './style.css';\n\ninterface Props {\n  currentUser: T.LoggedInUser;\n  fetchMyOrganizations: () => Promise<void>;\n  skipOnboarding: () => void;\n  userOrganizations: T.Organization[];\n}\n\ninterface State {\n  almApplication?: T.AlmApplication;\n  loading: boolean;\n}\n\ntype TabKeys = 'auto' | 'manual';\n\ninterface LocationState {\n  organization?: string;\n  tab?: TabKeys;\n}\n\nexport class CreateProjectPageSonarCloud extends React.PureComponent<\n  Props & WithRouterProps,\n  State\n> {\n  mounted = false;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    if (hasAdvancedALMIntegration(this.props.currentUser)) {\n      this.fetchAlmApplication();\n    } else {\n      this.setState({ loading: false });\n    }\n    addWhitePageClass();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    removeWhitePageClass();\n  }\n\n  handleProjectCreate = (projectKeys: string[], organization?: string) => {\n    this.props.skipOnboarding();\n    if (projectKeys.length > 1) {\n      this.props.router.push({\n        pathname: (organization ? getOrganizationUrl(organization) : '') + '/projects'\n      });\n    } else if (projectKeys.length === 1) {\n      this.props.router.push(getProjectUrl(projectKeys[0]));\n    }\n  };\n\n  fetchAlmApplication = () => {\n    return getAlmAppInfo().then(\n      ({ application }) => {\n        if (this.mounted) {\n          this.setState({ almApplication: application, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  onTabChange = (tab: TabKeys) => {\n    this.updateUrl({ tab });\n  };\n\n  updateUrl = (state: Partial<LocationState> = {}) => {\n    this.props.router.replace({\n      pathname: this.props.location.pathname,\n      query: this.props.location.query,\n      state: { ...(this.props.location.state || {}), ...state }\n    });\n  };\n\n  render() {\n    const { currentUser, location, userOrganizations } = this.props;\n    const { almApplication, loading } = this.state;\n    const state: LocationState = location.state || {};\n    const header = translate('onboarding.create_project.header');\n    const showManualTab = state.tab === 'manual';\n\n    return (\n      <>\n        <Helmet title={header} titleTemplate=\"%s\" />\n        <div className=\"page page-limited huge-spacer-top huge-spacer-bottom\">\n          <header className=\"page-header huge-spacer-bottom\">\n            <h1 className=\"page-title huge\">\n              <strong>{header}</strong>\n            </h1>\n          </header>\n          {loading ? (\n            <DeferredSpinner />\n          ) : (\n            <>\n              {almApplication && (\n                <Tabs<TabKeys>\n                  onChange={this.onTabChange}\n                  selected={state.tab || 'auto'}\n                  tabs={[\n                    {\n                      key: 'auto',\n                      node: translate('onboarding.create_project.select_repositories')\n                    },\n                    { key: 'manual', node: translate('onboarding.create_project.setup_manually') }\n                  ]}\n                />\n              )}\n\n              {showManualTab || !almApplication ? (\n                <ManualProjectCreate\n                  currentUser={currentUser}\n                  fetchMyOrganizations={this.props.fetchMyOrganizations}\n                  onProjectCreate={this.handleProjectCreate}\n                  organization={state.organization}\n                  userOrganizations={userOrganizations.filter(\n                    ({ actions = {} }) => actions.provision\n                  )}\n                />\n              ) : (\n                <AutoProjectCreate\n                  almApplication={almApplication}\n                  boundOrganizations={userOrganizations.filter(\n                    ({ alm, actions = {} }) => alm && actions.provision\n                  )}\n                  onOrganizationUpgrade={this.props.fetchMyOrganizations}\n                  onProjectCreate={this.handleProjectCreate}\n                  organization={state.organization}\n                />\n              )}\n            </>\n          )}\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapDispatchToProps = { skipOnboarding };\n\nexport default whenLoggedIn(\n  withUserOrganizations(\n    connect(\n      null,\n      mapDispatchToProps\n    )(CreateProjectPageSonarCloud)\n  )\n);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Helmet from 'react-helmet';\nimport { WithRouterProps } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { addWhitePageClass, removeWhitePageClass } from 'sonar-ui-common/helpers/pages';\nimport { whenLoggedIn } from '../../../components/hoc/whenLoggedIn';\nimport { getProjectUrl } from '../../../helpers/urls';\nimport ManualProjectCreate from './ManualProjectCreate';\nimport './style.css';\n\ninterface Props {\n  currentUser: T.LoggedInUser;\n}\n\nexport class CreateProjectPageSonarQube extends React.PureComponent<Props & WithRouterProps> {\n  componentDidMount() {\n    addWhitePageClass();\n  }\n\n  componentWillUnmount() {\n    removeWhitePageClass();\n  }\n\n  handleProjectCreate = (projectKeys: string[]) => {\n    if (projectKeys.length === 1) {\n      this.props.router.push(getProjectUrl(projectKeys[0]));\n    }\n  };\n\n  render() {\n    const { currentUser } = this.props;\n    const header = translate('my_account.create_new.TRK');\n    return (\n      <>\n        <Helmet title={header} titleTemplate=\"%s\" />\n        <div className=\"page page-limited huge-spacer-top huge-spacer-bottom\">\n          <header className=\"page-header bordered-bottom big-spacer-bottom\">\n            <h1 className=\"page-title huge big-spacer-bottom\">\n              <strong>{header}</strong>\n            </h1>\n          </header>\n          <ManualProjectCreate\n            currentUser={currentUser}\n            onProjectCreate={this.handleProjectCreate}\n          />\n        </div>\n      </>\n    );\n  }\n}\n\nexport default whenLoggedIn(CreateProjectPageSonarQube);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { WithRouterProps } from 'react-router';\nimport A11ySkipTarget from '../../../app/components/a11y/A11ySkipTarget';\nimport { isSonarCloud } from '../../../helpers/system';\nimport CreateProjectPageSonarCloud from './CreateProjectPageSonarCloud';\nimport CreateProjectPageSonarQube from './CreateProjectPageSonarQube';\n\nexport default function CreateProjectPage(props: WithRouterProps) {\n  return (\n    <>\n      <A11ySkipTarget anchor=\"create_project_main\" />\n      {isSonarCloud() ? (\n        <CreateProjectPageSonarCloud {...props} />\n      ) : (\n        <CreateProjectPageSonarQube {...props} />\n      )}\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { A11yContext } from './A11yContext';\n\ninterface Props {\n  anchor: string;\n  label?: string;\n  weight?: number;\n}\n\nexport default function A11ySkipTarget(props: Props) {\n  return (\n    <A11yContext.Consumer>\n      {({ addA11ySkipLink, removeA11ySkipLink }) => (\n        <A11ySkipTargetInner\n          addA11ySkipLink={addA11ySkipLink}\n          removeA11ySkipLink={removeA11ySkipLink}\n          {...props}\n        />\n      )}\n    </A11yContext.Consumer>\n  );\n}\n\ninterface InnerProps {\n  addA11ySkipLink: (link: T.A11ySkipLink) => void;\n  removeA11ySkipLink: (link: T.A11ySkipLink) => void;\n}\n\nexport class A11ySkipTargetInner extends React.PureComponent<Props & InnerProps> {\n  componentDidMount() {\n    this.props.addA11ySkipLink(this.getLink());\n  }\n\n  componentWillUnmount() {\n    this.props.removeA11ySkipLink(this.getLink());\n  }\n\n  getLink = (): T.A11ySkipLink => {\n    const { anchor: key, label = translate('skip_to_content'), weight } = this.props;\n    return { key, label, weight };\n  };\n\n  render() {\n    const { anchor } = this.props;\n    return <span id={`a11y_target__${anchor}`} />;\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CLASS_SIDEBAR_PAGE = 'sidebar-page';\nvar CLASS_WHITE_PAGE = 'white-page';\nfunction addSideBarClass() {\n    toggleBodyClass(CLASS_SIDEBAR_PAGE, true);\n}\nexports.addSideBarClass = addSideBarClass;\nfunction addWhitePageClass() {\n    toggleBodyClass(CLASS_WHITE_PAGE, true);\n}\nexports.addWhitePageClass = addWhitePageClass;\nfunction removeSideBarClass() {\n    toggleBodyClass(CLASS_SIDEBAR_PAGE, false);\n}\nexports.removeSideBarClass = removeSideBarClass;\nfunction removeWhitePageClass() {\n    toggleBodyClass(CLASS_WHITE_PAGE, false);\n}\nexports.removeWhitePageClass = removeWhitePageClass;\nfunction toggleBodyClass(className, force) {\n    document.body.classList.toggle(className, force);\n    if (document.documentElement) {\n        document.documentElement.classList.toggle(className, force);\n    }\n}\n//# sourceMappingURL=pages.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { isLoggedIn } from './users';\n\nexport function getAlmMembersUrl(key: string, url: string): string {\n  if (!url.endsWith('/')) {\n    url += '/';\n  }\n  if (isGithub(key)) {\n    return url.replace('github.com/', 'github.com/orgs/') + 'people';\n  }\n  return url + 'profile/members';\n}\n\nexport function getUserAlmKey(user: T.CurrentUser) {\n  return isLoggedIn(user) && user.externalProvider\n    ? sanitizeAlmId(user.externalProvider)\n    : undefined;\n}\n\nexport function hasAdvancedALMIntegration(user: T.CurrentUser) {\n  return (\n    isLoggedIn(user) && (isBitbucket(user.externalProvider) || isGithub(user.externalProvider))\n  );\n}\n\nexport function isBitbucket(almKey?: string): boolean {\n  return almKey ? almKey.startsWith('bitbucket') : false;\n}\n\nexport function isGithub(almKey?: string): boolean {\n  return almKey === 'github';\n}\n\nexport function isVSTS(almKey?: string): boolean {\n  return almKey === 'microsoft';\n}\n\nexport function sanitizeAlmId(almKey: string) {\n  if (isBitbucket(almKey)) {\n    return 'bitbucket';\n  }\n  return almKey;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getBaseUrl } from 'sonar-ui-common/helpers/urls';\nimport { getExtensionFromCache } from './extensionsHandler';\n\nlet librariesExposed = false;\n\nexport function installScript(url: string, target: 'body' | 'head' = 'body'): Promise<any> {\n  return new Promise(resolve => {\n    const scriptTag = document.createElement('script');\n    scriptTag.src = `${getBaseUrl()}${url}`;\n    scriptTag.onload = resolve;\n    document.getElementsByTagName(target)[0].appendChild(scriptTag);\n  });\n}\n\nexport async function getExtensionStart(key: string) {\n  const fromCache = getExtensionFromCache(key);\n  if (fromCache) {\n    return Promise.resolve(fromCache);\n  }\n\n  if (!librariesExposed) {\n    // Async import allows to reduce initial vendor bundle size\n    const exposeLibraries = (await import('../app/components/extensions/exposeLibraries')).default;\n    exposeLibraries();\n    librariesExposed = true;\n  }\n\n  await installScript(`/static/${key}.js`);\n\n  const start = getExtensionFromCache(key);\n  if (start) {\n    return start;\n  }\n  return Promise.reject();\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { memoize } from 'lodash';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { cleanQuery, parseAsOptionalString, serializeString } from 'sonar-ui-common/helpers/query';\nimport { decodeJwt } from 'sonar-ui-common/helpers/strings';\nimport { isBitbucket, isGithub } from '../../../helpers/almIntegrations';\n\nexport const ORGANIZATION_IMPORT_BINDING_IN_PROGRESS_TIMESTAMP =\n  'sonarcloud.import_org.binding_in_progress';\n\nexport const ORGANIZATION_IMPORT_REDIRECT_TO_PROJECT_TIMESTAMP =\n  'sonarcloud.import_org.redirect_to_projects';\n\nexport const BIND_ORGANIZATION_KEY = 'sonarcloud.bind_org.key';\n\nexport const BIND_ORGANIZATION_REDIRECT_TO_ORG_TIMESTAMP = 'sonarcloud.bind_org.redirect_to_org';\n\nexport enum Step {\n  OrganizationDetails,\n  Plan\n}\n\nexport function formatPrice(price?: number, noSign?: boolean) {\n  const priceFormatted = formatMeasure(price, 'FLOAT')\n    .replace(/[.|,]0$/, '')\n    .replace(/([.|,]\\d)$/, '$10');\n  return noSign ? priceFormatted : translateWithParameters('billing.price_format', priceFormatted);\n}\n\nexport interface Query {\n  almInstallId?: string;\n  almKey?: string;\n}\n\nexport const parseQuery = memoize(\n  (urlQuery: T.RawQuery = {}): Query => {\n    let almInstallId = undefined;\n    let almKey = undefined;\n\n    if (urlQuery['installation_id']) {\n      almKey = 'github';\n      almInstallId = parseAsOptionalString(urlQuery['installation_id']);\n    } else if (urlQuery['clientKey']) {\n      almKey = 'bitbucket';\n      almInstallId = parseAsOptionalString(urlQuery['clientKey']);\n    } else if (urlQuery['jwt']) {\n      const jwt = decodeJwt(urlQuery['jwt']);\n      if (jwt && jwt.iss) {\n        almKey = 'bitbucket';\n        almInstallId = jwt.iss;\n      }\n    }\n    return { almInstallId, almKey };\n  }\n);\n\nexport const serializeQuery = (query: Query): T.RawQuery =>\n  cleanQuery({\n    installation_id: isGithub(query.almKey) ? serializeString(query.almInstallId) : undefined,\n    clientKey: isBitbucket(query.almKey) ? serializeString(query.almInstallId) : undefined\n  });\n","var createAggregator = require('./_createAggregator');\n\n/**\n * Creates an array of elements split into two groups, the first of which\n * contains elements `predicate` returns truthy for, the second of which\n * contains elements `predicate` returns falsey for. The predicate is\n * invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the array of grouped elements.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': false },\n *   { 'user': 'fred',    'age': 40, 'active': true },\n *   { 'user': 'pebbles', 'age': 1,  'active': false }\n * ];\n *\n * _.partition(users, function(o) { return o.active; });\n * // => objects for [['fred'], ['barney', 'pebbles']]\n *\n * // The `_.matches` iteratee shorthand.\n * _.partition(users, { 'age': 1, 'active': false });\n * // => objects for [['pebbles'], ['barney', 'fred']]\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.partition(users, ['active', false]);\n * // => objects for [['barney', 'pebbles'], ['fred']]\n *\n * // The `_.property` iteratee shorthand.\n * _.partition(users, 'active');\n * // => objects for [['fred'], ['barney', 'pebbles']]\n */\nvar partition = createAggregator(function(result, value, key) {\n  result[key ? 0 : 1].push(value);\n}, function() { return [[], []]; });\n\nmodule.exports = partition;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { isLoggedIn } from './users';\n\nexport function isPaidOrganization(organization: T.Organization | undefined): boolean {\n  return Boolean(organization && organization.subscription === 'PAID');\n}\n\nexport function hasPrivateAccess(\n  currentUser: T.CurrentUser,\n  organization: T.Organization | undefined,\n  userOrganizations: T.Organization[]\n): boolean {\n  return (\n    !isPaidOrganization(organization) ||\n    isCurrentUserMemberOf(currentUser, organization, userOrganizations)\n  );\n}\n\nexport function isCurrentUserMemberOf(\n  currentUser: T.CurrentUser,\n  organization: T.Organization | undefined,\n  userOrganizations: T.Organization[]\n): boolean {\n  return Boolean(\n    organization &&\n      isLoggedIn(currentUser) &&\n      ((organization.actions && organization.actions.admin) ||\n        userOrganizations.some(org => org.key === organization.key))\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport handleRequiredAuthentication from 'sonar-ui-common/helpers/handleRequiredAuthentication';\nimport { isLoggedIn } from '../../helpers/users';\nimport { getWrappedDisplayName } from './utils';\nimport { withCurrentUser } from './withCurrentUser';\n\nexport function whenLoggedIn<P>(WrappedComponent: React.ComponentType<P>) {\n  class Wrapper extends React.Component<P & { currentUser: T.CurrentUser }> {\n    static displayName = getWrappedDisplayName(WrappedComponent, 'whenLoggedIn');\n\n    componentDidMount() {\n      if (!isLoggedIn(this.props.currentUser)) {\n        handleRequiredAuthentication();\n      }\n    }\n\n    render() {\n      if (isLoggedIn(this.props.currentUser)) {\n        return <WrappedComponent {...this.props} />;\n      } else {\n        return null;\n      }\n    }\n  }\n\n  return withCurrentUser(Wrapper);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport {\n  getCorsJSON,\n  getJSON,\n  post,\n  postJSON,\n  requestTryAndRepeatUntil\n} from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { AlmLanguagesStats } from '../apps/tutorials/analyzeProject/utils';\n\nexport function bindAlmOrganization(data: { installationId: string; organization: string }) {\n  return post('/api/alm_integration/bind_organization', data).catch(throwGlobalError);\n}\n\nexport function getAlmAppInfo(): Promise<{ application: T.AlmApplication }> {\n  return getJSON('/api/alm_integration/show_app_info').catch(throwGlobalError);\n}\n\nexport interface GetAlmOrganizationResponse {\n  almOrganization: T.AlmOrganization;\n  boundOrganization?: T.OrganizationBase;\n}\n\nexport function getAlmOrganization(data: {\n  installationId: string;\n}): Promise<GetAlmOrganizationResponse> {\n  return requestTryAndRepeatUntil(\n    () => getJSON('/api/alm_integration/show_organization', data),\n    { max: 25, slowThreshold: 20 },\n    () => true,\n    [404]\n  )\n    .catch(throwGlobalError)\n    .then(({ almOrganization, boundOrganization }) => ({\n      almOrganization: {\n        ...almOrganization,\n        name: almOrganization.name || almOrganization.key\n      },\n      boundOrganization\n    }));\n}\n\nexport function getRepositories(data: {\n  organization: string;\n}): Promise<{ repositories: T.AlmRepository[] }> {\n  return getJSON('/api/alm_integration/list_repositories', data).catch(throwGlobalError);\n}\n\nexport function listUnboundApplications(): Promise<T.AlmUnboundApplication[]> {\n  return getJSON('/api/alm_integration/list_unbound_applications').then(\n    ({ applications }) =>\n      applications.map((app: T.AlmUnboundApplication) => ({ ...app, name: app.name || app.key })),\n    throwGlobalError\n  );\n}\n\nexport function provisionProject(data: {\n  installationKeys: string[];\n  organization: string;\n}): Promise<{ projects: Array<{ projectKey: string }> }> {\n  return postJSON('/api/alm_integration/provision_projects', {\n    ...data,\n    installationKeys: data.installationKeys.join(',')\n  }).catch(throwGlobalError);\n}\n\nexport function getGithubLanguages(url: string): Promise<AlmLanguagesStats> {\n  // We don't want to throwGlobalError\n  const apiUrl = url.replace('https://github.com/', 'https://api.github.com/repos/');\n  return getCorsJSON(`${apiUrl}/languages`);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport CheckIcon from 'sonar-ui-common/components/icons/CheckIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { colors } from '../../../app/theme';\n\nconst TRIAL_DURATION_DAYS = 14;\n\nexport default function UpgradeOrganizationAdvantages() {\n  return (\n    <ul className=\"note\">\n      <Advantage>{translate('billing.upgrade_box.unlimited_private_projects')}</Advantage>\n      <Advantage>{translate('billing.upgrade_box.strict_control_private_data')}</Advantage>\n      <Advantage>{translate('billing.upgrade_box.cancel_anytime')}</Advantage>\n      <Advantage>\n        <strong>\n          {translateWithParameters('billing.upgrade_box.free_trial_x', TRIAL_DURATION_DAYS)}\n        </strong>\n      </Advantage>\n    </ul>\n  );\n}\n\nexport function Advantage({ children }: { children: React.ReactNode }) {\n  return (\n    <li className=\"display-flex-center little-spacer-bottom\">\n      <CheckIcon className=\"spacer-right\" fill={colors.lightGreen} />\n      {children}\n    </li>\n  );\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar AlertErrorIcon_1 = require(\"../icons/AlertErrorIcon\");\nvar AlertSuccessIcon_1 = require(\"../icons/AlertSuccessIcon\");\nvar HelpTooltip_1 = require(\"./HelpTooltip\");\nfunction ValidationInput(props) {\n    var hasError = props.isInvalid && props.error !== undefined;\n    return (React.createElement(\"div\", { className: props.className },\n        React.createElement(\"label\", { htmlFor: props.id },\n            React.createElement(\"span\", { className: \"text-middle\" },\n                React.createElement(\"strong\", null, props.label),\n                props.required && React.createElement(\"em\", { className: \"mandatory\" }, \"*\")),\n            props.help && React.createElement(HelpTooltip_1.default, { className: \"spacer-left\", overlay: props.help })),\n        React.createElement(\"div\", { className: \"little-spacer-top spacer-bottom\" },\n            props.children,\n            props.isInvalid && React.createElement(AlertErrorIcon_1.default, { className: \"spacer-left text-middle\" }),\n            hasError && (React.createElement(\"span\", { className: \"little-spacer-left text-danger text-middle\" }, props.error)),\n            props.isValid && React.createElement(AlertSuccessIcon_1.default, { className: \"spacer-left text-middle\" })),\n        props.description && React.createElement(\"div\", { className: \"note abs-width-400\" }, props.description)));\n}\nexports.default = ValidationInput;\n//# sourceMappingURL=ValidationInput.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getSubscriptionPlans(): Promise<T.SubscriptionPlan[]> {\n  return getJSON('/api/billing/show_subscription_plans').then(\n    ({ subscriptionPlans }) => subscriptionPlans,\n    throwGlobalError\n  );\n}\n\nexport function giveDowngradeFeedback(data: {\n  organization: string;\n  feedback: string;\n  additionalFeedback?: string;\n}): Promise<void> {\n  return post('/api/billing/send_feedback', data);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { fetchMyOrganizations } from '../../apps/account/organizations/actions';\nimport { getMyOrganizations, Store } from '../../store/rootReducer';\nimport { getWrappedDisplayName } from './utils';\n\ninterface OwnProps {\n  fetchMyOrganizations: () => Promise<void>;\n  userOrganizations: T.Organization[];\n}\n\nexport function withUserOrganizations<P>(\n  WrappedComponent: React.ComponentType<P & Partial<OwnProps>>\n) {\n  class Wrapper extends React.Component<P & OwnProps> {\n    static displayName = getWrappedDisplayName(WrappedComponent, 'withUserOrganizations');\n\n    componentDidMount() {\n      this.props.fetchMyOrganizations();\n    }\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  }\n\n  const mapDispatchToProps = { fetchMyOrganizations: fetchMyOrganizations as any };\n\n  function mapStateToProps(state: Store) {\n    return { userOrganizations: getMyOrganizations(state) };\n  }\n\n  return connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(Wrapper);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface ChildrenProps {\n  onSubmit: React.FormEventHandler;\n  processingUpgrade: boolean;\n  renderFormFields: () => React.ReactNode;\n  renderNextCharge: (className?: string) => React.ReactNode;\n  renderRecap: () => React.ReactNode;\n  renderSubmitButton: (submitText?: string) => React.ReactNode;\n  renderSubmitGroup: (submitText?: string) => React.ReactNode;\n}\n\ninterface Props {\n  children: (props: ChildrenProps) => React.ReactNode;\n  initialCountry?: string;\n  currentUser: T.CurrentUser;\n  onCommit: () => void | Promise<void>;\n  onFailToUpgrade?: () => void;\n  organizationKey: string | (() => Promise<string>);\n  subscriptionPlans: T.SubscriptionPlan[];\n}\n\nexport default class BillingFormShim extends React.Component<Props> {\n  render() {\n    const { BillingForm } = (window as any).SonarBilling;\n    return <BillingForm {...this.props} />;\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar colors_1 = require(\"../../helpers/colors\");\nvar urls_1 = require(\"../../helpers/urls\");\nrequire(\"./IdentityProviderLink.css\");\nfunction IdentityProviderLink(_a) {\n    var backgroundColor = _a.backgroundColor, children = _a.children, className = _a.className, iconPath = _a.iconPath, name = _a.name, onClick = _a.onClick, small = _a.small, url = _a.url;\n    var size = small ? 14 : 20;\n    return (React.createElement(\"a\", { className: classNames('identity-provider-link', { 'dark-text': !colors_1.isDarkColor(backgroundColor), small: small }, className), href: url, onClick: onClick, style: { backgroundColor: backgroundColor } },\n        React.createElement(\"img\", { alt: name, height: size, src: urls_1.getBaseUrl() + iconPath, width: size }),\n        children));\n}\nexports.default = IdentityProviderLink;\n//# sourceMappingURL=IdentityProviderLink.js.map","\nvar content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./IdentityProviderLink.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./IdentityProviderLink.css\", function() {\n\t\tvar newContent = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./IdentityProviderLink.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"a.identity-provider-link{display:block;width:auto;line-height:22px;padding:8px 12px;border:1px solid rgba(0,0,0,.15);border-radius:2px;box-sizing:border-box;background-color:#236a97;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}a.identity-provider-link.small{line-height:14px;padding:4px 8px}a.identity-provider-link:focus,a.identity-provider-link:hover{box-shadow:inset 0 0 0 100px hsla(0,0%,100%,.1)}a.identity-provider-link.dark-text{color:#777}a.identity-provider-link.dark-text:focus,a.identity-provider-link.dark-text:hover{box-shadow:inset 0 0 0 100px rgba(0,0,0,.1)}a.identity-provider-link>img{padding-right:12px}a.identity-provider-link.small>img{padding-right:8px}a.identity-provider-link>span:before{content:\\\"\\\";opacity:.4;border-left:1px solid #b4b4b4;margin-right:12px}\", \"\"]);\n\n"],"sourceRoot":""}