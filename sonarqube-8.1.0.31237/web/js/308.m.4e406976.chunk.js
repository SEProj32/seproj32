(window.webpackJsonp=window.webpackJsonp||[]).push([[308],{1807:function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(324),a=n.n(o),i=n(5),s=n(349),l=n(343),c=n(332),u=n(446),p=n(576),f=n(339);function d(){return r.createElement("header",{className:"page-header"},r.createElement("div",{className:"page-title display-flex-center"},r.createElement("h1",null,Object(i.translate)("project_quality_profiles.page")),r.createElement(f.a,{className:"spacer-left",doc:Promise.resolve().then(n.bind(null,963))})),r.createElement("div",{className:"page-description"},Object(i.translate)("project_quality_profiles.page.description")))}var h=n(618),g=n.n(h),m=n(397),y=n.n(m),b=n(336),O=n.n(b);class v extends r.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={loading:!1},this.stopLoading=()=>{this.mounted&&this.setState({loading:!1})},this.handleChange=e=>{this.props.profile.key!==e.value&&(this.setState({loading:!0}),this.props.onChangeProfile(this.props.profile.key,e.value).then(this.stopLoading,this.stopLoading))},this.renderProfileName=e=>e.isDefault?r.createElement("span",null,r.createElement("strong",null,Object(i.translate)("default")),": ",e.label):r.createElement("span",null,e.label)}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}renderProfileSelect(){const e=this.props,t=e.profile,n=e.possibleProfiles.map(e=>({value:e.key,label:e.name,isDefault:e.isDefault}));return r.createElement(O.a,{clearable:!1,disabled:this.state.loading,onChange:this.handleChange,optionRenderer:this.renderProfileName,options:n,style:{width:300},value:t.key,valueRenderer:this.renderProfileName})}render(){const e=this.props.profile;return r.createElement("tr",{"data-key":e.language},r.createElement("td",{className:"thin nowrap"},e.languageName),r.createElement("td",{className:"thin nowrap"},this.renderProfileSelect()),r.createElement("td",null,this.state.loading&&r.createElement("i",{className:"spinner"})))}}function j(e){const t=y()(e.allProfiles,"language"),n=g()(e.profiles,"languageName").map(n=>r.createElement(v,{key:n.language,onChangeProfile:e.onChangeProfile,possibleProfiles:t[n.language],profile:n}));return r.createElement("div",{className:"boxed-group boxed-group-inner"},r.createElement("table",{className:"data zebra"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{className:"thin nowrap"},Object(i.translate)("language")),r.createElement("th",{className:"thin nowrap"},Object(i.translate)("quality_profile")),r.createElement("th",null,"Â "))),r.createElement("tbody",null,n)))}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"default",function(){return P});class P extends r.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={loading:!0},this.handleChangeProfile=(e,t)=>{const n=this.props.component,r=this.state,o=r.allProfiles,a=r.profiles,l=o&&o.find(t=>t.key===e),c=o&&o.find(e=>e.key===t);let p;return c&&(p=c.isDefault&&l?Object(s.m)(l,n.key):Object(s.d)(c,n.key)),p?p.then(()=>{if(this.mounted&&a&&c){const t=[...a.filter(t=>t.key!==e),c];this.setState({profiles:t}),Object(u.a)(Object(i.translateWithParameters)("project_quality_profile.successfully_updated",c.languageName))}}):Promise.resolve()}}componentDidMount(){this.mounted=!0,this.checkPermissions()?this.fetchProfiles():Object(p.a)()}componentWillUnmount(){this.mounted=!1}checkPermissions(){const e=this.props.component.configuration;return!!(e&&e.showQualityProfiles)}fetchProfiles(){const e=this.props.component,t=e.key,n=e.organization;Promise.all([Object(s.A)({organization:n}).then(e=>e.profiles),Object(s.A)({organization:n,project:t}).then(e=>e.profiles)]).then(e=>{let t=E(e,2),n=t[0],r=t[1];this.mounted&&this.setState({loading:!1,allProfiles:n,profiles:r})},()=>{this.mounted&&this.setState({loading:!1})})}render(){if(!this.checkPermissions())return null;const e=this.state,t=e.allProfiles,n=e.loading,o=e.profiles;return r.createElement("div",{className:"page page-limited"},r.createElement(c.a,{suggestions:"project_quality_profiles"}),r.createElement(a.a,{title:Object(i.translate)("project_quality_profiles.page")}),r.createElement(l.a,{anchor:"profiles_main"}),r.createElement(d,null),n?r.createElement("i",{className:"spinner"}):t&&o&&r.createElement(j,{allProfiles:t,onChangeProfile:this.handleChangeProfile,profiles:o}))}}},322:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(309),o=n(2),a=n(364),i=n(335);n(337);var s=n(315);t.default=function(e){var t=e.tagName,n=void 0===t?"div":t;return o.createElement(n,{className:r("help-tooltip",e.className)},o.createElement(s.default,{mouseLeaveDelay:.25,onShow:e.onShow,overlay:e.overlay,placement:e.placement},o.createElement("span",{className:"display-inline-flex-center"},e.children||o.createElement(i.ThemeConsumer,null,function(e){return o.createElement(a.default,{fill:e.colors.gray71,size:12})}))))}},332:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(2),o=n(350);function a(e){let t=e.suggestions;return r.createElement(o.a.Consumer,null,e=>{let n=e.addSuggestions,o=e.removeSuggestions;return r.createElement(i,{addSuggestions:n,removeSuggestions:o,suggestions:t})})}class i extends r.PureComponent{componentDidMount(){this.props.addSuggestions(this.props.suggestions)}componentDidUpdate(e){e.suggestions!==this.props.suggestions&&(this.props.removeSuggestions(this.props.suggestions),this.props.addSuggestions(e.suggestions))}componentWillUnmount(){this.props.removeSuggestions(this.props.suggestions)}render(){return null}}},337:function(e,t,n){var r=n(338);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(313)(r,o);r.locals&&(e.exports=r.locals)},338:function(e,t,n){(e.exports=n(312)(!1)).push([e.i,".help-tooltip{display:inline-flex;align-items:center;vertical-align:middle}.help-toolip-link{display:block;width:12px;height:12px;border:none}",""])},339:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(2),o=n(322),a=n.n(o),i=n(327),s=n(365);const l=Object(i.lazyLoad)(()=>Promise.all([n.e(7),n.e(345)]).then(n.bind(null,438)));class c extends r.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={open:!1},this.close=()=>{this.mounted&&this.setState({open:!1})}}componentDidMount(){this.mounted=!0,this.props.doc.then(e=>{let t=e.default;this.mounted&&this.setState({content:t})},()=>{}),document.addEventListener("scroll",this.close,!0)}componentWillUnmount(){this.mounted=!1,document.removeEventListener("scroll",this.close,!0)}render(){return this.state.content?r.createElement(a.a,{className:this.props.className,overlay:r.createElement("div",{className:"abs-width-300"},r.createElement(l,{childProps:this.props.overlayProps,className:"cut-margins",content:Object(s.filterContent)(this.state.content),isTooltip:!0}))},this.props.children):this.props.children||null}}},343:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(2),o=n(5),a=n(401);function i(e){return r.createElement(a.a.Consumer,null,t=>{let n=t.addA11ySkipLink,o=t.removeA11ySkipLink;return r.createElement(s,Object.assign({addA11ySkipLink:n,removeA11ySkipLink:o},e))})}class s extends r.PureComponent{constructor(){super(...arguments),this.getLink=()=>{const e=this.props,t=e.anchor,n=e.label;return{key:t,label:void 0===n?Object(o.translate)("skip_to_content"):n,weight:e.weight}}}componentDidMount(){this.props.addA11ySkipLink(this.getLink())}componentWillUnmount(){this.props.removeA11ySkipLink(this.getLink())}render(){const e=this.props.anchor;return r.createElement("span",{id:"a11y_target__".concat(e)})}}},349:function(e,t,n){"use strict";n.d(t,"A",function(){return u}),n.d(t,"s",function(){return p}),n.d(t,"j",function(){return f}),n.d(t,"y",function(){return d}),n.d(t,"r",function(){return h}),n.d(t,"q",function(){return g}),n.d(t,"C",function(){return m}),n.d(t,"x",function(){return y}),n.d(t,"i",function(){return b}),n.d(t,"l",function(){return O}),n.d(t,"g",function(){return v}),n.d(t,"t",function(){return j}),n.d(t,"u",function(){return E}),n.d(t,"o",function(){return P}),n.d(t,"n",function(){return _}),n.d(t,"p",function(){return q}),n.d(t,"h",function(){return S}),n.d(t,"d",function(){return w}),n.d(t,"m",function(){return k}),n.d(t,"B",function(){return N}),n.d(t,"z",function(){return x}),n.d(t,"c",function(){return z}),n.d(t,"w",function(){return C}),n.d(t,"b",function(){return L}),n.d(t,"v",function(){return J}),n.d(t,"e",function(){return A}),n.d(t,"f",function(){return D}),n.d(t,"a",function(){return M}),n.d(t,"k",function(){return U});var r=n(353),o=n.n(r),a=n(474),i=n(8),s=n(321);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(e){return Object(i.getJSON)("/api/qualityprofiles/search",e).catch(s.a)}function p(e){let t=e.compareToSonarWay,n=e.profile.key;return Object(i.getJSON)("/api/qualityprofiles/show",{compareToSonarWay:t,key:n})}function f(e){return Object(i.postJSON)("/api/qualityprofiles/create",e).catch(s.a)}function d(e){return Object(i.postJSON)("/api/qualityprofiles/restore",e).catch(s.a)}function h(e){return Object(i.getJSON)("/api/qualityprofiles/projects",e).catch(s.a)}function g(e){let t=e.language,n=e.name,r=e.organization;return Object(i.getJSON)("/api/qualityprofiles/inheritance",{language:t,qualityProfile:n,organization:r}).catch(s.a)}function m(e){let t=e.language,n=e.name,r=e.organization;return Object(i.post)("/api/qualityprofiles/set_default",{language:t,qualityProfile:n,organization:r})}function y(e,t){return Object(i.post)("/api/qualityprofiles/rename",{key:e,name:t}).catch(s.a)}function b(e,t){return Object(i.postJSON)("/api/qualityprofiles/copy",{fromKey:e,toName:t}).catch(s.a)}function O(e){let t=e.language,n=e.name,r=e.organization;return Object(i.post)("/api/qualityprofiles/delete",{language:t,qualityProfile:n,organization:r}).catch(s.a)}function v(e,t){let n=e.language,r=e.name,o=e.organization;return Object(i.post)("/api/qualityprofiles/change_parent",{language:n,qualityProfile:r,organization:o,parentQualityProfile:t?t.name:void 0}).catch(s.a)}function j(e){let t=e.language,n=e.name,r=e.organization;const o=Object.entries({language:t,qualityProfile:n,organization:r}).map(e=>{let t=c(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(encodeURIComponent(r))}).join("&");return"/api/qualityprofiles/backup?".concat(o)}function E(e,t){let n=e.key,r=t.language,o=t.name,a=t.organization;const i=Object.entries({exporterKey:n,language:r,qualityProfile:o,organization:a}).map(e=>{let t=c(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(encodeURIComponent(r))}).join("&");return"/api/qualityprofiles/export?".concat(i)}function P(){return Object(i.getJSON)("/api/qualityprofiles/importers").then(e=>e.importers,s.a)}function _(){return Object(i.getJSON)("/api/qualityprofiles/exporters").then(e=>e.exporters)}function q(e,t,n,r){let o=n.language,a=n.name,s=n.organization;return Object(i.getJSON)("/api/qualityprofiles/changelog",{since:e,to:t,language:o,qualityProfile:a,organization:s,p:r})}function S(e,t){return Object(i.getJSON)("/api/qualityprofiles/compare",{leftKey:e,rightKey:t})}function w(e,t){let n=e.language,r=e.name,o=e.organization;return Object(i.post)("/api/qualityprofiles/add_project",{language:n,qualityProfile:r,organization:o,project:t}).catch(s.a)}function k(e,t){let n=e.language,r=e.name,o=e.organization;return Object(i.post)("/api/qualityprofiles/remove_project",{language:n,qualityProfile:r,organization:o,project:t}).catch(s.a)}function N(e){return Object(i.getJSON)("/api/qualityprofiles/search_users",e).catch(s.a)}function x(e){return Object(i.getJSON)("/api/qualityprofiles/search_groups",e).catch(s.a)}function z(e){return Object(i.post)("/api/qualityprofiles/add_user",e).catch(s.a)}function C(e){return Object(i.post)("/api/qualityprofiles/remove_user",e).catch(s.a)}function L(e){return Object(i.post)("/api/qualityprofiles/add_group",e).catch(s.a)}function J(e){return Object(i.post)("/api/qualityprofiles/remove_group",e).catch(s.a)}function A(e){return Object(i.postJSON)("/api/qualityprofiles/activate_rules",e)}function D(e){return Object(i.postJSON)("/api/qualityprofiles/deactivate_rules",e)}function M(e){const t=e.params&&o()(e.params,(e,t)=>"".concat(t,"=").concat(Object(a.csvEscape)(e))).join(";");return Object(i.post)("/api/qualityprofiles/activate_rule",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){l(e,t,n[t])})}return e}({},e,{params:t})).catch(s.a)}function U(e){return Object(i.post)("/api/qualityprofiles/deactivate_rule",e).catch(s.a)}},353:function(e,t,n){var r=n(370),o=n(341),a=n(427),i=n(363);e.exports=function(e,t){return(i(e)?r:a)(e,o(t,3))}},365:function(e,t,n){"use strict";function r(e){let t,n;for(let r=0;r<e.length;r++){if("---"===e[r].trim()){if(void 0!==t){n=r;break}t=r}}return void 0!==n?{firstLine:t,lastLine:n}:void 0}function o(e){const t={};for(let n=0;n<e.length;n++){const r=e[n].split(":").map(e=>e.trim());2===r.length&&(t[r[0]]=r[1])}return t}function a(e,t){const n="\x3c!-- ".concat(t," --\x3e"),r="\x3c!-- /".concat(t," --\x3e");let o=e,a=o.indexOf(n),i=o.indexOf(r);for(;-1!==a&&-1!==i;)a=(o=o.substring(0,a)+o.substring(i+r.length)).indexOf(n),i=o.indexOf(r);return o}e.exports={getFrontMatter:function(e){const t=e.split("\n"),n=r(t);return n?o(t.slice(n.firstLine+1,n.lastLine)):{}},separateFrontMatter:function(e){const t=e.split("\n"),n=r(t);if(n){const e=o(t.slice(n.firstLine+1,n.lastLine)),r=t.slice(n.lastLine+1).join("\n");return{frontmatter:e,content:r}}return{frontmatter:{},content:e}},filterContent:function(e){const t="\x3c!-- \\/?(sonarqube|sonarcloud|static) --\x3e",r=n(22),o=r.isSonarCloud,i=r.getInstance,s=a(e.replace(/{instance}/gi,i()),"static");return(o()?a(s,"sonarqube"):a(s,"sonarcloud")).replace(new RegExp("^".concat(t,"(\n|\r|\r\n|$)"),"gm"),"").replace(new RegExp("".concat(t),"g"),"")}}},371:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),s=n(5),l=n(8),c=n(319);t.lazyLoadComponent=function(e,t){var n=i.lazy(function(){return l.requestTryAndRepeatUntil(e,{max:2,slowThreshold:2},function(){return!0})});function r(e){return i.createElement(u,null,i.createElement(i.Suspense,{fallback:null},i.createElement(n,a({},e))))}return r.displayName=t,r};var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hasError:!1},t}return o(t,e),t.getDerivedStateFromError=function(){return{hasError:!0}},t.prototype.render=function(){return this.state.hasError?i.createElement(c.Alert,{variant:"error"},s.translate("default_error_message")):this.props.children},t}(i.Component);t.LazyErrorBoundary=u},397:function(e,t,n){var r=n(464),o=n(400),a=Object.prototype.hasOwnProperty,i=o(function(e,t,n){a.call(e,n)?e[n].push(t):r(e,n,[t])});e.exports=i},446:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(382),o=n(391);function a(e){Object(o.default)().dispatch(r.b(e))}},474:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.csvEscape=function(e){return'"'+e.replace(/"/g,'\\"')+'"'}},576:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(33),o=n.n(r),a=n(546),i=n(391);function s(){const e=Object(i.default)(),t=o()(),n=window.location.pathname+window.location.search+window.location.hash;e.dispatch(Object(a.c)()),t.replace({pathname:"/sessions/new",query:{return_to:n}})}},963:function(e,t,n){"use strict";n.r(t),t.default="Projects assigned to a profile will always be analyzed with it for that language, regardless of which profile is the default. Quality Profile administrators may assign projects to a profile. Project administrators may also choose a non-default profile for each language.\n"}}]);
//# sourceMappingURL=308.m.4e406976.chunk.js.map