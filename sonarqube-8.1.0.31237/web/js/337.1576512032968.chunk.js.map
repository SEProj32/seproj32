{"version":3,"sources":["webpack:///./src/main/js/apps/account/notifications/NotificationsList.tsx","webpack:///./node_modules/lodash/uniqWith.js","webpack:///./src/main/js/components/hoc/withNotifications.tsx","webpack:///./src/main/js/api/notifications.ts","webpack:///./src/main/js/apps/overview/notifications/ProjectNotifications.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/Checkbox.js","webpack:///./node_modules/sonar-ui-common/components/controls/ModalButton.js","webpack:///./node_modules/sonar-ui-common/components/controls/Checkbox.css?d95d","webpack:///./node_modules/sonar-ui-common/components/controls/Checkbox.css"],"names":["NotificationsList","_super","__extends","prototype","isEnabled","type","channel","this","props","notifications","find","notification","handleCheck","checked","onAdd","onRemove","getDispatcherLabel","dispatcher","globalMessageKey","projectMessageKey","__spreadArrays","project","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_2__","apply","render","_this","_a","channels","checkboxId","types","react__WEBPACK_IMPORTED_MODULE_0__","map","key","className","sonar_ui_common_components_controls_Checkbox__WEBPACK_IMPORTED_MODULE_1___default","a","id","onCheck","baseUniq","__webpack_require__","module","exports","array","comparator","undefined","length","withNotifications","WrappedComponent","Wrapper","arguments","mounted","state","globalTypes","loading","perProjectTypes","fetchNotifications","Object","request","catch","throwGlobalError","then","response","setState","addNotificationToState","added","uniqWith_default","areNotificationsEqual","removeNotificationFromState","removed","filter","addNotification","data","removeNotification","b","componentDidMount","componentWillUnmount","index_js_exposed","__assign","displayName","utils","r","__webpack_exports__","d","ProjectNotifications","sonar_ui_common_components_controls_buttons__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_components_controls_Modal__WEBPACK_IMPORTED_MODULE_2__","sonar_ui_common_components_controls_Modal__WEBPACK_IMPORTED_MODULE_2___default","n","sonar_ui_common_components_controls_ModalButton__WEBPACK_IMPORTED_MODULE_3__","sonar_ui_common_components_controls_ModalButton__WEBPACK_IMPORTED_MODULE_3___default","sonar_ui_common_components_ui_Alert__WEBPACK_IMPORTED_MODULE_4__","sonar_ui_common_components_ui_DeferredSpinner__WEBPACK_IMPORTED_MODULE_5__","sonar_ui_common_components_ui_DeferredSpinner__WEBPACK_IMPORTED_MODULE_5___default","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_6__","_components_hoc_withNotifications__WEBPACK_IMPORTED_MODULE_7__","_account_notifications_NotificationsList__WEBPACK_IMPORTED_MODULE_8__","component","header","handleAddNotification","handleRemoveNotification","getCheckboxId","projectNotifications","modal","onClose","contentLabel","onRequestClose","variant","aria-label","onClick","data-test","extendStatics","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","defineProperty","value","classNames","React","DeferredSpinner_1","Checkbox","handleClick","event","preventDefault","currentTarget","blur","disabled","children","right","thirdState","title","icon-checkbox-checked","icon-checkbox-single","icon-checkbox-disabled","createElement","aria-checked","note","href","role","default","Boolean","defaultProps","PureComponent","ModalButton","handleButtonClick","handleFormSubmit","handleCloseModal","Fragment","onFormSubmit","content","i","options","hmr","transform","insertInto","locals","push"],"mappings":"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","file":"js/337.1576512032968.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport { hasMessage, translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  onAdd: (n: T.Notification) => void;\n  onRemove: (n: T.Notification) => void;\n  channels: string[];\n  checkboxId: (type: string, channel: string) => string;\n  project?: boolean;\n  types: string[];\n  notifications: T.Notification[];\n}\n\nexport default class NotificationsList extends React.PureComponent<Props> {\n  isEnabled(type: string, channel: string) {\n    return !!this.props.notifications.find(\n      notification => notification.type === type && notification.channel === channel\n    );\n  }\n\n  handleCheck(type: string, channel: string, checked: boolean) {\n    if (checked) {\n      this.props.onAdd({ type, channel });\n    } else {\n      this.props.onRemove({ type, channel });\n    }\n  }\n\n  getDispatcherLabel(dispatcher: string) {\n    const globalMessageKey = ['notification.dispatcher', dispatcher];\n    const projectMessageKey = [...globalMessageKey, 'project'];\n    const shouldUseProjectMessage = this.props.project && hasMessage(...projectMessageKey);\n    return shouldUseProjectMessage\n      ? translate(...projectMessageKey)\n      : translate(...globalMessageKey);\n  }\n\n  render() {\n    const { channels, checkboxId, types } = this.props;\n\n    return (\n      <tbody>\n        {types.map(type => (\n          <tr key={type}>\n            <td>{this.getDispatcherLabel(type)}</td>\n            {channels.map(channel => (\n              <td className=\"text-center\" key={channel}>\n                <Checkbox\n                  checked={this.isEnabled(type, channel)}\n                  id={checkboxId(type, channel)}\n                  onCheck={checked => this.handleCheck(type, channel, checked)}\n                />\n              </td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    );\n  }\n}\n","var baseUniq = require('./_baseUniq');\n\n/**\n * This method is like `_.uniq` except that it accepts `comparator` which\n * is invoked to compare elements of `array`. The order of result values is\n * determined by the order they occur in the array.The comparator is invoked\n * with two arguments: (arrVal, othVal).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n *\n * _.uniqWith(objects, _.isEqual);\n * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n */\nfunction uniqWith(array, comparator) {\n  comparator = typeof comparator == 'function' ? comparator : undefined;\n  return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n}\n\nmodule.exports = uniqWith;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniqWith } from 'lodash';\nimport * as React from 'react';\nimport { addNotification, getNotifications, removeNotification } from '../../api/notifications';\nimport { getWrappedDisplayName } from './utils';\n\ninterface State {\n  channels: string[];\n  globalTypes: string[];\n  loading: boolean;\n  notifications: T.Notification[];\n  perProjectTypes: string[];\n}\n\nexport interface WithNotificationsProps {\n  addNotification: (added: T.Notification) => void;\n  channels: string[];\n  globalTypes: string[];\n  loading: boolean;\n  notifications: T.Notification[];\n  perProjectTypes: string[];\n  removeNotification: (removed: T.Notification) => void;\n}\n\nexport function withNotifications<P>(\n  WrappedComponent: React.ComponentType<P & WithNotificationsProps>\n) {\n  class Wrapper extends React.Component<P, State> {\n    mounted = false;\n    static displayName = getWrappedDisplayName(WrappedComponent, 'withNotifications');\n\n    state: State = {\n      channels: [],\n      globalTypes: [],\n      loading: true,\n      notifications: [],\n      perProjectTypes: []\n    };\n\n    componentDidMount() {\n      this.mounted = true;\n      this.fetchNotifications();\n    }\n\n    componentWillUnmount() {\n      this.mounted = false;\n    }\n\n    fetchNotifications = () => {\n      getNotifications().then(\n        response => {\n          if (this.mounted) {\n            this.setState({\n              channels: response.channels,\n              globalTypes: response.globalTypes,\n              loading: false,\n              notifications: response.notifications,\n              perProjectTypes: response.perProjectTypes\n            });\n          }\n        },\n        () => {\n          if (this.mounted) {\n            this.setState({ loading: false });\n          }\n        }\n      );\n    };\n\n    addNotificationToState = (added: T.Notification) => {\n      this.setState(state => {\n        const notifications = uniqWith([...state.notifications, added], this.areNotificationsEqual);\n        return { notifications };\n      });\n    };\n\n    removeNotificationFromState = (removed: T.Notification) => {\n      this.setState(state => {\n        const notifications = state.notifications.filter(\n          notification => !this.areNotificationsEqual(notification, removed)\n        );\n        return { notifications };\n      });\n    };\n\n    addNotification = (added: T.Notification) => {\n      // optimistic update\n      this.addNotificationToState(added);\n\n      // recreate `data` to omit `projectName` and `organization` from `Notification`\n      const data = { channel: added.channel, project: added.project, type: added.type };\n      addNotification(data).catch(() => {\n        this.removeNotificationFromState(added);\n      });\n    };\n\n    removeNotification = (removed: T.Notification) => {\n      // optimistic update\n      this.removeNotificationFromState(removed);\n\n      // recreate `data` to omit `projectName` and `organization` from `Notification`\n      const data = { channel: removed.channel, project: removed.project, type: removed.type };\n      removeNotification(data).catch(() => {\n        this.addNotificationToState(removed);\n      });\n    };\n\n    areNotificationsEqual = (a: T.Notification, b: T.Notification) => {\n      return a.channel === b.channel && a.type === b.type && a.project === b.project;\n    };\n\n    render() {\n      const { channels, globalTypes, loading, notifications, perProjectTypes } = this.state;\n      return (\n        <WrappedComponent\n          {...this.props}\n          addNotification={this.addNotification}\n          channels={channels}\n          globalTypes={globalTypes}\n          loading={loading}\n          notifications={notifications}\n          perProjectTypes={perProjectTypes}\n          removeNotification={this.removeNotification}\n        />\n      );\n    }\n  }\n\n  return Wrapper;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getNotifications(): Promise<{\n  channels: string[];\n  globalTypes: string[];\n  notifications: T.Notification[];\n  perProjectTypes: string[];\n}> {\n  return getJSON('/api/notifications/list').catch(throwGlobalError);\n}\n\nexport function addNotification(data: { channel: string; type: string; project?: string }) {\n  return post('/api/notifications/add', data).catch(throwGlobalError);\n}\n\nexport function removeNotification(data: { channel: string; type: string; project?: string }) {\n  return post('/api/notifications/remove', data).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button, ResetButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport ModalButton from 'sonar-ui-common/components/controls/ModalButton';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport {\n  withNotifications,\n  WithNotificationsProps\n} from '../../../components/hoc/withNotifications';\nimport NotificationsList from '../../account/notifications/NotificationsList';\n\ninterface Props {\n  className?: string;\n  component: T.Component;\n}\n\nexport function ProjectNotifications(props: WithNotificationsProps & Props) {\n  const { channels, className, component, loading, notifications, perProjectTypes } = props;\n\n  const header = translate('my_account.notifications');\n\n  const handleAddNotification = ({ channel, type }: { channel: string; type: string }) => {\n    props.addNotification({ project: component.key, channel, type });\n  };\n\n  const handleRemoveNotification = ({ channel, type }: { channel: string; type: string }) => {\n    props.removeNotification({\n      project: component.key,\n      channel,\n      type\n    });\n  };\n\n  const getCheckboxId = (type: string, channel: string) => {\n    return `project-notification-${component.key}-${type}-${channel}`;\n  };\n\n  const projectNotifications = notifications.filter(n => n.project && n.project === component.key);\n\n  return (\n    <div className={className}>\n      <ModalButton\n        modal={({ onClose }) => (\n          <Modal contentLabel={header} onRequestClose={onClose}>\n            <header className=\"modal-head\">\n              <h2>{header}</h2>\n            </header>\n            <div className=\"modal-body\">\n              <Alert variant=\"info\">{translate('notification.dispatcher.information')}</Alert>\n\n              <DeferredSpinner loading={loading}>\n                <table className=\"data zebra notifications-table\">\n                  <thead>\n                    <tr>\n                      <th aria-label={translate('project')} />\n                      {channels.map(channel => (\n                        <th className=\"text-center\" key={channel}>\n                          <h4>{translate('notification.channel', channel)}</h4>\n                        </th>\n                      ))}\n                    </tr>\n                  </thead>\n\n                  <NotificationsList\n                    channels={channels}\n                    checkboxId={getCheckboxId}\n                    notifications={projectNotifications}\n                    onAdd={handleAddNotification}\n                    onRemove={handleRemoveNotification}\n                    project={true}\n                    types={perProjectTypes}\n                  />\n                </table>\n              </DeferredSpinner>\n            </div>\n            <footer className=\"modal-foot\">\n              <ResetButtonLink className=\"js-modal-close\" onClick={onClose}>\n                {translate('close')}\n              </ResetButtonLink>\n            </footer>\n          </Modal>\n        )}>\n        {({ onClick }) => (\n          <Button onClick={onClick}>\n            <span data-test=\"overview__edit-notifications\">\n              {translate('my_profile.per_project_notifications.edit')}\n            </span>\n          </Button>\n        )}\n      </ModalButton>\n    </div>\n  );\n}\n\nexport default withNotifications(ProjectNotifications);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar DeferredSpinner_1 = require(\"../ui/DeferredSpinner\");\nrequire(\"./Checkbox.css\");\nvar Checkbox = (function (_super) {\n    __extends(Checkbox, _super);\n    function Checkbox() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            event.preventDefault();\n            event.currentTarget.blur();\n            if (!_this.props.disabled) {\n                _this.props.onCheck(!_this.props.checked, _this.props.id);\n            }\n        };\n        return _this;\n    }\n    Checkbox.prototype.render = function () {\n        var _a = this.props, checked = _a.checked, children = _a.children, disabled = _a.disabled, id = _a.id, loading = _a.loading, right = _a.right, thirdState = _a.thirdState, title = _a.title;\n        var className = classNames('icon-checkbox', {\n            'icon-checkbox-checked': checked,\n            'icon-checkbox-single': thirdState,\n            'icon-checkbox-disabled': disabled\n        });\n        if (children) {\n            return (React.createElement(\"a\", { \"aria-checked\": checked, className: classNames('link-checkbox', this.props.className, {\n                    note: disabled,\n                    disabled: disabled\n                }), href: \"#\", id: id, onClick: this.handleClick, role: \"checkbox\", title: title },\n                right && children,\n                React.createElement(DeferredSpinner_1.default, { loading: Boolean(loading) },\n                    React.createElement(\"i\", { className: className })),\n                !right && children));\n        }\n        if (loading) {\n            return React.createElement(DeferredSpinner_1.default, null);\n        }\n        return (React.createElement(\"a\", { \"aria-checked\": checked, className: classNames(className, this.props.className), href: \"#\", id: id, onClick: this.handleClick, role: \"checkbox\", title: title }));\n    };\n    Checkbox.defaultProps = {\n        thirdState: false\n    };\n    return Checkbox;\n}(React.PureComponent));\nexports.default = Checkbox;\n//# sourceMappingURL=Checkbox.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar ModalButton = (function (_super) {\n    __extends(ModalButton, _super);\n    function ModalButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.mounted = false;\n        _this.state = { modal: false };\n        _this.handleButtonClick = function () {\n            _this.setState({ modal: true });\n        };\n        _this.handleFormSubmit = function (event) {\n            if (event) {\n                event.preventDefault();\n            }\n            _this.setState({ modal: true });\n        };\n        _this.handleCloseModal = function () {\n            if (_this.mounted) {\n                _this.setState({ modal: false });\n            }\n        };\n        return _this;\n    }\n    ModalButton.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    ModalButton.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    ModalButton.prototype.render = function () {\n        return (React.createElement(React.Fragment, null,\n            this.props.children({\n                onClick: this.handleButtonClick,\n                onFormSubmit: this.handleFormSubmit\n            }),\n            this.state.modal && this.props.modal({ onClose: this.handleCloseModal })));\n    };\n    return ModalButton;\n}(React.PureComponent));\nexports.default = ModalButton;\n//# sourceMappingURL=ModalButton.js.map","\nvar content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Checkbox.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Checkbox.css\", function() {\n\t\tvar newContent = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Checkbox.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".icon-checkbox{display:inline-block;line-height:1;vertical-align:top;padding:1px 2px;box-sizing:border-box}a.icon-checkbox{border-bottom:none}.icon-checkbox:focus{outline:none}.icon-checkbox:before{content:\\\" \\\";display:inline-block;width:10px;height:10px;border:1px solid #236a97;border-radius:2px;transition:border-color .2s ease,background-color .2s ease,background-image .2s ease,box-shadow .4s ease}.icon-checkbox:not(.icon-checkbox-disabled):focus:before,.link-checkbox:not(.disabled):focus:focus .icon-checkbox:before{box-shadow:0 0 0 3px rgba(35,106,151,.25)}.icon-checkbox-checked:before{background-color:#4b9fd5;background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 14 14' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' clip-rule='evenodd' stroke-linejoin='round' stroke-miterlimit='1.414'%3E%3Cpath d='M12 4.665c0 .172-.06.318-.18.438l-5.55 5.55c-.12.12-.266.18-.438.18s-.318-.06-.438-.18L2.18 7.438C2.06 7.317 2 7.17 2 7s.06-.318.18-.44l.878-.876c.12-.12.267-.18.44-.18.17 0 .317.06.437.18l1.897 1.903 4.233-4.24c.12-.12.266-.18.438-.18s.32.06.44.18l.876.88c.12.12.18.265.18.438z' fill='%23fff' fill-rule='nonzero'/%3E%3C/svg%3E\\\");border-color:#4b9fd5}.icon-checkbox-checked.icon-checkbox-single:before{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 14 14' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' clip-rule='evenodd' stroke-linejoin='round' stroke-miterlimit='1.414'%3E%3Cpath d='M10 4.698A.697.697 0 0 0 9.302 4H4.698A.697.697 0 0 0 4 4.698v4.604c0 .386.312.698.698.698h4.604A.697.697 0 0 0 10 9.302V4.698z' fill='%23fff'/%3E%3C/svg%3E\\\")}.icon-checkbox-disabled:before{border:1px solid #bbb;cursor:not-allowed}.icon-checkbox-disabled.icon-checkbox-checked:before{background-color:#bbb}.icon-checkbox-invisible{visibility:hidden}.link-checkbox{color:inherit;border-bottom:none}.link-checkbox.disabled,.link-checkbox.disabled:hover,.link-checkbox.disabled label{color:#777;cursor:not-allowed}.link-checkbox:active,.link-checkbox:focus,.link-checkbox:hover{color:inherit}\", \"\"]);\n\n"],"sourceRoot":""}