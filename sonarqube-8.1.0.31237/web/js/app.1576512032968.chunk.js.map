{"version":3,"sources":["webpack:///./src/main/js/helpers/issues.ts","webpack:///./src/main/js/app/components/OnboardingContext.tsx","webpack:///./src/main/js/components/ui/OrganizationLink.tsx","webpack:///./src/main/js/apps/settings/store/values.ts","webpack:///./src/main/js/apps/projects/components/AllProjectsContainer.tsx","webpack:///./src/main/js/helpers/editions.ts","webpack:///./src/main/js/app/components/RecentHistory.ts","webpack:///./src/main/js/apps/coding-rules/query.ts","webpack:///./src/main/js/apps/issues/components/AppContainer.tsx","webpack:///./src/main/js/apps/settings/store/settingsPage.ts","webpack:///./src/main/js/store/languages.ts","webpack:///./src/main/js/components/SourceViewer/helpers/getCoverageStatus.ts","webpack:///./src/main/js/apps/projects/query.ts","webpack:///./src/main/js/app/components/GlobalMessagesContainer.tsx","webpack:///./src/main/js/components/ui/OrganizationListItem.tsx","webpack:///./src/main/js/apps/settings/store/definitions.ts","webpack:///./src/main/js/store/branches.ts","webpack:///./src/main/js/store/metrics.ts","webpack:///./src/main/js/types/editions.ts","webpack:///./src/main/js/api/news.ts","webpack:///./src/main/js/app/components/search/utils.ts","webpack:///./src/main/js/api/marketplace.ts","webpack:///./src/main/js/components/workspace/styles.css?f0ba","webpack:///./src/main/js/components/workspace/styles.css","webpack:///./src/main/js/app/components/a11y/A11ySkipLinks.css?cabe","webpack:///./src/main/js/app/components/a11y/A11ySkipLinks.css","webpack:///./src/main/js/app/components/search/Search.css?062a","webpack:///./src/main/js/app/components/search/Search.css","webpack:///./src/main/js/app/components/nav/global/GlobalNav.css?7daf","webpack:///./src/main/js/app/components/nav/global/GlobalNav.css","webpack:///./src/main/js/components/common/OrganizationAvatar.css?3bb2","webpack:///./src/main/js/components/common/OrganizationAvatar.css","webpack:///./src/main/js/apps/about/routes.ts","webpack:///./src/main/js/apps/account/routes.ts","webpack:///./src/main/js/apps/background-tasks/routes.ts","webpack:///./src/main/js/apps/code/routes.ts","webpack:///./src/main/js/apps/coding-rules/routes.ts","webpack:///./src/main/js/apps/component-measures/routes.ts","webpack:///./src/main/js/apps/custom-measures/routes.ts","webpack:///./src/main/js/apps/custom-metrics/routes.ts","webpack:///./src/main/js/apps/documentation/routes.ts","webpack:///./src/main/js/apps/explore/Explore.tsx","webpack:///./src/main/js/apps/explore/ExploreIssues.tsx","webpack:///./src/main/js/apps/explore/ExploreProjects.tsx","webpack:///./src/main/js/apps/groups/routes.ts","webpack:///./src/main/js/apps/issues/IssuesPageSelector.tsx","webpack:///./src/main/js/apps/maintenance/routes.tsx","webpack:///./src/main/js/apps/marketplace/routes.ts","webpack:///./src/main/js/apps/quality-gates/routes.ts","webpack:///./src/main/js/apps/quality-profiles/routes.ts","webpack:///./src/main/js/apps/webhooks/routes.ts","webpack:///./src/main/js/apps/organizations/routes.ts","webpack:///./src/main/js/apps/overview/routes.ts","webpack:///./src/main/js/apps/permission-templates/routes.ts","webpack:///./src/main/js/apps/permissions/routes.ts","webpack:///./src/main/js/apps/portfolio/routes.ts","webpack:///./src/main/js/apps/projectActivity/routes.ts","webpack:///./src/main/js/apps/projectBaseline/routes.ts","webpack:///./src/main/js/apps/projectBranches/routes.ts","webpack:///./src/main/js/apps/projectQualityGate/routes.ts","webpack:///./src/main/js/apps/projectQualityProfiles/routes.ts","webpack:///./src/main/js/apps/projects/components/DefaultPageSelector.tsx","webpack:///./src/main/js/apps/projects/components/DefaultPageSelectorContainer.tsx","webpack:///./src/main/js/apps/projects/routes.ts","webpack:///./src/main/js/apps/projects/components/FavoriteProjectsContainer.tsx","webpack:///./src/main/js/apps/projectsManagement/routes.ts","webpack:///./src/main/js/apps/sessions/routes.ts","webpack:///./src/main/js/apps/settings/routes.ts","webpack:///./src/main/js/apps/system/routes.ts","webpack:///./src/main/js/apps/tutorials/routes.ts","webpack:///./src/main/js/apps/users/routes.ts","webpack:///./src/main/js/apps/web-api/routes.ts","webpack:///./src/main/js/app/components/App.tsx","webpack:///./src/main/js/app/components/MigrationContainer.tsx","webpack:///./src/main/js/app/utils/startReactApp.tsx","webpack:///./src/main/js/apps/settings/store/rootReducer.ts","webpack:///./src/main/js/store/rootReducer.ts","webpack:///./src/main/js/helpers/urls.ts","webpack:///./src/main/js/app/utils/throwGlobalError.ts","webpack:///./src/main/js/helpers/branch-like.ts","webpack:///./src/main/js/helpers/users.ts","webpack:///./src/main/js/app/theme.js","webpack:///./src/main/js/components/hoc/withRouter.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/SuggestionsContext.ts","webpack:///./src/main/js/api/components.ts","webpack:///./src/main/js/helpers/measures.ts","webpack:///./src/main/js/api/issues.ts","webpack:///./src/main/js/store/globalMessages.ts","webpack:///./src/main/js/components/hoc/utils.ts","webpack:///./src/main/js/app/utils/getStore.ts","webpack:///./src/main/js/store/utils/configureStore.ts","webpack:///./src/main/js/components/common/InstanceMessage.tsx","webpack:///./src/main/js/components/ui/Avatar.tsx","webpack:///./src/main/js/app/components/a11y/A11yContext.tsx","webpack:///./src/main/js/api/auth.ts","webpack:///./src/main/js/store/rootActions.ts","webpack:///./src/main/js/api/languages.ts","webpack:///./src/main/js/helpers/qualityGates.ts","webpack:///./src/main/js/api/organizations.ts","webpack:///./src/main/js/apps/issues/utils.ts","webpack:///./src/main/js/components/hoc/withCurrentUser.tsx","webpack:///./src/main/js/store/users.ts","webpack:///./src/main/js/api/users.ts","webpack:///./src/main/js/helpers/constants.ts","webpack:///./src/main/js/apps/quality-profiles/utils.ts","webpack:///./src/main/js/api/quality-gates.ts","webpack:///./src/main/js/app/components/GlobalFooterBranding.tsx","webpack:///./src/main/js/app/components/GlobalFooterSonarCloud.tsx","webpack:///./src/main/js/app/components/GlobalFooterContainer.tsx","webpack:///./src/main/js/app/components/GlobalFooter.tsx","webpack:///./src/main/js/apps/settings/utils.ts","webpack:///./src/main/js/store/appState.ts","webpack:///./src/main/js/apps/projects/utils.ts","webpack:///./src/main/js/api/measures.ts","webpack:///./src/main/js/components/common/OrganizationAvatar.tsx","webpack:///./src/main/js/store/organizations.ts","webpack:///./src/main/js/components/workspace/WorkspacePortal.tsx","webpack:///./src/main/js/components/workspace/Workspace.tsx","webpack:///./src/main/js/app/components/a11y/A11yProvider.tsx","webpack:///./src/main/js/app/components/a11y/A11ySkipLinks.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/SuggestionsProvider.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/EmbedDocsPopupHelper.tsx","webpack:///./src/main/js/app/components/search/Search.tsx","webpack:///./src/main/js/app/components/nav/global/GlobalNavBranding.tsx","webpack:///./src/main/js/app/components/nav/global/GlobalNavExplore.tsx","webpack:///./src/main/js/app/components/StartupModal.tsx","webpack:///./src/main/js/app/components/nav/global/GlobalNavMenu.tsx","webpack:///./src/main/js/app/components/nav/global/GlobalNavUser.tsx","webpack:///./src/main/js/app/components/nav/global/GlobalNavUserContainer.tsx","webpack:///./src/main/js/app/components/nav/global/GlobalNav.tsx","webpack:///./src/main/js/app/components/GlobalContainer.tsx","webpack:///./src/main/js/api/settings.ts","webpack:///./src/main/js/apps/account/organizations/actions.ts","webpack:///./src/main/js/api/metrics.ts","webpack:///./src/main/js/components/workspace/context.ts"],"names":["sortByType","issues","lodash_sortBy__WEBPACK_IMPORTED_MODULE_0___default","issue","_constants__WEBPACK_IMPORTED_MODULE_2__","indexOf","type","injectRelational","source","baseField","lookupField","newFields","baseValue","undefined","lookupValue_1","find","candidate","Object","keys","forEach","key","newKey","charAt","toUpperCase","slice","reverseLocations","locations","x","__spreadArrays","reverse","parseIssueFromResponse","components","users","rules","_a","parsedFlows","flows","filter","flow","map","location","textRange","component","__assign","componentName","name","every","length","secondaryLocations","lodash_flatten__WEBPACK_IMPORTED_MODULE_1___default","startLine","startOffset","splitFlows","comments","comment","commentWithAuthor","author","login","injectCommentsRelational","status","line","prepareClosed","endLine","endOffset","ensureTextRange","__webpack_require__","d","__webpack_exports__","OnboardingContext","react__WEBPACK_IMPORTED_MODULE_0__","OrganizationLink","props","children","organization","other","__rest","react_router__WEBPACK_IMPORTED_MODULE_1__","to","Actions","receiveValues","settings","getValue","state","global","redux__WEBPACK_IMPORTED_MODULE_1__","action","settingsByKey","lodash_keyBy__WEBPACK_IMPORTED_MODULE_0___default","_store_appState__WEBPACK_IMPORTED_MODULE_2__","SetAppState","settingsByKey_1","appState","value","react_redux__WEBPACK_IMPORTED_MODULE_0__","sonar_ui_common_components_lazyLoad__WEBPACK_IMPORTED_MODULE_1__","_store_rootReducer__WEBPACK_IMPORTED_MODULE_2__","currentUser","organizationsEnabled","Promise","all","e","then","bind","getEdition","getAllEditionsAbove","getEditionUrl","getEditionDownloadUrl","getEditionDownloadFilename","querystring__WEBPACK_IMPORTED_MODULE_0__","sonar_ui_common_helpers_request__WEBPACK_IMPORTED_MODULE_1__","_types_editions__WEBPACK_IMPORTED_MODULE_2__","EDITIONS","community","homeUrl","downloadProperty","developer","enterprise","datacenter","editionKey","currentEdition","editions","values","currentEditionIdx","findIndex","edition","data","url","query","lastUpgrade","downloadUrl","replace","sonar_ui_common_helpers_storage__WEBPACK_IMPORTED_MODULE_0__","RecentHistory","get","history","JSON","parse","set","newHistory","stringify","clear","add","componentKey","icon","sonarHistory","newEntry","entry","unshift","remove","parseQuery","serializeQuery","areQueriesEqual","shouldRequestFacet","getServerFacet","getAppFacet","getOpen","sonar_ui_common_helpers_query__WEBPACK_IMPORTED_MODULE_0__","activation","activationSeverities","active_severities","availableSince","available_since","compareToProfile","cwe","inheritance","parseAsInheritance","languages","owaspTop10","profile","qprofile","repositories","ruleKey","rule_key","sansTop25","searchQuery","q","severities","sonarsourceSecurity","statuses","tags","template","is_template","types","a","b","facet","includes","serverFacet","open","mapDispatchToProps","fetchIssues","requestOrganizations","dispatch","getState","_store_rootReducer__WEBPACK_IMPORTED_MODULE_8__","_api_issues__WEBPACK_IMPORTED_MODULE_3__","additionalFields","response","parsedIssues","_helpers_issues__WEBPACK_IMPORTED_MODULE_6__","organizationKeys","lodash_uniq__WEBPACK_IMPORTED_MODULE_0___default","_api_organizations__WEBPACK_IMPORTED_MODULE_4__","organizations","join","_store_organizations__WEBPACK_IMPORTED_MODULE_7__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_5__","resolve","fetchIssueOrganizations","catch","react_redux__WEBPACK_IMPORTED_MODULE_1__","userOrganizations","sonar_ui_common_components_lazyLoad__WEBPACK_IMPORTED_MODULE_2__","cancelChange","CancelChange","changeValue","ChangeValue","failValidation","message","FailValidation","passValidation","PassValidation","startLoading","StartLoading","stopLoading","StopLoading","getChangedValue","changedValues","getValidationMessage","validationMessages","isLoading","Boolean","loading","lodash_omit__WEBPACK_IMPORTED_MODULE_0___default","_b","receiveLanguages","getLanguages","getLanguageByKey","getCoverageStatus","s","lineHits","conditions","coveredConditions","parseUrlQuery","convertToFilter","hasFilterParams","hasVisualizationParams","_utils__WEBPACK_IMPORTED_MODULE_0__","urlQuery","gate","getAsLevel","reliability","getAsNumericRating","new_reliability","security","new_security","maintainability","new_maintainability","coverage","new_coverage","duplications","new_duplications","size","new_lines","getAsStringArray","search","getAsString","sort","view","visualization","getVisualization","isFavorite","push","mapPropertyToMetric","property","pushMetricToArray","convertCoverage","convertDuplications","convertSize","convertIssuesRating","convertArrayMetric","visualizationParams","some","isNaN","num","Number","split","metric","rating","analysis_date","conditionsArray","convertFunction","items","Array","isArray","sonar_ui_common_components_controls_GlobalMessages__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_components_controls_GlobalMessages__WEBPACK_IMPORTED_MODULE_1___default","n","_store_globalMessages__WEBPACK_IMPORTED_MODULE_2__","_store_rootReducer__WEBPACK_IMPORTED_MODULE_3__","closeGlobalMessage","messages","OrganizationListItem","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_1__","_common_OrganizationAvatar__WEBPACK_IMPORTED_MODULE_2__","_OrganizationLink__WEBPACK_IMPORTED_MODULE_3__","actions","className","small","admin","receiveDefinitions","definitions","ReceiveDefinitions","lodash_keyBy__WEBPACK_IMPORTED_MODULE_2___default","getDefinition","getAllDefinitions","getDefinitionsForCategory","category","definition","toLowerCase","getAllCategories","lodash_uniqBy__WEBPACK_IMPORTED_MODULE_0___default","getDefaultCategory","categories","_utils__WEBPACK_IMPORTED_MODULE_3__","lodash_sortBy__WEBPACK_IMPORTED_MODULE_1___default","registerBranchStatusAction","branchLike","ignoredConditions","RegisterBranchStatus","getBranchStatusByBranchLike","branchLikeKey","_helpers_branch_like__WEBPACK_IMPORTED_MODULE_0__","byComponent","receiveMetrics","metrics","getMetrics","byKey","getMetricsKey","getMetricByKey","f","EditionKey","fetchPrismicRefs","fetchPrismicNews","fetchPrismicFeatureNews","sonar_ui_common_helpers_request__WEBPACK_IMPORTED_MODULE_0__","PRISMIC_API_URL","master","refs","ref","id","reject","tag","access_token","accessToken","orderings","pageSize","ps","results","fetchLinks","page","p","results_per_page","total_results_size","news","result","notification","publicationDate","publication_date","features","body","feature","item","description","primary","readMore","read_more_link","paging","pageIndex","total","ORDER","sortQualifiers","qualifiers","qualifier","isValidLicense","showLicense","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","content","module","i","options","hmr","transform","insertInto","locals","exports","about_routes","indexRoute","lazyLoad","system","childRoutes","path","account_routes","background_tasks_routes","code_routes","coding_rules_routes","onEnter","nextState","hash","window","part","tokens","decodeURIComponent","parseHash","substr","normalizedQuery","coding_rules_query","pathname","component_measures_routes","routes_assign","params","domainName","graph","custom_metrics","metricKey","custom_measures_routes","custom_metrics_routes","routes_App","documentation_routes","Explore","index_js_exposed","ContextNavBar_default","height","app_theme","contextNavHeightRaw","l10n","NavBarTabs_default","react_router_es","activeClassName","resolved","ExploreIssues","AppContainer","ExploreIssues_assign","hideAuthorFacet","multiOrganizations","myIssues","ExploreProjects","AllProjectsContainer","ExploreProjects_assign","storageOptionsSuffix","groups_routes","IssuesPageSelector","withCurrentUser","maintenanceRoutes","setupRoutes","marketplace_routes","quality_gates_routes_App","quality_gates_routes","quality_profiles_routes","webhooks_routes","OrganizationContainer","organizations_routes","organizationKey","overview_routes","permission_templates_routes","globalPermissionsRoutes","projectPermissionsRoutes","portfolio_routes","projectActivity_routes","projectBaseline_routes","projectBranches_routes","projectQualityGate_routes","projectQualityProfiles_routes","DefaultPageSelector_DefaultPageSelector","_super","DefaultPageSelector","_this","apply","this","arguments","isFavoriteSet","storage","utils","isAllSet","__extends","prototype","componentDidMount","router","defineIfShouldBeRedirected","componentDidUpdate","prevProps","shouldBeRedirected","DefaultPageSelector_assign","shouldForceSorting","setState","r","render","components_DefaultPageSelector","withRouter","DefaultPageSelectorContainer","es","rootReducer","projects_routes","_","FavoriteProjectsContainer_assign","projectsManagement_routes","sessions_routes","settings_routes","system_routes","tutorials_routes","users_routes","web_api_routes","PageTracker","App_App","App","mounted","setScrollbarWidth","outer","document","createElement","style","visibility","width","msOverflowStyle","appendChild","widthNoScroll","offsetWidth","overflow","inner","widthWithScroll","parentNode","removeChild","setProperty","renderPreconnectLink","parser","href","gravatarServerUrl","hostname","origin","rel","App_extends","fetchLanguages","fetchMyOrganizations","componentWillUnmount","enableGravatar","rootActions","components_App","MigrationContainer","MigrationContainer_extends","return_to","handleUpdate","scrollTo","startReactApp","RouteWithChildRoutes","lang","el","getElementById","getHistory_default","store","getStore","react_dom_index_js_exposed","index_es","defaultLocale","locale","theme","onUpdate","from","components_MigrationContainer","GlobalContainer","redux","settingsPage","globalMessages","getAppState","rootReducer_getGlobalMessages","getCurrentUserSetting","getCurrentUser","getOrganizationByKey","getMyOrganizations","areThereCustomOrganizations","getGlobalSettingValue","getSettingsAppDefinition","getSettingsAppAllCategories","getSettingsAppDefaultCategory","getSettingsAppSettingsForCategory","getSettingsAppChangedValue","isSettingsAppLoading","getSettingsAppValidationMessage","branches","settingsApp","getSettingsForCategory","getProjectUrl","project","branch","getPortfolioUrl","getPortfolioAdminUrl","getComponentBackgroundTaskUrl","getBranchLikeUrl","_branch_like__WEBPACK_IMPORTED_MODULE_2__","getPullRequestUrl","getBranchUrl","pullRequest","getIssuesUrl","getComponentIssuesUrl","getComponentDrilldownUrl","selectionKey","treemapView","listView","selected","getComponentDrilldownUrlWithSelection","getMeasureTreemapUrl","getActivityUrl","getMeasureHistoryUrl","getComponentPermissionsUrl","getQualityProfileUrl","language","_apps_quality_profiles_utils__WEBPACK_IMPORTED_MODULE_1__","getQualityGateUrl","getQualityGatesUrl","encodeURIComponent","getRulesUrl","getDeprecatedActiveRulesUrl","getRuleUrl","rule","getMarkdownHelpUrl","sonar_ui_common_helpers_urls__WEBPACK_IMPORTED_MODULE_0__","getCodeUrl","getOrganizationUrl","getHomePageUrl","homepage","throwGlobalError","_store_globalMessages__WEBPACK_IMPORTED_MODULE_1__","_getStore__WEBPACK_IMPORTED_MODULE_2__","param","Response","console","warn","isBranch","isMain","isMainBranch","sortBranches","lodash_orderBy__WEBPACK_IMPORTED_MODULE_0___default","isPullRequest","sortPullRequests","pullRequests","pr","getPullRequestDisplayName","title","getBranchLikeDisplayName","getBranchLikeKey","isSameBranchLike","getBrancheLikesAsTree","branchLikes","mainBranch","parentlessPullRequests","isOrphan","base","orphanPullRequests","tree","branchTree","getPullRequests","mainBranchTree","getBranchLikeQuery","fillBranchLike","hasGlobalPermission","user","permission","permissions","isLoggedIn","isUserActive","active","colors","blue","veryLightBlue","lightBlue","darkBlue","veryDarkBlue","green","lightGreen","veryLightGreen","yellow","orange","red","purple","gray94","gray80","gray71","gray67","gray60","gray40","transparentWhite","transparentGray","disableGrayText","disableGrayBorder","disableGrayBg","barBackgroundColor","barBackgroundColorHighlight","barBorderColor","globalNavBarBg","baseFontColor","secondFontColor","mandatoryFieldColor","leakPrimaryColor","leakSecondaryColor","snippetFontColor","issueBgColor","hotspotBgColor","issueLocationSelected","issueLocationHighlighted","conciseIssueRed","conciseIssueRedSelected","lineCoverageRed","lineCoverageGreen","warningIconColor","alertBorderError","alertBackgroundError","alertTextError","alertIconError","alertBorderWarning","alertBackgroundWarning","alertTextWarning","alertIconWarning","alertBorderSuccess","alertBackgroundSuccess","alertTextSuccess","alertIconSuccess","alertBorderInfo","alertBackgroundInfo","alertTextInfo","alertIconInfo","azure","bitbucket","github","codeBackground","sonarcloudOrange500","sonarcloudOrange600","sonarcloudOrange700","sonarcloudBlack100","sonarcloudBlack200","sonarcloudBlack250","sonarcloudBlack300","sonarcloudBlack500","sonarcloudBlack700","sonarcloudBlack800","sonarcloudBlack900","sonarcloudBlue500","sonarcloudBlue600","sonarcloudBlue900","sonarcloudBorderGray","sizes","gridSize","grid","baseFontSize","verySmallFontSize","smallFontSize","mediumFontSize","bigFontSize","hugeFontSize","hugeControlHeight","largeControlHeight","controlHeight","smallControlHeight","tinyControlHeight","globalNavHeight","globalNavContentHeight","maxPageWidth","minPageWidth","pagePadding","rawSizes","globalNavHeightRaw","globalNavContentHeightRaw","fonts","baseFontFamily","systemFontFamily","sonarcloudFontFamily","zIndexes","aboveNormalZIndex","normalZIndex","belowNormalZIndex","pageMainZIndex","pageSideZIndex","tooltipZIndex","dropdownMenuZIndex","processContainerZIndex","modalZIndex","modalOverlayZIndex","popupZIndex","others","defaultShadow","react_router__WEBPACK_IMPORTED_MODULE_0__","WrappedComponent","SuggestionsContext","addSuggestions","removeSuggestions","suggestions","getComponents","parameters","bulkDeleteProjects","deleteProject","deletePortfolio","portfolio","createProject","searchProjectTags","setProjectTags","getComponentTree","strategy","additional","metricKeys","getChildren","getComponentLeaves","getComponent","getTree","getFiles","getDirectories","getComponentData","doesComponentExists","getComponentShow","getParents","ancestors","getBreadcrumbs","reversedAncestors","getMyProjects","searchProjects","changeKey","getSuggestions","recentlyBrowsed","more","getComponentForSourceViewer","getSources","sources","getDuplications","maintainabilityRatingGrid","localizeMetric","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_0__","getShortType","enhanceMeasuresWithMetrics","measures","measure","sonar_ui_common_helpers_types__WEBPACK_IMPORTED_MODULE_2__","getPeriodValue","periodIndex","periods","period","index","isPeriodBestValue","bestValue","isDiffMetric","getMaintainabilityRatingGrid","settingValue","numbers","default","parseFloat","getRatingTooltip","ratingLetter","sonar_ui_common_helpers_measures__WEBPACK_IMPORTED_MODULE_1__","finalMetricKey","maintainabilityGrid","maintainabilityRatingThreshold","Math","floor","getMaintainabilityRatingTooltip","getDisplayMetrics","hidden","findMeasure","searchIssues","getFacets","facets","getFacet","searchIssueTags","getIssueChangelog","addIssueComment","deleteIssueComment","editIssueComment","setIssueAssignee","setIssueSeverity","setIssueTags","setIssueTransition","setIssueType","bulkChangeIssues","issueKeys","searchIssueAuthors","authors","getIssueFlowSnippets","issueKey","k","reduce","lineMap","coverageStatus","_components_SourceViewer_helpers_getCoverageStatus__WEBPACK_IMPORTED_MODULE_2__","MessageLevel","closeAllGlobalMessages","addGlobalMessage","level","lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0___default","addGlobalMessageActionCreator","setTimeout","addGlobalErrorMessage","Error","addGlobalSuccessMessage","Success","getGlobalMessages","getWrappedDisplayName","hocName","displayName","middlewares","finalCreateStore","getStore_createStore","initialState","configureStore","store_appState","InstanceMessage","_helpers_system__WEBPACK_IMPORTED_MODULE_0__","transformedMessage","classnames__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","react_redux__WEBPACK_IMPORTED_MODULE_2__","sonar_ui_common_components_ui_GenericAvatar__WEBPACK_IMPORTED_MODULE_3__","sonar_ui_common_components_ui_GenericAvatar__WEBPACK_IMPORTED_MODULE_3___default","_store_rootReducer__WEBPACK_IMPORTED_MODULE_4__","Avatar","String","alt","src","A11yContext","addA11ySkipLink","removeA11ySkipLink","links","basicCheckStatus","request","store_languages","fetchMetrics","api_metrics","store_metrics","fetchOrganizations","api_organizations","store_organizations","rootActions_fetchOrganization","navigation","organizationWithPermissions","fetchBranchStatus","projectKey","quality_gates","branch_like","projectStatus","c","actual","actualValue","error","errorThreshold","op","comparator","extractStatusConditionsFromProjectStatus","doLogin","password","setMethod","setData","submit","auth_login","doLogout","requireAuthorization","returnTo","registerBranchStatus","getOrganizations","getOrganization","o","getOrganizationNavigation","createOrganization","updateOrganization","changes","deleteOrganization","searchMembers","addMember","removeMember","getOrganizationBilling","setOrganizationMemberSync","syncMembers","STANDARDS","areMyIssuesSelected","mapFacet","parseFacets","formatFacetStat","searchAssignees","isMySet","saveMyIssues","getLocations","getSelectedLocation","allLocationsEmpty","scrollToIssue","shouldOpenSeverityFacet","shouldOpenStandardsFacet","shouldOpenStandardsChildFacet","shouldOpenSonarSourceSecurityFacet","sonar_ui_common_helpers_measures__WEBPACK_IMPORTED_MODULE_0__","sonar_ui_common_helpers_query__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_helpers_scrolling__WEBPACK_IMPORTED_MODULE_2__","sonar_ui_common_helpers_storage__WEBPACK_IMPORTED_MODULE_3__","_api_users__WEBPACK_IMPORTED_MODULE_5__","STANDARD_TYPES","parseAsSort","assigned","assignees","createdAfter","createdAt","createdBefore","createdInLast","directories","files","fileUuids","modules","moduleUuids","projects","resolutions","sinceLeakPeriod","propertyMapping","val","count","finalProperty","stat","selectedFlowIndex","selectedLocationIndex","msg","smooth","element","querySelector","topOffset","bottomOffset","openFacets","isFilteredBySecurityIssueTypes","isOneStandardChildFacetOpen","standardType","Wrapper","receiveCurrentUser","ReceiveCurrentUser","skipOnboardingAction","SkipOnboardingAction","skipOnboarding","_api_users__WEBPACK_IMPORTED_MODULE_2__","setCurrentUserSettingAction","setting","SetCurrentUserSetting","setHomePage","SetHomePageAction","setHomePageAction","setCurrentUserSetting","oldSetting","_helpers_users__WEBPACK_IMPORTED_MODULE_3__","usersByLogin","userLogins","showOnboardingTutorial","changePassword","getUserGroups","getIdentityProviders","searchUsers","createUser","updateUser","scmAccount","deactivateUser","setUserSetting","SEVERITIES","ISSUE_TYPES","RULE_TYPES","RULE_STATUSES","RATING_COLORS","_app_theme__WEBPACK_IMPORTED_MODULE_0__","sortProfiles","profiles","sorted","putProfile","depth","parent","parentKey","childrenCount","child","isStagnant","rulesUpdatedAt","updateDate","sonar_ui_common_helpers_dates__WEBPACK_IMPORTED_MODULE_2__","date_fns_difference_in_years__WEBPACK_IMPORTED_MODULE_1__","Date","getProfilesPath","getProfilesForLanguagePath","getProfilePath","getProfileComparePath","withKey","assign","getProfileChangelogPath","since","fetchQualityGates","fetchQualityGate","createQualityGate","deleteQualityGate","renameQualityGate","copyQualityGate","setQualityGateAsDefault","createCondition","updateCondition","deleteCondition","getGateForProject","qualityGate","isDefault","associateGateWithProject","dissociateGateWithProject","getApplicationQualityGate","getQualityGateProjectStatus","GlobalFooterBranding","official","target","GlobalFooterSonarCloud","get_year","productionDatabase","sonarqubeEdition","sonarqubeVersion","version","hideLoggedInInfo","Alert","display","variant","DEFAULT_CATEGORY","sanitizeTranslation","html","dompurify__WEBPACK_IMPORTED_MODULE_0__","ALLOWED_TAGS","getPropertyName","getPropertyDescription","getCategoryName","getSubCategoryName","subCategory","getSubCategoryDescription","getUniqueName","indexSuffix","getSettingValue","fieldValues","isCategoryDefinition","multiValues","isEmptyValue","fields","getEmptyValue","value_1","field","isDefaultOrInherited","inherited","getDefaultValue","parentFieldValues","parentValue","parentValues","defaultValue","setAppState","setAdminPages","adminPages","SetAdminPages","RequireAuthorization","authenticationError","authorizationError","defaultOrganization","PROJECTS_DEFAULT_FILTER","PROJECTS_FAVORITE","PROJECTS_ALL","SORTING_METRICS","SORTING_LEAK_METRICS","class","SORTING_SWITCH","VIEWS","label","VISUALIZATIONS","PAGE_SIZE","PAGE_SIZE_VISUALIZATIONS","METRICS","LEAK_METRICS","METRICS_BY_VISUALIZATION","risk","FACETS","LEAK_FACETS","REVERSED_FACETS","localizeSorting","parseSorting","desc","sortValue","sortDesc","fetchProjects","defaultData","_query__WEBPACK_IMPORTED_MODULE_6__","asc","convertToSorting","convertToQueryData","defineFacets","_api_components__WEBPACK_IMPORTED_MODULE_2__","fetchProjectMeasures","fetchProjectOrganizations","getFacetsMap","componentMeasures","_helpers_measures__WEBPACK_IMPORTED_MODULE_5__","projectKeys","defineMetrics","_api_measures__WEBPACK_IMPORTED_MODULE_3__","analysisDate","reliability_rating","new_reliability_rating","security_rating","new_security_rating","sqale_rating","new_maintainability_rating","duplicated_lines_density","new_duplicated_lines_density","ncloc","alert_status","mapFacetValues","ONE_MINUTE","ONE_HOUR","ONE_DAY","ONE_MONTH","ONE_YEAR","formatDuration","ms","years","months","days","hours","lastId","format","getMeasures","getMeasuresAndMeta","getMeasuresForProjects","getCustomMeasures","customMeasures","createCustomMeasure","updateCustomMeasure","deleteCustomMeasure","OrganizationAvatar","imgLoadError","handleImgError","no-border","avatar","is-small","onError","sonar_ui_common_components_ui_GenericAvatar__WEBPACK_IMPORTED_MODULE_2___default","receiveOrganizations","receiveMyOrganizations","my","redux__WEBPACK_IMPORTED_MODULE_3__","onReceiveOrganizations","lodash_omit__WEBPACK_IMPORTED_MODULE_2___default","lodash_uniq__WEBPACK_IMPORTED_MODULE_1___default","lodash_without__WEBPACK_IMPORTED_MODULE_0___default","WorkspacePortal","call","classList","WORKSPACE","WorkspaceNav","WorkspaceRuleViewer","WorkspaceComponentViewer","MIN_HEIGHT","MAX_HEIGHT","INITIAL_HEIGHT","TYPE_KEY","Workspace","loadWorkspace","saveWorkspace","omit_default","openComponent","uniqBy_default","reopenComponent","openRule","reopenRule","closeComponent","closeRule","handleComponentLoad","details","key_1","name_1","qualifier_1","handleRuleLoad","key_2","name_2","collapse","maximize","maximized","minimize","resize","deltaY","minHeight","innerHeight","maxHeight","min","max","Workspace_extends","prevState","context","Provider","workspace_WorkspacePortal","onComponentClose","onComponentOpen","onRuleClose","onRuleOpen","onClose","onCollapse","onLoad","onMaximize","onMinimize","onResize","A11yProvider","link","A11yProvider_spreadArrays","A11yProvider_assign","weight","l","A11yProvider_extends","sortBy_default","A11ySkipLinks_A11ySkipLinks","Consumer","SuggestionsProvider","fetchSuggestions","jsonList","EmbedDocsSuggestions","SuggestionsProvider_spreadArrays","suggestion","scope","oldKey","SuggestionsProvider_extends","EmbedDocsPopup","EmbedDocsPopupHelper","helpOpen","onKeyPress","event","tagName","code","keyCode","which","toggleHelp","setHelpDisplay","handleClick","closeHelp","EmbedDocsPopupHelper_extends","addEventListener","removeEventListener","Toggler_default","onRequestClose","overlay","buttons","aria-expanded","aria-haspopup","onClick","HelpIcon_default","SearchResults","SearchResult","Search_Search","Search","focusInput","input","focus","handleClickOutside","closeSearch","handleFocus","documentElement","click","openSearch","blur","shortQuery","getPlainComponentsList","next","Search_spreadArrays","findFile","findInResults","file","test","api_components","results_1","more_1","group","Search_assign","list_1","keyBy_default","warning","searchMore","loadingMore","moreResults_1","handleQueryChange","selectPrevious","list","selectNext","openSelected","startsWith","urls","scrollToSelected","node","nodes","scrolling","handleKeyDown","preventDefault","handleSelect","innerRef","searchInputRef","renderResult","onSelect","renderNoResults","debounce_default","Search_extends","keymaster","componentWillUpdate","_prevProps","DeferredSpinner_default","SearchBox_default","autoFocus","minLength","onChange","onFocus","onKeyDown","placeholder","Dropdown","noPadding","allowMore","onMoreClick","ClockIcon_default","defaultMessage","shortcut","OutsideClickHandler_default","onClickOutside","components_search_Search","GlobalNavBranding","customLogoUrl","customLogoWidth","helpers_urls","SonarCloudNavBranding","global_GlobalNavBranding","GlobalNavExplore","ModalKey","GlobalNavMenu","renderGlobalPageLink","GlobalNavMenu_extends","renderProjects","classnames","renderPortfolios","renderIssuesLink","issues_utils","renderRulesLink","renderProfilesLink","renderQualityGatesLink","renderAdministrationLink","canAdmin","renderMore","globalPages","withoutPortfolios","Dropdown_default","onToggleClick","DropdownIcon_default","governanceInstalled","GlobalNavUser_GlobalNavUser","GlobalNavUser","handleLogin","handleLogout","GlobalNavUser_extends","renderAuthenticated","hasOrganizations","email","role","org","renderAnonymous","global_GlobalNavUser","GlobalNavUserContainer","GlobalNavPlus","NotificationsSidebar","NavLatestNotification","GlobalNav_GlobalNav","GlobalNav","loadingNews","loadingMoreNews","notificationSidebar","fetchFeatureNews","api_news","newsRef","newsPaging","fetchMoreFeatureNews","GlobalNav_spreadArrays","handleOpenNotificationSidebar","handleCloseNotificationSidebar","lastNews","readDate","dates","getTime","now","toString","GlobalNav_extends","NavBar_default","global_GlobalNavMenu","GlobalNav_assign","notificationsLastReadDate","notificationsOptOut","embed_docs_modal_EmbedDocsPopupHelper","data-test","openProjectOnboarding","store_users","nav_global_GlobalNav","OnboardingModal","LicensePromptModal","LICENSE_PROMPT","StartupModal_StartupModal","StartupModal","closeOnboarding","modal","license","closeLicense","openOnboarding","onboarding","tab","alm","tryAutoOpenLicense","hasLicenseManager","lastPrompt","difference_in_days","marketplace","isValidEdition","tryAutoOpenOnboarding","StartupModal_extends","onOpenProjectOnboarding","StartupModal_mapDispatchToProps","components_StartupModal","footer","GlobalFooterContainer","embed_docs_modal_SuggestionsProvider","a11y_A11yProvider","workspace_Workspace","GlobalMessagesContainer","getDefinitions","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_2__","getValues","setSettingValue","_apps_settings_utils__WEBPACK_IMPORTED_MODULE_3__","lodash_omitBy__WEBPACK_IMPORTED_MODULE_0___default","resetSettingValue","sendTestEmail","subject","checkSecretKey","generateSecretKey","encryptValue","fetchIfAnyoneCanCreateOrganizations","_api_organizations__WEBPACK_IMPORTED_MODULE_0__","_api_settings__WEBPACK_IMPORTED_MODULE_1__","_store_organizations__WEBPACK_IMPORTED_MODULE_2__","_settings_store_values__WEBPACK_IMPORTED_MODULE_3__","member","getAllMetrics","prev","concat","getMetricDomains","domains","getMetricTypes","createMetric","updateMetric","deleteMetric","WorkspaceContext"],"mappings":"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","file":"js/app.1576512032968.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { flatten, sortBy } from 'lodash';\nimport { ISSUE_TYPES } from './constants';\n\ninterface Comment {\n  login: string;\n  [x: string]: any;\n}\n\ninterface Rule {}\n\ninterface Component {\n  key: string;\n  name: string;\n}\n\ninterface IssueBase {\n  severity: string;\n  [x: string]: any;\n}\n\nexport interface RawIssue extends IssueBase {\n  assignee?: string;\n  author?: string;\n  comments?: Array<Comment>;\n  component: string;\n  flows?: Array<{\n    // `componentName` is not available in RawIssue\n    locations?: Array<T.Omit<T.FlowLocation, 'componentName'>>;\n  }>;\n  key: string;\n  line?: number;\n  project: string;\n  rule: string;\n  status: string;\n  subProject?: string;\n  textRange?: T.TextRange;\n}\n\nexport function sortByType(issues: T.Issue[]): T.Issue[] {\n  return sortBy(issues, issue => ISSUE_TYPES.indexOf(issue.type));\n}\n\nfunction injectRelational(\n  issue: T.Dict<any>,\n  source: any[] | undefined,\n  baseField: string,\n  lookupField: string\n) {\n  const newFields: T.Dict<any> = {};\n  const baseValue = issue[baseField];\n  if (baseValue !== undefined && source !== undefined) {\n    const lookupValue = source.find(candidate => candidate[lookupField] === baseValue);\n    if (lookupValue != null) {\n      Object.keys(lookupValue).forEach(key => {\n        const newKey = baseField + key.charAt(0).toUpperCase() + key.slice(1);\n        newFields[newKey] = lookupValue[key];\n      });\n    }\n  }\n  return newFields;\n}\n\nfunction injectCommentsRelational(issue: RawIssue, users?: T.UserBase[]) {\n  if (!issue.comments) {\n    return {};\n  }\n  const comments = issue.comments.map(comment => {\n    const commentWithAuthor = { ...comment, author: comment.login, login: undefined };\n    return {\n      ...commentWithAuthor,\n      ...injectRelational(commentWithAuthor, users, 'author', 'login')\n    };\n  });\n  return { comments };\n}\n\nfunction prepareClosed(\n  issue: RawIssue,\n  secondaryLocations: T.FlowLocation[],\n  flows: T.FlowLocation[][]\n) {\n  return issue.status === 'CLOSED'\n    ? { flows: [], line: undefined, textRange: undefined, secondaryLocations: [] }\n    : { flows, secondaryLocations };\n}\n\nfunction ensureTextRange(issue: RawIssue): { textRange?: T.TextRange } {\n  return issue.line && !issue.textRange\n    ? {\n        textRange: {\n          startLine: issue.line,\n          endLine: issue.line,\n          startOffset: 0,\n          endOffset: 999999\n        }\n      }\n    : {};\n}\n\nfunction reverseLocations(locations: T.FlowLocation[]): T.FlowLocation[] {\n  const x = [...locations];\n  x.reverse();\n  return x;\n}\n\nfunction splitFlows(\n  issue: RawIssue,\n  components: Component[] = []\n): { secondaryLocations: T.FlowLocation[]; flows: T.FlowLocation[][] } {\n  const parsedFlows: T.FlowLocation[][] = (issue.flows || [])\n    .filter(flow => flow.locations !== undefined)\n    .map(flow => flow.locations!.filter(location => location.textRange != null))\n    .map(flow =>\n      flow.map(location => {\n        const component = components.find(component => component.key === location.component);\n        return { ...location, componentName: component && component.name };\n      })\n    );\n\n  const onlySecondaryLocations = parsedFlows.every(flow => flow.length === 1);\n\n  return onlySecondaryLocations\n    ? { secondaryLocations: orderLocations(flatten(parsedFlows)), flows: [] }\n    : { secondaryLocations: [], flows: parsedFlows.map(reverseLocations) };\n}\n\nfunction orderLocations(locations: T.FlowLocation[]) {\n  return sortBy(\n    locations,\n    location => location.textRange && location.textRange.startLine,\n    location => location.textRange && location.textRange.startOffset\n  );\n}\n\nexport function parseIssueFromResponse(\n  issue: RawIssue,\n  components?: Component[],\n  users?: T.UserBase[],\n  rules?: Rule[]\n): T.Issue {\n  const { secondaryLocations, flows } = splitFlows(issue, components);\n  return {\n    ...issue,\n    ...injectRelational(issue, components, 'component', 'key'),\n    ...injectRelational(issue, components, 'project', 'key'),\n    ...injectRelational(issue, components, 'subProject', 'key'),\n    ...injectRelational(issue, rules, 'rule', 'key'),\n    ...injectRelational(issue, users, 'assignee', 'login'),\n    ...injectCommentsRelational(issue, users),\n    ...prepareClosed(issue, secondaryLocations, flows),\n    ...ensureTextRange(issue)\n  } as T.Issue;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { createContext } from 'react';\n\nexport type OnboardingContextShape = (organization?: T.Organization) => void;\n\nexport const OnboardingContext = createContext<OnboardingContextShape>(() => {});\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\n\ninterface Props {\n  children?: React.ReactNode;\n  organization: { key: string };\n  [x: string]: any;\n}\n\nexport default function OrganizationLink(props: Props) {\n  const { children, organization, ...other } = props;\n\n  return (\n    <Link to={`/organizations/${organization.key}`} {...other}>\n      {children}\n    </Link>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { keyBy } from 'lodash';\nimport { combineReducers } from 'redux';\nimport { Action as AppStateAction, Actions as AppStateActions } from '../../../store/appState';\nimport { ActionType } from '../../../store/utils/actions';\n\nenum Actions {\n  receiveValues = 'RECEIVE_VALUES'\n}\n\ntype Action = ActionType<typeof receiveValues, Actions.receiveValues>;\n\ntype SettingsState = T.Dict<T.SettingValue>;\n\nexport interface State {\n  components: T.Dict<SettingsState>;\n  global: SettingsState;\n}\n\nexport function receiveValues(\n  settings: Array<{ key: string; value?: string }>,\n  component?: string\n) {\n  return { type: Actions.receiveValues, settings, component };\n}\n\nfunction components(state: State['components'] = {}, action: Action) {\n  const { component: key } = action;\n  if (!key) {\n    return state;\n  }\n  if (action.type === Actions.receiveValues) {\n    const settingsByKey = keyBy(action.settings, 'key');\n    return { ...state, [key]: { ...(state[key] || {}), ...settingsByKey } };\n  }\n  return state;\n}\n\nfunction global(state: State['components'] = {}, action: Action | AppStateAction) {\n  if (action.type === Actions.receiveValues) {\n    if (action.component) {\n      return state;\n    }\n    const settingsByKey = keyBy(action.settings, 'key');\n    return { ...state, ...settingsByKey };\n  }\n  if (action.type === AppStateActions.SetAppState) {\n    const settingsByKey: SettingsState = {};\n    Object.keys(action.appState.settings).forEach(\n      key => (settingsByKey[key] = { key, value: action.appState.settings[key] })\n    );\n    return { ...state, ...settingsByKey };\n  }\n  return state;\n}\n\nexport default combineReducers({ components, global });\n\nexport function getValue(\n  state: State,\n  key: string,\n  component?: string\n): T.SettingValue | undefined {\n  if (component) {\n    return state.components[component] && state.components[component][key];\n  }\n  return state.global[key];\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport { areThereCustomOrganizations, getCurrentUser, Store } from '../../../store/rootReducer';\n\nconst stateToProps = (state: Store) => ({\n  currentUser: getCurrentUser(state),\n  organizationsEnabled: areThereCustomOrganizations(state)\n});\n\nexport default connect(stateToProps)(lazyLoad(() => import('./AllProjects')));\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { stringify } from 'querystring';\nimport { omitNil } from 'sonar-ui-common/helpers/request';\nimport { Edition, EditionKey } from '../types/editions';\nimport { SystemUpgrade } from '../types/system';\n\nconst EDITIONS: { [x in EditionKey]: Edition } = {\n  community: {\n    key: EditionKey.community,\n    name: 'Community Edition',\n    homeUrl: 'https://redirect.sonarsource.com/editions/community.html',\n    downloadProperty: 'downloadUrl'\n  },\n  developer: {\n    key: EditionKey.developer,\n    name: 'Developer Edition',\n    homeUrl: 'https://redirect.sonarsource.com/editions/developer.html',\n    downloadProperty: 'downloadDeveloperUrl'\n  },\n  enterprise: {\n    key: EditionKey.enterprise,\n    name: 'Enterprise Edition',\n    homeUrl: 'https://redirect.sonarsource.com/editions/enterprise.html',\n    downloadProperty: 'downloadEnterpriseUrl'\n  },\n  datacenter: {\n    key: EditionKey.datacenter,\n    name: 'Data Center Edition',\n    homeUrl: 'https://redirect.sonarsource.com/editions/datacenter.html',\n    downloadProperty: 'downloadDatacenterUrl'\n  }\n};\n\nexport function getEdition(editionKey: EditionKey) {\n  return EDITIONS[editionKey];\n}\n\nexport function getAllEditionsAbove(currentEdition?: EditionKey) {\n  const editions = Object.values(EDITIONS);\n  const currentEditionIdx = editions.findIndex(edition => edition.key === currentEdition);\n  return editions.slice(currentEditionIdx + 1);\n}\n\nexport function getEditionUrl(\n  edition: Edition,\n  data: { serverId?: string; ncloc?: number; sourceEdition?: EditionKey }\n) {\n  let url = edition.homeUrl;\n  const query = stringify(omitNil(data));\n  if (query) {\n    url += '?' + query;\n  }\n  return url;\n}\n\nexport function getEditionDownloadUrl(edition: Edition, lastUpgrade: SystemUpgrade) {\n  return lastUpgrade[edition.downloadProperty] || lastUpgrade.downloadUrl;\n}\n\nexport function getEditionDownloadFilename(url: string) {\n  return url.replace(/^.+\\/(sonarqube-[\\w\\-.]+\\.zip)$/, '$1');\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { get, remove, save } from 'sonar-ui-common/helpers/storage';\n\nconst RECENT_HISTORY = 'sonar_recent_history';\nconst HISTORY_LIMIT = 10;\n\nexport type History = Array<{\n  key: string;\n  name: string;\n  icon: string;\n  organization?: string;\n}>;\n\nexport default class RecentHistory {\n  static get(): History {\n    const history = get(RECENT_HISTORY);\n    if (history == null) {\n      return [];\n    } else {\n      try {\n        return JSON.parse(history);\n      } catch {\n        remove(RECENT_HISTORY);\n        return [];\n      }\n    }\n  }\n\n  static set(newHistory: History) {\n    save(RECENT_HISTORY, JSON.stringify(newHistory));\n  }\n\n  static clear() {\n    remove(RECENT_HISTORY);\n  }\n\n  static add(\n    componentKey: string,\n    componentName: string,\n    icon: string,\n    organization: string | undefined\n  ) {\n    const sonarHistory = RecentHistory.get();\n    const newEntry = { key: componentKey, name: componentName, icon, organization };\n    let newHistory = sonarHistory.filter(entry => entry.key !== newEntry.key);\n    newHistory.unshift(newEntry);\n    newHistory = newHistory.slice(0, HISTORY_LIMIT);\n    RecentHistory.set(newHistory);\n  }\n\n  static remove(componentKey: string) {\n    const history = RecentHistory.get();\n    const newHistory = history.filter(entry => entry.key !== componentKey);\n    RecentHistory.set(newHistory);\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport {\n  cleanQuery,\n  parseAsArray,\n  parseAsDate,\n  parseAsOptionalBoolean,\n  parseAsOptionalString,\n  parseAsString,\n  queriesEqual,\n  serializeDateShort,\n  serializeOptionalBoolean,\n  serializeString,\n  serializeStringArray\n} from 'sonar-ui-common/helpers/query';\n\nexport interface Query {\n  activation: boolean | undefined;\n  activationSeverities: string[];\n  availableSince: Date | undefined;\n  compareToProfile: string | undefined;\n  cwe: string[];\n  inheritance: T.RuleInheritance | undefined;\n  languages: string[];\n  owaspTop10: string[];\n  profile: string | undefined;\n  repositories: string[];\n  ruleKey: string | undefined;\n  sansTop25: string[];\n  searchQuery: string | undefined;\n  severities: string[];\n  sonarsourceSecurity: string[];\n  statuses: string[];\n  tags: string[];\n  template: boolean | undefined;\n  types: string[];\n}\n\nexport type FacetKey = keyof Query;\n\nexport interface Facet {\n  [value: string]: number;\n}\n\nexport type Facets = { [F in FacetKey]?: Facet };\n\nexport type OpenFacets = T.Dict<boolean>;\n\nexport interface Activation {\n  inherit: T.RuleInheritance;\n  severity: string;\n}\n\nexport interface Actives {\n  [rule: string]: {\n    [profile: string]: Activation;\n  };\n}\n\nexport function parseQuery(query: T.RawQuery): Query {\n  return {\n    activation: parseAsOptionalBoolean(query.activation),\n    activationSeverities: parseAsArray(query.active_severities, parseAsString),\n    availableSince: parseAsDate(query.available_since),\n    compareToProfile: parseAsOptionalString(query.compareToProfile),\n    cwe: parseAsArray(query.cwe, parseAsString),\n    inheritance: parseAsInheritance(query.inheritance),\n    languages: parseAsArray(query.languages, parseAsString),\n    owaspTop10: parseAsArray(query.owaspTop10, parseAsString),\n    profile: parseAsOptionalString(query.qprofile),\n    repositories: parseAsArray(query.repositories, parseAsString),\n    ruleKey: parseAsOptionalString(query.rule_key),\n    sansTop25: parseAsArray(query.sansTop25, parseAsString),\n    searchQuery: parseAsOptionalString(query.q),\n    severities: parseAsArray(query.severities, parseAsString),\n    sonarsourceSecurity: parseAsArray(query.sonarsourceSecurity, parseAsString),\n    statuses: parseAsArray(query.statuses, parseAsString),\n    tags: parseAsArray(query.tags, parseAsString),\n    template: parseAsOptionalBoolean(query.is_template),\n    types: parseAsArray(query.types, parseAsString)\n  };\n}\n\nexport function serializeQuery(query: Query): T.RawQuery {\n  return cleanQuery({\n    activation: serializeOptionalBoolean(query.activation),\n    active_severities: serializeStringArray(query.activationSeverities),\n    available_since: serializeDateShort(query.availableSince),\n    compareToProfile: serializeString(query.compareToProfile),\n    cwe: serializeStringArray(query.cwe),\n    inheritance: serializeInheritance(query.inheritance),\n    is_template: serializeOptionalBoolean(query.template),\n    languages: serializeStringArray(query.languages),\n    owaspTop10: serializeStringArray(query.owaspTop10),\n    q: serializeString(query.searchQuery),\n    qprofile: serializeString(query.profile),\n    repositories: serializeStringArray(query.repositories),\n    rule_key: serializeString(query.ruleKey),\n    sansTop25: serializeStringArray(query.sansTop25),\n    severities: serializeStringArray(query.severities),\n    sonarsourceSecurity: serializeStringArray(query.sonarsourceSecurity),\n    statuses: serializeStringArray(query.statuses),\n    tags: serializeStringArray(query.tags),\n    types: serializeStringArray(query.types)\n  });\n}\n\nexport function areQueriesEqual(a: T.RawQuery, b: T.RawQuery) {\n  return queriesEqual(parseQuery(a), parseQuery(b));\n}\n\nexport function shouldRequestFacet(facet: string): facet is FacetKey {\n  const facetsToRequest = [\n    'activationSeverities',\n    'cwe',\n    'languages',\n    'owaspTop10',\n    'repositories',\n    'sansTop25',\n    'severities',\n    'sonarsourceSecurity',\n    'standard',\n    'statuses',\n    'tags',\n    'types'\n  ];\n  return facetsToRequest.includes(facet);\n}\n\nexport function getServerFacet(facet: FacetKey) {\n  return facet === 'activationSeverities' ? 'active_severities' : facet;\n}\n\nexport function getAppFacet(serverFacet: string): FacetKey {\n  return serverFacet === 'active_severities' ? 'activationSeverities' : (serverFacet as FacetKey);\n}\n\nexport function getOpen(query: T.RawQuery) {\n  return query.open;\n}\n\nfunction parseAsInheritance(value?: string): T.RuleInheritance | undefined {\n  if (value === 'INHERITED' || value === 'NONE' || value === 'OVERRIDES') {\n    return value;\n  } else {\n    return undefined;\n  }\n}\n\nfunction serializeInheritance(value: T.RuleInheritance | undefined): string | undefined {\n  return value;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniq } from 'lodash';\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport { searchIssues } from '../../../api/issues';\nimport { getOrganizations } from '../../../api/organizations';\nimport throwGlobalError from '../../../app/utils/throwGlobalError';\nimport { parseIssueFromResponse } from '../../../helpers/issues';\nimport { receiveOrganizations } from '../../../store/organizations';\nimport {\n  areThereCustomOrganizations,\n  getCurrentUser,\n  getMyOrganizations,\n  Store\n} from '../../../store/rootReducer';\n\ninterface StateProps {\n  currentUser: T.CurrentUser;\n  userOrganizations: T.Organization[];\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  currentUser: getCurrentUser(state),\n  userOrganizations: getMyOrganizations(state)\n});\n\nconst fetchIssueOrganizations = (organizationKeys: string[]) => (dispatch: Dispatch) => {\n  if (!organizationKeys.length) {\n    return Promise.resolve();\n  }\n\n  return getOrganizations({ organizations: organizationKeys.join() }).then(\n    response => dispatch(receiveOrganizations(response.organizations)),\n    throwGlobalError\n  );\n};\n\nconst fetchIssues = (query: T.RawQuery, requestOrganizations = true) => (\n  // use `Function` to be able to do `dispatch(...).then(...)`\n  dispatch: Function,\n  getState: () => Store\n) => {\n  const organizationsEnabled = areThereCustomOrganizations(getState());\n  return searchIssues({ ...query, additionalFields: '_all' })\n    .then(response => {\n      const parsedIssues = response.issues.map(issue =>\n        parseIssueFromResponse(issue, response.components, response.users, response.rules)\n      );\n      return { ...response, issues: parsedIssues };\n    })\n    .then(response => {\n      const organizationKeys = uniq([\n        ...response.issues.map(issue => issue.organization),\n        ...(response.components || []).map(component => component.organization)\n      ]);\n      return organizationsEnabled && requestOrganizations\n        ? dispatch(fetchIssueOrganizations(organizationKeys)).then(() => response)\n        : response;\n    })\n    .catch(throwGlobalError);\n};\n\ninterface DispatchProps {\n  fetchIssues: (query: T.RawQuery, requestOrganizations?: boolean) => Promise<void>;\n}\n\n// have to type cast this, because of async action\nconst mapDispatchToProps = { fetchIssues: fetchIssues as any } as DispatchProps;\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(lazyLoad(() => import('./App'), 'IssuesAppContainer'));\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport { combineReducers } from 'redux';\nimport { ActionType } from '../../../store/utils/actions';\n\nconst enum Actions {\n  CancelChange = 'settingsPage/CANCEL_CHANGE',\n  ChangeValue = 'settingsPage/CHANGE_VALUE',\n  FailValidation = 'settingsPage/FAIL_VALIDATION',\n  PassValidation = 'settingsPage/PASS_VALIDATION',\n  StartLoading = 'settingsPage/START_LOADING',\n  StopLoading = 'settingsPage/STOP_LOADING'\n}\n\ntype Action =\n  | ActionType<typeof cancelChange, Actions.CancelChange>\n  | ActionType<typeof changeValue, Actions.ChangeValue>\n  | ActionType<typeof failValidation, Actions.FailValidation>\n  | ActionType<typeof passValidation, Actions.PassValidation>\n  | ActionType<typeof startLoading, Actions.StartLoading>\n  | ActionType<typeof stopLoading, Actions.StopLoading>;\n\nexport interface State {\n  changedValues: T.Dict<any>;\n  loading: T.Dict<boolean>;\n  validationMessages: T.Dict<string>;\n}\n\nexport function cancelChange(key: string) {\n  return { type: Actions.CancelChange, key };\n}\n\nexport function changeValue(key: string, value: any) {\n  return { type: Actions.ChangeValue, key, value };\n}\n\nfunction changedValues(state: State['changedValues'] = {}, action: Action) {\n  if (action.type === Actions.ChangeValue) {\n    return { ...state, [action.key]: action.value };\n  }\n  if (action.type === Actions.CancelChange) {\n    return omit(state, action.key);\n  }\n  return state;\n}\n\nexport function failValidation(key: string, message: string) {\n  return { type: Actions.FailValidation, key, message };\n}\n\nexport function passValidation(key: string) {\n  return { type: Actions.PassValidation, key };\n}\n\nfunction validationMessages(state: State['validationMessages'] = {}, action: Action) {\n  if (action.type === Actions.FailValidation) {\n    return { ...state, [action.key]: action.message };\n  }\n  if (action.type === Actions.PassValidation) {\n    return omit(state, action.key);\n  }\n  return state;\n}\n\nexport function startLoading(key: string) {\n  return { type: Actions.StartLoading, key };\n}\n\nexport function stopLoading(key: string) {\n  return { type: Actions.StopLoading, key };\n}\n\nfunction loading(state: State['loading'] = {}, action: Action) {\n  if (action.type === Actions.StartLoading) {\n    return { ...state, [action.key]: true };\n  }\n  if (action.type === Actions.StopLoading) {\n    return { ...state, [action.key]: false };\n  }\n  return state;\n}\n\nexport default combineReducers({ changedValues, loading, validationMessages });\n\nexport function getChangedValue(state: State, key: string) {\n  return state.changedValues[key];\n}\n\nexport function getValidationMessage(state: State, key: string): string | undefined {\n  return state.validationMessages[key];\n}\n\nexport function isLoading(state: State, key: string) {\n  return Boolean(state.loading[key]);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { keyBy } from 'lodash';\nimport { ActionType } from './utils/actions';\n\nexport function receiveLanguages(languages: Array<{ key: string; name: string }>) {\n  return { type: 'RECEIVE_LANGUAGES', languages };\n}\n\ntype Action = ActionType<typeof receiveLanguages, 'RECEIVE_LANGUAGES'>;\n\nexport default function(state: T.Languages = {}, action: Action): T.Languages {\n  if (action.type === 'RECEIVE_LANGUAGES') {\n    return keyBy(action.languages, 'key');\n  }\n\n  return state;\n}\n\nexport function getLanguages(state: T.Languages) {\n  return state;\n}\n\nexport function getLanguageByKey(state: T.Languages, key: string) {\n  return state[key];\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport default function getCoverageStatus(s: T.SourceLine): T.SourceLineCoverageStatus | undefined {\n  let status: T.SourceLineCoverageStatus | undefined;\n  if (s.lineHits != null && s.lineHits > 0) {\n    status = 'partially-covered';\n  }\n  if (s.lineHits != null && s.lineHits > 0 && s.conditions === s.coveredConditions) {\n    status = 'covered';\n  }\n  if (s.lineHits === 0 || s.coveredConditions === 0) {\n    status = 'uncovered';\n  }\n  return status;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { VISUALIZATIONS } from './utils';\n\ntype Level = 'ERROR' | 'WARN' | 'OK';\n\nexport interface Query {\n  gate?: Level;\n  reliability?: number;\n  new_reliability?: number;\n  security?: number;\n  new_security?: number;\n  maintainability?: number;\n  new_maintainability?: number;\n  coverage?: number;\n  new_coverage?: number;\n  duplications?: number;\n  new_duplications?: number;\n  size?: number;\n  new_lines?: number;\n  languages?: string[];\n  tags?: string[];\n  search?: string;\n  sort?: string;\n  view?: string;\n  visualization?: string;\n  [x: string]: string | number | string[] | undefined;\n}\n\nexport function parseUrlQuery(urlQuery: T.RawQuery): Query {\n  return {\n    gate: getAsLevel(urlQuery['gate']),\n    reliability: getAsNumericRating(urlQuery['reliability']),\n    new_reliability: getAsNumericRating(urlQuery['new_reliability']),\n    security: getAsNumericRating(urlQuery['security']),\n    new_security: getAsNumericRating(urlQuery['new_security']),\n    maintainability: getAsNumericRating(urlQuery['maintainability']),\n    new_maintainability: getAsNumericRating(urlQuery['new_maintainability']),\n    coverage: getAsNumericRating(urlQuery['coverage']),\n    new_coverage: getAsNumericRating(urlQuery['new_coverage']),\n    duplications: getAsNumericRating(urlQuery['duplications']),\n    new_duplications: getAsNumericRating(urlQuery['new_duplications']),\n    size: getAsNumericRating(urlQuery['size']),\n    new_lines: getAsNumericRating(urlQuery['new_lines']),\n    languages: getAsStringArray(urlQuery['languages']),\n    tags: getAsStringArray(urlQuery['tags']),\n    search: getAsString(urlQuery['search']),\n    sort: getAsString(urlQuery['sort']),\n    view: getView(urlQuery['view']),\n    visualization: getVisualization(urlQuery['visualization'])\n  };\n}\n\nexport function convertToFilter(query: Query, isFavorite: boolean): string {\n  const conditions: string[] = [];\n\n  if (isFavorite) {\n    conditions.push('isFavorite');\n  }\n\n  if (query['gate'] != null) {\n    conditions.push(mapPropertyToMetric('gate') + ' = ' + query['gate']);\n  }\n\n  ['coverage', 'new_coverage'].forEach(property =>\n    pushMetricToArray(query, property, conditions, convertCoverage)\n  );\n\n  ['duplications', 'new_duplications'].forEach(property =>\n    pushMetricToArray(query, property, conditions, convertDuplications)\n  );\n\n  ['size', 'new_lines'].forEach(property =>\n    pushMetricToArray(query, property, conditions, convertSize)\n  );\n\n  [\n    'reliability',\n    'security',\n    'maintainability',\n    'new_reliability',\n    'new_security',\n    'new_maintainability'\n  ].forEach(property => pushMetricToArray(query, property, conditions, convertIssuesRating));\n\n  ['languages', 'tags'].forEach(property =>\n    pushMetricToArray(query, property, conditions, convertArrayMetric)\n  );\n\n  if (query['search'] != null) {\n    conditions.push(`${mapPropertyToMetric('search')} = \"${query['search']}\"`);\n  }\n\n  return conditions.join(' and ');\n}\n\nconst visualizationParams = ['sort', 'view', 'visualization'];\n\nexport function hasFilterParams(query: Query) {\n  return Object.keys(query)\n    .filter(key => !visualizationParams.includes(key))\n    .some(key => query[key] !== undefined);\n}\n\nexport function hasVisualizationParams(query: Query) {\n  return Object.keys(query)\n    .filter(key => visualizationParams.includes(key))\n    .some(key => query[key] !== undefined);\n}\n\nfunction getAsNumericRating(value: any): number | undefined {\n  if (value === '' || value == null || isNaN(value)) {\n    return undefined;\n  }\n  const num = Number(value);\n  return num > 0 && num < 7 ? num : undefined;\n}\n\nfunction getAsLevel(value: any): Level | undefined {\n  if (value === 'ERROR' || value === 'WARN' || value === 'OK') {\n    return value;\n  }\n  return undefined;\n}\n\nfunction getAsString(value: any): string | undefined {\n  if (typeof value !== 'string' || !value) {\n    return undefined;\n  }\n  return value;\n}\n\nfunction getAsStringArray(value: any): string[] | undefined {\n  if (typeof value !== 'string' || !value) {\n    return undefined;\n  }\n  return value.split(',');\n}\n\nfunction getView(value: any): string | undefined {\n  return typeof value !== 'string' || value === 'overall' ? undefined : value;\n}\n\nfunction getVisualization(value: string): string | undefined {\n  return VISUALIZATIONS.includes(value) ? value : undefined;\n}\n\nfunction convertIssuesRating(metric: string, rating: number): string {\n  if (rating > 1 && rating < 5) {\n    return `${metric} >= ${rating}`;\n  } else {\n    return `${metric} = ${rating}`;\n  }\n}\n\nfunction convertCoverage(metric: string, coverage: number): string {\n  switch (coverage) {\n    case 1:\n      return metric + ' >= 80';\n    case 2:\n      return metric + ' < 80';\n    case 3:\n      return metric + ' < 70';\n    case 4:\n      return metric + ' < 50';\n    case 5:\n      return metric + ' < 30';\n    case 6:\n      return metric + '= NO_DATA';\n    default:\n      return '';\n  }\n}\n\nfunction convertDuplications(metric: string, duplications: number): string {\n  switch (duplications) {\n    case 1:\n      return metric + ' < 3';\n    case 2:\n      return metric + ' >= 3';\n    case 3:\n      return metric + ' >= 5';\n    case 4:\n      return metric + ' >= 10';\n    case 5:\n      return metric + ' >= 20';\n    case 6:\n      return metric + '= NO_DATA';\n    default:\n      return '';\n  }\n}\n\nfunction convertSize(metric: string, size: number): string {\n  switch (size) {\n    case 1:\n      return metric + ' < 1000';\n    case 2:\n      return metric + ' >= 1000';\n    case 3:\n      return metric + ' >= 10000';\n    case 4:\n      return metric + ' >= 100000';\n    case 5:\n      return metric + ' >= 500000';\n    default:\n      return '';\n  }\n}\n\nfunction mapPropertyToMetric(property?: string): string | undefined {\n  const map: T.Dict<string> = {\n    analysis_date: 'analysisDate',\n    reliability: 'reliability_rating',\n    new_reliability: 'new_reliability_rating',\n    security: 'security_rating',\n    new_security: 'new_security_rating',\n    maintainability: 'sqale_rating',\n    new_maintainability: 'new_maintainability_rating',\n    coverage: 'coverage',\n    new_coverage: 'new_coverage',\n    duplications: 'duplicated_lines_density',\n    new_duplications: 'new_duplicated_lines_density',\n    size: 'ncloc',\n    new_lines: 'new_lines',\n    gate: 'alert_status',\n    languages: 'languages',\n    tags: 'tags',\n    search: 'query'\n  };\n  return property && map[property];\n}\n\nfunction pushMetricToArray(\n  query: Query,\n  property: string,\n  conditionsArray: string[],\n  convertFunction: (metric: string, value: any) => string\n): void {\n  const metric = mapPropertyToMetric(property);\n  if (query[property] != null && metric) {\n    conditionsArray.push(convertFunction(metric, query[property]));\n  }\n}\n\nfunction convertArrayMetric(metric: string, items: string | string[]): string {\n  if (!Array.isArray(items) || items.length < 2) {\n    return metric + ' = ' + items;\n  }\n  return `${metric} IN (${items.join(', ')})`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport GlobalMessages from 'sonar-ui-common/components/controls/GlobalMessages';\nimport { closeGlobalMessage } from '../../store/globalMessages';\nimport { getGlobalMessages, Store } from '../../store/rootReducer';\n\nconst mapStateToProps = (state: Store) => ({\n  messages: getGlobalMessages(state)\n});\n\nconst mapDispatchToProps = { closeGlobalMessage };\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(GlobalMessages);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport OrganizationAvatar from '../common/OrganizationAvatar';\nimport OrganizationLink from './OrganizationLink';\n\ninterface Props {\n  organization: T.Organization;\n}\n\nexport default function OrganizationListItem({ organization }: Props) {\n  const { actions = {} } = organization;\n  return (\n    <li>\n      <OrganizationLink className=\"display-flex-center\" organization={organization}>\n        <div>\n          <OrganizationAvatar organization={organization} small={true} />\n          <span className=\"spacer-left\">{organization.name}</span>\n        </div>\n        {actions.admin && <span className=\"badge spacer-left\">{translate('admin')}</span>}\n      </OrganizationLink>\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { keyBy, sortBy, uniqBy } from 'lodash';\nimport { ActionType } from '../../../store/utils/actions';\nimport { DEFAULT_CATEGORY, getCategoryName } from '../utils';\n\nconst enum Actions {\n  ReceiveDefinitions = 'RECEIVE_DEFINITIONS'\n}\n\ntype Action = ActionType<typeof receiveDefinitions, Actions.ReceiveDefinitions>;\n\nexport type State = T.Dict<T.SettingCategoryDefinition>;\n\nexport function receiveDefinitions(definitions: T.SettingCategoryDefinition[]) {\n  return { type: Actions.ReceiveDefinitions, definitions };\n}\n\nexport default function components(state: State = {}, action: Action) {\n  if (action.type === Actions.ReceiveDefinitions) {\n    return keyBy(action.definitions, 'key');\n  }\n  return state;\n}\n\nexport function getDefinition(state: State, key: string) {\n  return state[key];\n}\n\nexport function getAllDefinitions(state: State) {\n  return Object.keys(state).map(key => state[key]);\n}\n\nexport function getDefinitionsForCategory(state: State, category: string) {\n  return getAllDefinitions(state).filter(\n    definition => definition.category.toLowerCase() === category.toLowerCase()\n  );\n}\n\nexport function getAllCategories(state: State) {\n  return uniqBy(getAllDefinitions(state).map(definition => definition.category), category =>\n    category.toLowerCase()\n  );\n}\n\nexport function getDefaultCategory(state: State) {\n  const categories = getAllCategories(state);\n  if (categories.includes(DEFAULT_CATEGORY)) {\n    return DEFAULT_CATEGORY;\n  } else {\n    const sortedCategories = sortBy(categories, category =>\n      getCategoryName(category).toLowerCase()\n    );\n    return sortedCategories[0];\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getBranchLikeKey } from '../helpers/branch-like';\nimport { BranchLike } from '../types/branch-like';\nimport { ActionType } from './utils/actions';\n\nexport interface BranchStatusData {\n  conditions?: T.QualityGateStatusCondition[];\n  ignoredConditions?: boolean;\n  status?: T.Status;\n}\n\nexport interface State {\n  byComponent: T.Dict<T.Dict<BranchStatusData>>;\n}\n\nconst enum Actions {\n  RegisterBranchStatus = 'REGISTER_BRANCH_STATUS'\n}\n\ntype Action = ActionType<typeof registerBranchStatusAction, Actions.RegisterBranchStatus>;\n\nexport function registerBranchStatusAction(\n  branchLike: BranchLike,\n  component: string,\n  status: T.Status,\n  conditions?: T.QualityGateStatusCondition[],\n  ignoredConditions?: boolean\n) {\n  return {\n    type: Actions.RegisterBranchStatus,\n    branchLike,\n    component,\n    conditions,\n    ignoredConditions,\n    status\n  };\n}\n\nexport default function(state: State = { byComponent: {} }, action: Action): State {\n  if (action.type === Actions.RegisterBranchStatus) {\n    const { component, conditions, branchLike, ignoredConditions, status } = action;\n    const branchLikeKey = getBranchLikeKey(branchLike);\n    return {\n      byComponent: {\n        ...state.byComponent,\n        [component]: {\n          ...(state.byComponent[component] || {}),\n          [branchLikeKey]: {\n            conditions,\n            ignoredConditions,\n            status\n          }\n        }\n      }\n    };\n  }\n\n  return state;\n}\n\nexport function getBranchStatusByBranchLike(\n  state: State,\n  component: string,\n  branchLike: BranchLike\n): BranchStatusData {\n  const branchLikeKey = getBranchLikeKey(branchLike);\n  return state.byComponent[component] && state.byComponent[component][branchLikeKey];\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { keyBy } from 'lodash';\nimport { combineReducers } from 'redux';\nimport { ActionType } from './utils/actions';\n\nexport function receiveMetrics(metrics: T.Metric[]) {\n  return { type: 'RECEIVE_METRICS', metrics };\n}\n\ntype Action = ActionType<typeof receiveMetrics, 'RECEIVE_METRICS'>;\n\nexport type State = { byKey: T.Dict<T.Metric>; keys: string[] };\n\nconst byKey = (state: State['byKey'] = {}, action: Action) => {\n  if (action.type === 'RECEIVE_METRICS') {\n    return keyBy(action.metrics, 'key');\n  }\n  return state;\n};\n\nconst keys = (state: State['keys'] = [], action: Action) => {\n  if (action.type === 'RECEIVE_METRICS') {\n    return action.metrics.map(f => f.key);\n  }\n\n  return state;\n};\n\nexport default combineReducers({ byKey, keys });\n\nexport function getMetrics(state: State) {\n  return state.byKey;\n}\n\nexport function getMetricsKey(state: State) {\n  return state.keys;\n}\n\nexport function getMetricByKey(state: State, key: string) {\n  return state.byKey[key];\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { SystemUpgradeDownloadUrls } from './system';\n\nexport enum EditionKey {\n  community = 'community',\n  developer = 'developer',\n  enterprise = 'enterprise',\n  datacenter = 'datacenter'\n}\n\nexport interface Edition {\n  downloadProperty: keyof SystemUpgradeDownloadUrls;\n  homeUrl: string;\n  key: EditionKey;\n  name: string;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getCorsJSON } from 'sonar-ui-common/helpers/request';\n\ninterface PrismicRef {\n  id: string;\n  ref: string;\n}\n\nexport interface PrismicNews {\n  data: { title: string };\n  last_publication_date: string;\n  uid: string;\n}\n\ninterface PrismicResponse {\n  page: number;\n  results: PrismicResult[];\n  results_per_page: number;\n  total_results_size: number;\n}\n\ninterface PrismicResult {\n  data: {\n    notification: string;\n    publication_date: string;\n    body: PrismicResultFeature[];\n  };\n}\n\ninterface PrismicResultFeature {\n  items: Array<{\n    category: {\n      data: {\n        color: string;\n        name: string;\n      };\n    };\n  }>;\n  primary: {\n    description: string;\n    read_more_link: {\n      url?: string;\n    };\n  };\n}\n\nexport interface PrismicFeatureNews {\n  notification: string;\n  publicationDate: string;\n  features: Array<{\n    categories: Array<{\n      color: string;\n      name: string;\n    }>;\n    description: string;\n    readMore?: string;\n  }>;\n}\n\nconst PRISMIC_API_URL = 'https://sonarsource.cdn.prismic.io/api/v2';\n\nexport function fetchPrismicRefs() {\n  return getCorsJSON(PRISMIC_API_URL).then((response: { refs: PrismicRef[] }) => {\n    const master = response && response.refs.find(ref => ref.id === 'master');\n    if (!master) {\n      return Promise.reject('No master ref found');\n    }\n    return Promise.resolve(master);\n  });\n}\n\nexport function fetchPrismicNews(data: {\n  accessToken: string;\n  ps?: number;\n  ref: string;\n  tag?: string;\n}) {\n  const q = ['[[at(document.type, \"blog_sonarsource_post\")]]'];\n  if (data.tag) {\n    q.push(`[[at(document.tags,[\"${data.tag}\"])]]`);\n  }\n  return getCorsJSON(PRISMIC_API_URL + '/documents/search', {\n    access_token: data.accessToken,\n    orderings: '[document.first_publication_date desc]',\n    pageSize: data.ps || 1,\n    q,\n    ref: data.ref\n  }).then(({ results }: { results: PrismicNews[] }) => results);\n}\n\nexport function fetchPrismicFeatureNews(data: {\n  accessToken: string;\n  p?: number;\n  ps?: number;\n  ref: string;\n}): Promise<{ news: PrismicFeatureNews[]; paging: T.Paging }> {\n  return getCorsJSON(PRISMIC_API_URL + '/documents/search', {\n    access_token: data.accessToken,\n    fetchLinks: 'sc_category.color,sc_category.name',\n    orderings: '[my.sc_product_news.publication_date desc]',\n    page: data.p || 1,\n    pageSize: data.ps || 1,\n    q: ['[[at(document.type, \"sc_product_news\")]]'],\n    ref: data.ref\n  }).then(({ page, results, results_per_page, total_results_size }: PrismicResponse) => ({\n    news: results.map(result => ({\n      notification: result.data.notification,\n      publicationDate: result.data.publication_date,\n      features: result.data.body.map(feature => ({\n        categories: feature.items.map(item => item.category.data).filter(Boolean),\n        description: feature.primary.description,\n        readMore: feature.primary.read_more_link.url\n      }))\n    })),\n    paging: {\n      pageIndex: page,\n      pageSize: results_per_page,\n      total: total_results_size\n    }\n  }));\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\n\nconst ORDER = ['DEV', 'VW', 'SVW', 'APP', 'TRK', 'BRC', 'FIL', 'UTS'];\n\nexport function sortQualifiers(qualifiers: string[]) {\n  return sortBy(qualifiers, qualifier => ORDER.indexOf(qualifier));\n}\n\nexport interface ComponentResult {\n  isFavorite?: boolean;\n  isRecentlyBrowsed?: boolean;\n  key: string;\n  match?: string;\n  name: string;\n  organization?: string;\n  project?: string;\n  qualifier: string;\n}\n\nexport interface Results {\n  [qualifier: string]: ComponentResult[];\n}\n\nexport interface More {\n  [qualifier: string]: number;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface License {\n  contactEmail: string;\n  edition: string;\n  expiresAt: string;\n  isExpired: boolean;\n  isOfficialDistribution: boolean;\n  isSupported: boolean;\n  isValidEdition: boolean;\n  isValidServerId: boolean;\n  loc: number;\n  maxLoc: number;\n  plugins: string[];\n  remainingLocThreshold: number;\n  serverId: string;\n  type: string;\n}\n\nexport function isValidLicense(): Promise<{ isValidLicense: boolean }> {\n  return getJSON('/api/editions/is_valid_license');\n}\n\nexport function showLicense(): Promise<License> {\n  return getJSON('/api/editions/show_license').catch((response: Response) => {\n    if (response && response.status === 404) {\n      return Promise.resolve(undefined);\n    }\n    return throwGlobalError(response);\n  });\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".workspace-nav{position:fixed;z-index:451;bottom:0;right:0;height:28px}.workspace-nav-list{float:right}.workspace-nav-item{position:relative;display:inline-flex;align-items:center;margin-right:8px}.workspace-nav-item-link{display:inline-flex;align-items:center;height:28px;padding:0 28px 0 8px;border:none;background-color:#404040;color:#fff;font-size:12px}.workspace-nav-item-link:focus,.workspace-nav-item-link:hover{color:#fff;opacity:.9}.workspace-nav-item-close{position:absolute;right:4px;top:4px}.workspace-viewer{position:fixed;z-index:450;bottom:0;left:0;right:0;box-sizing:border-box;background-color:#fff;box-shadow:0 -6px 12px rgba(0,0,0,.175)}.workspace-viewer-header{position:relative;height:30px;padding:3px 10px;box-sizing:border-box;background-color:#404040;color:#fff;font-weight:300}.workspace-viewer-name{float:left;line-height:24px;color:#fff;font-weight:400}.workspace-viewer-name i{margin-top:3px}.workspace-viewer-resize{position:absolute;top:3px;left:50%;width:30px;height:5px;margin-left:-15px;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iNSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEuNDE0Ij48cGF0aCBmaWxsPSIjNzc3IiBmaWxsLW9wYWNpdHk9Ii41IiBkPSJNMCAwaDJ2Mkgwek00IDBoMnYySDR6TTggMGgydjJIOHpNMTIgMGgydjJoLTJ6TTE2IDBoMnYyaC0yek0yMCAwaDJ2MmgtMnpNMjQgMGgydjJoLTJ6TTI4IDBoMnYyaC0yek0wIDNoMnYySDB6TTQgM2gydjJINHpNOCAzaDJ2Mkg4ek0xMiAzaDJ2MmgtMnpNMTYgM2gydjJoLTJ6TTIwIDNoMnYyaC0yek0yNCAzaDJ2MmgtMnpNMjggM2gydjJoLTJ6Ii8+PHBhdGggZmlsbD0iIzc3NyIgZmlsbC1vcGFjaXR5PSIuNSIgZD0iTTAgMGgydjJIMHpNNCAwaDJ2Mkg0ek04IDBoMnYySDh6TTEyIDBoMnYyaC0yek0xNiAwaDJ2MmgtMnpNMjAgMGgydjJoLTJ6TTI0IDBoMnYyaC0yek0yOCAwaDJ2MmgtMnoiLz48L3N2Zz4=);cursor:ns-resize}.workspace-viewer-actions{float:right}.workspace-viewer-actions a{color:inherit}.workspace-header-icon:focus path,.workspace-header-icon:hover path{color:#404040}.workspace-viewer-container{height:calc(40vh - 30px);min-height:100px;max-height:calc(95vh - 30px);padding:5px 10px;overflow-y:scroll;overflow-x:auto;box-sizing:border-box}.with-workspace .source-viewer{padding-bottom:40vh}.with-workspace .workspace-viewer .source-viewer{padding-bottom:0}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./A11ySkipLinks.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./A11ySkipLinks.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./A11ySkipLinks.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".a11y-skip-link{width:0;height:0;padding:8px;position:absolute;left:-9999px;top:-9999px;border:0;font-size:1rem;text-align:center;z-index:999}.a11y-skip-link:focus{width:auto;height:auto;left:6px;top:6px;color:#fff;background-color:#262626;text-decoration:underline}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./Search.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./Search.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./Search.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".navbar-search{position:relative;padding:8px 0}.navbar-search .search-box,.navbar-search .search-box-input{width:26vw;max-width:310px;min-width:260px;height:32px}.navbar-search .search-box-input{border-color:#fff}.navbar-search .search-box-note{line-height:30px}.navbar-search .search-box-clear,.navbar-search .search-box-magnifier{top:8px}.navbar-search-input{vertical-align:middle;width:310px;margin-top:3px;margin-bottom:3px;padding-left:26px!important}.navbar-search-input-hint{position:absolute;top:1px;right:27px;line-height:24px;font-size:12px;color:#777}.navbar-search-icon{position:relative;z-index:3;vertical-align:middle;width:16px;margin-left:4px;margin-right:-20px;background-color:#fff;color:#777}.navbar-search-icon:before{font-size:14px}.navbar-search-item-link{display:flex!important}.navbar-search-item-match{flex-grow:5;overflow:hidden;text-overflow:ellipsis}.navbar-search-item-right{flex-grow:1;padding-left:10px;text-align:right}.navbar-search-item-icons{position:relative;flex-shrink:0;width:16px;height:16px}.navbar-search-item-icons>*{position:absolute;z-index:5;top:0;left:0}.navbar-search-item-icons>.icon-clock,.navbar-search-item-icons>.icon-outline{z-index:6;top:-4px;left:-5px}.navbar-search-no-results{margin-top:4px;padding:5px 10px}.global-navbar-search-dropdown{top:100%!important;max-height:80vh;width:440px;padding:0!important;overflow-y:auto;overflow-x:hidden}.global-navbar-search-dropdown .dropdown-bottom-hint{margin-bottom:0}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./GlobalNav.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./GlobalNav.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./GlobalNav.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".navbar-global,.navbar-global .navbar-inner{background-color:#262626;z-index:421}.navbar-global .navbar-limited{display:flex}.navbar-brand{display:flex;justify-content:center;align-items:center;height:48px;margin-left:-8px;padding-top:4px;padding-left:8px;padding-right:8px;border-bottom:4px solid transparent}.navbar-login{margin-right:-10px;white-space:nowrap}.navbar-avatar{margin-right:-8px;padding:8px!important;border:none!important}.navbar-icon{display:inline-block;height:48px;padding:16px 12px!important;border-bottom:none!important;color:#fff!important}.navbar-plus{margin-right:-8px}.global-navbar-menu{display:flex;align-items:center;height:48px}.global-navbar-menu>li>a{display:block;height:48px;padding:8px 10px;line-height:32px;border-bottom:4px solid transparent;box-sizing:border-box;color:#ccc;font-size:13px;letter-spacing:.05em;white-space:nowrap}.global-navbar-menu>.dropdown.open>a,.global-navbar-menu>li>a.active,.global-navbar-menu>li>a:focus,.global-navbar-menu>li>a:hover,.navbar-brand:focus,.navbar-brand:hover{background-color:#020202}.global-navbar-menu>li>a.active{border-bottom-color:#646464}.global-navbar-menu-right{flex:1;justify-content:flex-end;margin-left:40px}.global-navbar-menu-right .navbar-search{flex:0 1 240px;min-width:0}.global-navbar-menu-right .navbar-search .search-box,.global-navbar-menu-right .navbar-search .search-box-input{min-width:0;width:100%}@media print{.navbar-global{display:none!important}}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./OrganizationAvatar.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./OrganizationAvatar.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./OrganizationAvatar.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".navbar-context-avatar{display:inline-flex;vertical-align:top;justify-content:center;align-items:center;width:32px;height:32px;border:1px solid #e6e6e6}.navbar-context-avatar.no-border{border:none}.navbar-context-avatar.is-small{width:16px;height:16px}.navbar-context-avatar img{vertical-align:top;max-width:100%;max-height:100%}.navbar-context-avatar img,.navbar-context-avatar svg{transform:none}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport { isSonarCloud } from '../../helpers/system';\n\nconst routes = [\n  {\n    indexRoute: {\n      component: lazyLoad(() =>\n        isSonarCloud() ? import('./sonarcloud/Home') : import('./components/AboutApp')\n      )\n    },\n    childRoutes: isSonarCloud()\n      ? [\n          {\n            path: 'contact',\n            component: lazyLoad(() => import('./sonarcloud/Contact'))\n          },\n          {\n            path: 'pricing',\n            component: lazyLoad(() => import('./sonarcloud/Pricing'))\n          },\n          {\n            path: 'sq',\n            childRoutes: [\n              { indexRoute: { component: lazyLoad(() => import('./sonarcloud/SQHome')) } },\n              {\n                path: 'as-a-service',\n                component: lazyLoad(() => import('./sonarcloud/AsAService'))\n              },\n              {\n                path: 'branch-analysis-and-pr-decoration',\n                component: lazyLoad(() => import('./sonarcloud/BranchAnalysis'))\n              },\n              {\n                path: 'sonarlint-integration',\n                component: lazyLoad(() => import('./sonarcloud/SonarLintIntegration'))\n              },\n              {\n                path: 'vsts',\n                component: lazyLoad(() => import('./sonarcloud/AzureDevOps'))\n              }\n            ]\n          }\n        ]\n      : []\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    component: lazyLoad(() => import('./components/Account')),\n    childRoutes: [\n      {\n        indexRoute: { component: lazyLoad(() => import('./profile/Profile')) }\n      },\n      {\n        path: 'security',\n        component: lazyLoad(() => import('./components/Security'))\n      },\n      {\n        path: 'projects',\n        component: lazyLoad(() => import('./projects/ProjectsContainer'))\n      },\n      {\n        path: 'notifications',\n        component: lazyLoad(() => import('./notifications/Notifications'))\n      },\n      {\n        path: 'organizations',\n        component: lazyLoad(() => import('./organizations/UserOrganizations'))\n      }\n    ]\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/BackgroundTasksApp')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { RedirectFunction, RouterState } from 'react-router';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport { parseQuery, serializeQuery } from './query';\n\nfunction parseHash(hash: string): T.RawQuery {\n  const query: T.RawQuery = {};\n  const parts = hash.split('|');\n  parts.forEach(part => {\n    const tokens = part.split('=');\n    if (tokens.length === 2) {\n      query[decodeURIComponent(tokens[0])] = decodeURIComponent(tokens[1]);\n    }\n  });\n  return query;\n}\n\nconst routes = [\n  {\n    indexRoute: {\n      onEnter: (nextState: RouterState, replace: RedirectFunction) => {\n        const { hash } = window.location;\n        if (hash.length > 1) {\n          const query = parseHash(hash.substr(1));\n          const normalizedQuery = {\n            ...serializeQuery(parseQuery(query)),\n            open: query.open\n          };\n          replace({ pathname: nextState.location.pathname, query: normalizedQuery });\n        }\n      },\n      component: lazyLoad(() => import('./components/App'))\n    }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { RedirectFunction, RouterState } from 'react-router';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  },\n  {\n    path: 'domain/:domainName',\n    onEnter(nextState: RouterState, replace: RedirectFunction) {\n      replace({\n        pathname: '/component_measures',\n        query: {\n          ...nextState.location.query,\n          metric: nextState.params.domainName\n        }\n      });\n    }\n  },\n  {\n    path: 'metric/:metricKey(/:view)',\n    onEnter(nextState: RouterState, replace: RedirectFunction) {\n      if (nextState.params.view === 'history') {\n        replace({\n          pathname: '/project/activity',\n          query: {\n            id: nextState.location.query.id,\n            graph: 'custom',\n            custom_metrics: nextState.params.metricKey\n          }\n        });\n      } else {\n        replace({\n          pathname: '/component_measures',\n          query: {\n            ...nextState.location.query,\n            metric: nextState.params.metricKey,\n            view: nextState.params.view\n          }\n        });\n      }\n    }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst App = lazyLoad(() => import(/* webpackChunkName: \"docs\" */ './components/App'));\n\nconst routes = [{ indexRoute: { component: App } }, { path: '**', indexRoute: { component: App } }];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport ContextNavBar from 'sonar-ui-common/components/ui/ContextNavBar';\nimport NavBarTabs from 'sonar-ui-common/components/ui/NavBarTabs';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { rawSizes } from '../../app/theme';\n\ninterface Props {\n  children: JSX.Element;\n}\n\nexport default function Explore(props: Props) {\n  return (\n    <div id=\"explore\">\n      <ContextNavBar height={rawSizes.contextNavHeightRaw} id=\"explore-navigation\">\n        <header className=\"navbar-context-header\">\n          <h1>{translate('explore')}</h1>\n        </header>\n\n        <NavBarTabs>\n          <li>\n            <Link activeClassName=\"active\" to=\"/explore/projects\">\n              {translate('projects.page')}\n            </Link>\n          </li>\n          <li>\n            <Link\n              activeClassName=\"active\"\n              to={{ pathname: '/explore/issues', query: { resolved: 'false' } }}>\n              {translate('issues.page')}\n            </Link>\n          </li>\n        </NavBarTabs>\n      </ContextNavBar>\n\n      {props.children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport AppContainer from '../issues/components/AppContainer';\n\ninterface Props {\n  location: { pathname: string; query: T.RawQuery };\n}\n\nexport default function ExploreIssues(props: Props) {\n  return (\n    <AppContainer hideAuthorFacet={true} multiOrganizations={true} myIssues={false} {...props} />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport AllProjectsContainer from '../projects/components/AllProjectsContainer';\n\ninterface Props {\n  location: { pathname: string; query: T.RawQuery };\n}\n\nexport default function ExploreProjects(props: Props) {\n  return (\n    <AllProjectsContainer\n      isFavorite={false}\n      organization={undefined}\n      storageOptionsSuffix=\"explore\"\n      {...props}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { withCurrentUser } from '../../components/hoc/withCurrentUser';\nimport { Location } from '../../components/hoc/withRouter';\nimport { isSonarCloud } from '../../helpers/system';\nimport { isLoggedIn } from '../../helpers/users';\nimport AppContainer from './components/AppContainer';\n\nexport interface Props {\n  currentUser: T.CurrentUser;\n  location: Location;\n}\n\nexport function IssuesPage({ currentUser, location }: Props) {\n  const myIssues = (isLoggedIn(currentUser) && isSonarCloud()) || undefined;\n  return <AppContainer location={location} myIssues={myIssues} />;\n}\n\nexport default withCurrentUser(IssuesPage);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { IndexRoute } from 'react-router';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nexport const maintenanceRoutes = (\n  <IndexRoute component={lazyLoad(() => import('./components/MaintenanceAppContainer'))} />\n);\n\nexport const setupRoutes = (\n  <IndexRoute component={lazyLoad(() => import('./components/SetupAppContainer'))} />\n);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./AppContainer')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst App = lazyLoad(() => import('./components/App'));\n\nconst routes = [{ indexRoute: { component: App } }, { path: 'show/:id', component: App }];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    component: lazyLoad(() => import('./components/AppContainer')),\n    indexRoute: { component: lazyLoad(() => import('./home/HomeContainer')) },\n    childRoutes: [\n      {\n        component: lazyLoad(() => import('./components/ProfileContainer')),\n        childRoutes: [\n          {\n            path: 'show',\n            component: lazyLoad(() => import('./details/ProfileDetails'))\n          },\n          {\n            path: 'changelog',\n            component: lazyLoad(() => import('./changelog/ChangelogContainer'))\n          },\n          {\n            path: 'compare',\n            component: lazyLoad(() => import('./compare/ComparisonContainer'))\n          }\n        ]\n      }\n    ]\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { RedirectFunction, RouterState } from 'react-router';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport codingRulesRoutes from '../coding-rules/routes';\nimport qualityGatesRoutes from '../quality-gates/routes';\nimport qualityProfilesRoutes from '../quality-profiles/routes';\nimport webhooksRoutes from '../webhooks/routes';\n\nconst OrganizationContainer = lazyLoad(() => import('./components/OrganizationContainer'));\n\nconst routes = [\n  {\n    path: ':organizationKey',\n    component: lazyLoad(() => import('./components/OrganizationPage')),\n    childRoutes: [\n      {\n        indexRoute: {\n          onEnter(nextState: RouterState, replace: RedirectFunction) {\n            const { params } = nextState;\n            replace(`/organizations/${params.organizationKey}/projects`);\n          }\n        }\n      },\n      {\n        path: 'projects',\n        component: OrganizationContainer,\n        childRoutes: [\n          { indexRoute: { component: lazyLoad(() => import('./components/OrganizationProjects')) } }\n        ]\n      },\n      {\n        path: 'issues',\n        component: OrganizationContainer,\n        childRoutes: [\n          { indexRoute: { component: lazyLoad(() => import('../issues/components/AppContainer')) } }\n        ]\n      },\n      {\n        path: 'rules',\n        component: OrganizationContainer,\n        childRoutes: codingRulesRoutes\n      },\n      {\n        path: 'members',\n        component: lazyLoad(() => import('../organizationMembers/OrganizationMembersContainer'))\n      },\n      {\n        path: 'quality_profiles',\n        childRoutes: qualityProfilesRoutes\n      },\n      {\n        path: 'quality_gates',\n        component: OrganizationContainer,\n        childRoutes: qualityGatesRoutes\n      },\n      {\n        component: lazyLoad(() => import('./components/OrganizationAccessContainer')),\n        childRoutes: [\n          { path: 'edit', component: lazyLoad(() => import('./components/OrganizationEdit')) },\n          { path: 'groups', component: lazyLoad(() => import('../groups/components/App')) },\n          {\n            path: 'permissions',\n            component: lazyLoad(() => import('../permissions/global/components/App'))\n          },\n          {\n            path: 'permission_templates',\n            component: lazyLoad(() => import('../permission-templates/components/App'))\n          },\n          {\n            path: 'projects_management',\n            component: lazyLoad(() => import('../projectsManagement/AppContainer'))\n          },\n          { path: 'webhooks', childRoutes: webhooksRoutes },\n          {\n            path: 'extension/:pluginKey/:extensionKey',\n            component: lazyLoad(() =>\n              import('../../app/components/extensions/OrganizationPageExtension')\n            )\n          }\n        ]\n      }\n    ]\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nexport const globalPermissionsRoutes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./global/components/App')) }\n  }\n];\n\nexport const projectPermissionsRoutes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./project/components/AppContainer')) }\n  }\n];\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: {\n      component: lazyLoad(() => import('./components/ProjectActivityAppContainer'))\n    }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/AppContainer')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { get } from 'sonar-ui-common/helpers/storage';\nimport { searchProjects } from '../../../api/components';\nimport { Location, Router, withRouter } from '../../../components/hoc/withRouter';\nimport { isSonarCloud } from '../../../helpers/system';\nimport { isLoggedIn } from '../../../helpers/users';\nimport { PROJECTS_ALL, PROJECTS_DEFAULT_FILTER, PROJECTS_FAVORITE } from '../utils';\nimport AllProjectsContainer from './AllProjectsContainer';\n\ninterface Props {\n  currentUser: T.CurrentUser;\n  location: Pick<Location, 'pathname' | 'query'>;\n  router: Pick<Router, 'replace'>;\n}\n\ninterface State {\n  shouldBeRedirected?: boolean;\n  shouldForceSorting?: string;\n}\n\nexport class DefaultPageSelector extends React.PureComponent<Props, State> {\n  state: State = {};\n\n  componentDidMount() {\n    if (isSonarCloud() && !isLoggedIn(this.props.currentUser)) {\n      this.props.router.replace('/explore/projects');\n    }\n\n    if (!isSonarCloud()) {\n      this.defineIfShouldBeRedirected();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!isSonarCloud()) {\n      if (prevProps.location !== this.props.location) {\n        this.defineIfShouldBeRedirected();\n      } else if (this.state.shouldBeRedirected === true) {\n        this.props.router.replace({ ...this.props.location, pathname: '/projects/favorite' });\n      } else if (this.state.shouldForceSorting != null) {\n        this.props.router.replace({\n          ...this.props.location,\n          query: {\n            ...this.props.location.query,\n            sort: this.state.shouldForceSorting\n          }\n        });\n      }\n    }\n  }\n\n  isFavoriteSet = (): boolean => {\n    const setting = get(PROJECTS_DEFAULT_FILTER);\n    return setting === PROJECTS_FAVORITE;\n  };\n\n  isAllSet = (): boolean => {\n    const setting = get(PROJECTS_DEFAULT_FILTER);\n    return setting === PROJECTS_ALL;\n  };\n\n  defineIfShouldBeRedirected() {\n    if (Object.keys(this.props.location.query).length > 0) {\n      // show ALL projects when there are some filters\n      this.setState({ shouldBeRedirected: false, shouldForceSorting: undefined });\n    } else if (!isLoggedIn(this.props.currentUser)) {\n      // show ALL projects if user is anonymous\n      if (!this.props.location.query || !this.props.location.query.sort) {\n        // force default sorting to last analysis date\n        this.setState({ shouldBeRedirected: false, shouldForceSorting: '-analysis_date' });\n      } else {\n        this.setState({ shouldBeRedirected: false, shouldForceSorting: undefined });\n      }\n    } else if (this.isFavoriteSet()) {\n      // show FAVORITE projects if \"favorite\" setting is explicitly set\n      this.setState({ shouldBeRedirected: true, shouldForceSorting: undefined });\n    } else if (this.isAllSet()) {\n      // show ALL projects if \"all\" setting is explicitly set\n      this.setState({ shouldBeRedirected: false, shouldForceSorting: undefined });\n    } else {\n      // otherwise, request favorites\n      this.setState({ shouldBeRedirected: undefined, shouldForceSorting: undefined });\n      searchProjects({ filter: 'isFavorite', ps: 1 }).then(r => {\n        // show FAVORITE projects if there are any\n        this.setState({ shouldBeRedirected: r.paging.total > 0, shouldForceSorting: undefined });\n      });\n    }\n  }\n\n  render() {\n    if (isSonarCloud() && isLoggedIn(this.props.currentUser)) {\n      return (\n        <AllProjectsContainer\n          isFavorite={true}\n          location={this.props.location}\n          organization={undefined}\n        />\n      );\n    }\n\n    const { shouldBeRedirected, shouldForceSorting } = this.state;\n\n    if (\n      shouldBeRedirected !== undefined &&\n      shouldBeRedirected !== true &&\n      shouldForceSorting === undefined\n    ) {\n      return (\n        <AllProjectsContainer\n          isFavorite={false}\n          location={this.props.location}\n          organization={undefined}\n        />\n      );\n    }\n\n    return null;\n  }\n}\n\nexport default withRouter(DefaultPageSelector);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport { getCurrentUser, Store } from '../../../store/rootReducer';\nimport DefaultPageSelector from './DefaultPageSelector';\n\nconst stateToProps = (state: Store) => ({\n  currentUser: getCurrentUser(state)\n});\n\nexport default connect(stateToProps)(DefaultPageSelector);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { RedirectFunction, RouterState } from 'react-router';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport { save } from 'sonar-ui-common/helpers/storage';\nimport { isDefined } from 'sonar-ui-common/helpers/types';\nimport DefaultPageSelectorContainer from './components/DefaultPageSelectorContainer';\nimport FavoriteProjectsContainer from './components/FavoriteProjectsContainer';\nimport { PROJECTS_ALL, PROJECTS_DEFAULT_FILTER } from './utils';\n\nconst routes = [\n  { indexRoute: { component: DefaultPageSelectorContainer } },\n  {\n    path: 'all',\n    onEnter(_: RouterState, replace: RedirectFunction) {\n      save(PROJECTS_DEFAULT_FILTER, PROJECTS_ALL);\n      replace('/projects');\n    }\n  },\n  { path: 'favorite', component: FavoriteProjectsContainer },\n  {\n    path: 'create',\n    component: lazyLoad(() => import('../create/project/CreateProjectPage'))\n  }\n].filter(isDefined);\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport AllProjectsContainer from './AllProjectsContainer';\n\nexport default function FavoriteProjectsContainer(props: any) {\n  return <AllProjectsContainer isFavorite={true} {...props} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./AppContainer')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    path: 'new',\n    component: lazyLoad(() => import('./components/LoginContainer'))\n  },\n  {\n    path: 'logout',\n    component: lazyLoad(() => import('./components/Logout'))\n  },\n  {\n    path: 'unauthorized',\n    component: lazyLoad(() => import('./components/Unauthorized'))\n  },\n  {\n    path: 'email_already_exists',\n    component: lazyLoad(() => import('./components/EmailAlreadyExists'))\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/AppContainer')) }\n  },\n  {\n    path: 'encryption',\n    component: lazyLoad(() => import('./encryption/EncryptionApp'))\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport { isSonarCloud } from '../../helpers/system';\n\nconst routes = [\n  {\n    indexRoute: {\n      component: lazyLoad(() =>\n        isSonarCloud() ? import('./onboarding/OnboardingPage') : import('./ProjectOnboardingPage')\n      )\n    }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./UsersAppContainer')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/WebApiApp')) }\n  },\n  {\n    path: '**',\n    component: lazyLoad(() => import('./components/WebApiApp'))\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport { fetchMyOrganizations } from '../../apps/account/organizations/actions';\nimport { isSonarCloud } from '../../helpers/system';\nimport { isLoggedIn } from '../../helpers/users';\nimport { fetchLanguages } from '../../store/rootActions';\nimport { getAppState, getCurrentUser, getGlobalSettingValue, Store } from '../../store/rootReducer';\n\nconst PageTracker = lazyLoad(() => import('./PageTracker'));\n\ninterface StateProps {\n  appState: T.AppState | undefined;\n  currentUser: T.CurrentUser | undefined;\n  enableGravatar: boolean;\n  gravatarServerUrl: string;\n}\n\ninterface DispatchProps {\n  fetchLanguages: () => Promise<void>;\n  fetchMyOrganizations: () => Promise<void>;\n}\n\ninterface OwnProps {\n  children: JSX.Element;\n}\n\ntype Props = StateProps & DispatchProps & OwnProps;\n\nclass App extends React.PureComponent<Props> {\n  mounted = false;\n\n  componentDidMount() {\n    this.mounted = true;\n    this.props.fetchLanguages();\n    this.setScrollbarWidth();\n    const { appState, currentUser } = this.props;\n    if (appState && isSonarCloud() && currentUser && isLoggedIn(currentUser)) {\n      this.props.fetchMyOrganizations();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  setScrollbarWidth = () => {\n    // See https://stackoverflow.com/questions/13382516/getting-scroll-bar-width-using-javascript\n    const outer = document.createElement('div');\n    outer.style.visibility = 'hidden';\n    outer.style.width = '100px';\n    outer.style.msOverflowStyle = 'scrollbar';\n\n    document.body.appendChild(outer);\n\n    const widthNoScroll = outer.offsetWidth;\n    outer.style.overflow = 'scroll';\n\n    const inner = document.createElement('div');\n    inner.style.width = '100%';\n    outer.appendChild(inner);\n\n    const widthWithScroll = inner.offsetWidth;\n\n    if (outer.parentNode) {\n      outer.parentNode.removeChild(outer);\n    }\n\n    document.body.style.setProperty('--sbw', `${widthNoScroll - widthWithScroll}px`);\n  };\n\n  renderPreconnectLink = () => {\n    const parser = document.createElement('a');\n    parser.href = this.props.gravatarServerUrl;\n    if (parser.hostname !== window.location.hostname) {\n      return <link href={parser.origin} rel=\"preconnect\" />;\n    } else {\n      return null;\n    }\n  };\n\n  render() {\n    return (\n      <>\n        <PageTracker>{this.props.enableGravatar && this.renderPreconnectLink()}</PageTracker>\n        {this.props.children}\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store): StateProps => {\n  const enableGravatar = getGlobalSettingValue(state, 'sonar.lf.enableGravatar');\n  const gravatarServerUrl = getGlobalSettingValue(state, 'sonar.lf.gravatarServerUrl');\n  return {\n    appState: getAppState(state),\n    currentUser: getCurrentUser(state),\n    enableGravatar: Boolean(enableGravatar && enableGravatar.value === 'true'),\n    gravatarServerUrl: (gravatarServerUrl && gravatarServerUrl.value) || ''\n  };\n};\n\nconst mapDispatchToProps = ({\n  fetchLanguages,\n  fetchMyOrganizations\n} as any) as DispatchProps;\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { WithRouterProps } from 'react-router';\nimport { getSystemStatus } from '../../helpers/system';\n\nexport default class MigrationContainer extends React.PureComponent<WithRouterProps> {\n  componentDidMount() {\n    if (getSystemStatus() !== 'UP') {\n      this.props.router.push({\n        pathname: '/maintenance',\n        query: {\n          return_to: window.location.pathname + window.location.search + window.location.hash\n        }\n      });\n    }\n  }\n\n  render() {\n    if (getSystemStatus() !== 'UP') {\n      return null;\n    }\n    return this.props.children;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n/* eslint-disable react/jsx-sort-props */\nimport { Location } from 'history';\nimport * as React from 'react';\nimport { render } from 'react-dom';\nimport { IntlProvider } from 'react-intl';\nimport { Provider } from 'react-redux';\nimport { IndexRoute, Redirect, Route, RouteConfig, RouteProps, Router } from 'react-router';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport { ThemeProvider } from 'sonar-ui-common/components/theme';\nimport getHistory from 'sonar-ui-common/helpers/getHistory';\nimport aboutRoutes from '../../apps/about/routes';\nimport accountRoutes from '../../apps/account/routes';\nimport backgroundTasksRoutes from '../../apps/background-tasks/routes';\nimport codeRoutes from '../../apps/code/routes';\nimport codingRulesRoutes from '../../apps/coding-rules/routes';\nimport componentMeasuresRoutes from '../../apps/component-measures/routes';\nimport customMeasuresRoutes from '../../apps/custom-measures/routes';\nimport customMetricsRoutes from '../../apps/custom-metrics/routes';\nimport documentationRoutes from '../../apps/documentation/routes';\nimport Explore from '../../apps/explore/Explore';\nimport ExploreIssues from '../../apps/explore/ExploreIssues';\nimport ExploreProjects from '../../apps/explore/ExploreProjects';\nimport groupsRoutes from '../../apps/groups/routes';\nimport Issues from '../../apps/issues/components/AppContainer';\nimport IssuesPageSelector from '../../apps/issues/IssuesPageSelector';\nimport { maintenanceRoutes, setupRoutes } from '../../apps/maintenance/routes';\nimport marketplaceRoutes from '../../apps/marketplace/routes';\nimport organizationsRoutes from '../../apps/organizations/routes';\nimport overviewRoutes from '../../apps/overview/routes';\nimport permissionTemplatesRoutes from '../../apps/permission-templates/routes';\nimport { globalPermissionsRoutes, projectPermissionsRoutes } from '../../apps/permissions/routes';\nimport portfolioRoutes from '../../apps/portfolio/routes';\nimport projectActivityRoutes from '../../apps/projectActivity/routes';\nimport projectBaselineRoutes from '../../apps/projectBaseline/routes';\nimport projectBranchesRoutes from '../../apps/projectBranches/routes';\nimport projectQualityGateRoutes from '../../apps/projectQualityGate/routes';\nimport projectQualityProfilesRoutes from '../../apps/projectQualityProfiles/routes';\nimport projectsRoutes from '../../apps/projects/routes';\nimport projectsManagementRoutes from '../../apps/projectsManagement/routes';\nimport qualityGatesRoutes from '../../apps/quality-gates/routes';\nimport qualityProfilesRoutes from '../../apps/quality-profiles/routes';\nimport sessionsRoutes from '../../apps/sessions/routes';\nimport settingsRoutes from '../../apps/settings/routes';\nimport systemRoutes from '../../apps/system/routes';\nimport onboardingRoutes from '../../apps/tutorials/routes';\nimport usersRoutes from '../../apps/users/routes';\nimport webAPIRoutes from '../../apps/web-api/routes';\nimport webhooksRoutes from '../../apps/webhooks/routes';\nimport { isSonarCloud } from '../../helpers/system';\nimport App from '../components/App';\nimport GlobalContainer from '../components/GlobalContainer';\nimport MigrationContainer from '../components/MigrationContainer';\nimport * as theme from '../theme';\nimport getStore from './getStore';\n\nfunction handleUpdate(this: { state: { location: Location } }) {\n  const { action } = this.state.location;\n\n  if (action === 'PUSH') {\n    window.scrollTo(0, 0);\n  }\n}\n\n// this is not an official api\nconst RouteWithChildRoutes = Route as React.ComponentClass<\n  RouteProps & { childRoutes: RouteConfig }\n>;\n\nexport default function startReactApp(\n  lang: string,\n  currentUser?: T.CurrentUser,\n  appState?: T.AppState\n) {\n  const el = document.getElementById('content');\n\n  const history = getHistory();\n  const store = getStore(currentUser, appState);\n\n  render(\n    <Provider store={store}>\n      <IntlProvider defaultLocale={lang} locale={lang}>\n        <ThemeProvider theme={theme}>\n          <Router history={history} onUpdate={handleUpdate}>\n            <Route\n              path=\"/account/issues\"\n              onEnter={(_, replace) => {\n                replace({ pathname: '/issues', query: { myIssues: 'true', resolved: 'false' } });\n              }}\n            />\n\n            <Route\n              path=\"/codingrules\"\n              onEnter={(_, replace) => {\n                replace('/coding_rules' + window.location.hash);\n              }}\n            />\n\n            <Route\n              path=\"/dashboard/index/:key\"\n              onEnter={(nextState, replace) => {\n                replace({ pathname: '/dashboard', query: { id: nextState.params.key } });\n              }}\n            />\n\n            <Route\n              path=\"/issues/search\"\n              onEnter={(_, replace) => {\n                replace('/issues' + window.location.hash);\n              }}\n            />\n\n            <Redirect from=\"/admin\" to=\"/admin/settings\" />\n            <Redirect from=\"/background_tasks\" to=\"/admin/background_tasks\" />\n            <Redirect from=\"/component/index\" to=\"/component\" />\n            <Redirect from=\"/component_issues\" to=\"/project/issues\" />\n            <Redirect from=\"/dashboard/index\" to=\"/dashboard\" />\n            <Redirect\n              from=\"/documentation/analysis/languages/vb\"\n              to=\"/documentation/analysis/languages/vbnet/\"\n            />\n            <Redirect from=\"/governance\" to=\"/portfolio\" />\n            <Redirect from=\"/groups\" to=\"/admin/groups\" />\n            <Redirect from=\"/extension/governance/portfolios\" to=\"/portfolios\" />\n            <Redirect from=\"/metrics\" to=\"/admin/custom_metrics\" />\n            <Redirect from=\"/permission_templates\" to=\"/admin/permission_templates\" />\n            <Redirect from=\"/profiles/index\" to=\"/profiles\" />\n            <Redirect from=\"/projects_admin\" to=\"/admin/projects_management\" />\n            <Redirect from=\"/quality_gates/index\" to=\"/quality_gates\" />\n            <Redirect from=\"/roles/global\" to=\"/admin/permissions\" />\n            <Redirect from=\"/admin/roles/global\" to=\"/admin/permissions\" />\n            <Redirect from=\"/settings\" to=\"/admin/settings\" />\n            <Redirect from=\"/settings/encryption\" to=\"/admin/settings/encryption\" />\n            <Redirect from=\"/settings/index\" to=\"/admin/settings\" />\n            <Redirect from=\"/sessions/login\" to=\"/sessions/new\" />\n            <Redirect from=\"/system\" to=\"/admin/system\" />\n            <Redirect from=\"/system/index\" to=\"/admin/system\" />\n            <Redirect from=\"/view\" to=\"/portfolio\" />\n            <Redirect from=\"/users\" to=\"/admin/users\" />\n\n            <Route\n              path=\"markdown/help\"\n              component={lazyLoad(() => import('../components/MarkdownHelp'))}\n            />\n\n            <Route component={lazyLoad(() => import('../components/SimpleContainer'))}>\n              <Route path=\"maintenance\">{maintenanceRoutes}</Route>\n              <Route path=\"setup\">{setupRoutes}</Route>\n            </Route>\n\n            <Route component={MigrationContainer}>\n              <Route component={lazyLoad(() => import('../components/SimpleSessionsContainer'))}>\n                <RouteWithChildRoutes path=\"/sessions\" childRoutes={sessionsRoutes} />\n              </Route>\n\n              <Route path=\"/\" component={App}>\n                <IndexRoute component={lazyLoad(() => import('../components/Landing'))} />\n                <RouteWithChildRoutes path=\"about\" childRoutes={aboutRoutes} />\n\n                <Route component={GlobalContainer}>\n                  <RouteWithChildRoutes path=\"account\" childRoutes={accountRoutes} />\n                  {!isSonarCloud() && (\n                    <RouteWithChildRoutes path=\"coding_rules\" childRoutes={codingRulesRoutes} />\n                  )}\n                  <RouteWithChildRoutes path=\"documentation\" childRoutes={documentationRoutes} />\n                  <Route path=\"explore\" component={Explore}>\n                    <Route path=\"issues\" component={ExploreIssues} />\n                    <Route path=\"projects\" component={ExploreProjects} />\n                  </Route>\n                  <Route\n                    path=\"extension/:pluginKey/:extensionKey\"\n                    component={lazyLoad(() =>\n                      import('../components/extensions/GlobalPageExtension')\n                    )}\n                  />\n                  <Route path=\"issues\" component={IssuesPageSelector} />\n                  <RouteWithChildRoutes path=\"onboarding\" childRoutes={onboardingRoutes} />\n                  {isSonarCloud() && (\n                    <Route\n                      path=\"create-organization\"\n                      component={lazyLoad(() =>\n                        import('../../apps/create/organization/CreateOrganization')\n                      )}\n                    />\n                  )}\n                  <RouteWithChildRoutes path=\"organizations\" childRoutes={organizationsRoutes} />\n                  <RouteWithChildRoutes path=\"projects\" childRoutes={projectsRoutes} />\n                  <RouteWithChildRoutes path=\"quality_gates\" childRoutes={qualityGatesRoutes} />\n                  <Route\n                    path=\"portfolios\"\n                    component={lazyLoad(() => import('../components/extensions/PortfoliosPage'))}\n                  />\n                  {!isSonarCloud() && (\n                    <RouteWithChildRoutes path=\"profiles\" childRoutes={qualityProfilesRoutes} />\n                  )}\n                  <RouteWithChildRoutes path=\"web_api\" childRoutes={webAPIRoutes} />\n\n                  <Route component={lazyLoad(() => import('../components/ComponentContainer'))}>\n                    <RouteWithChildRoutes path=\"code\" childRoutes={codeRoutes} />\n                    <RouteWithChildRoutes\n                      path=\"component_measures\"\n                      childRoutes={componentMeasuresRoutes}\n                    />\n                    <RouteWithChildRoutes path=\"dashboard\" childRoutes={overviewRoutes} />\n                    <RouteWithChildRoutes path=\"portfolio\" childRoutes={portfolioRoutes} />\n                    <RouteWithChildRoutes\n                      path=\"project/activity\"\n                      childRoutes={projectActivityRoutes}\n                    />\n                    <Route\n                      path=\"project/extension/:pluginKey/:extensionKey\"\n                      component={lazyLoad(() =>\n                        import('../components/extensions/ProjectPageExtension')\n                      )}\n                    />\n                    <Route path=\"project/issues\" component={Issues} />\n                    <RouteWithChildRoutes\n                      path=\"project/quality_gate\"\n                      childRoutes={projectQualityGateRoutes}\n                    />\n                    <RouteWithChildRoutes\n                      path=\"project/quality_profiles\"\n                      childRoutes={projectQualityProfilesRoutes}\n                    />\n                    <Route\n                      component={lazyLoad(() => import('../components/ProjectAdminContainer'))}>\n                      {!isSonarCloud() && (\n                        <RouteWithChildRoutes\n                          path=\"custom_measures\"\n                          childRoutes={customMeasuresRoutes}\n                        />\n                      )}\n                      <Route\n                        path=\"project/admin/extension/:pluginKey/:extensionKey\"\n                        component={lazyLoad(() =>\n                          import('../components/extensions/ProjectAdminPageExtension')\n                        )}\n                      />\n                      <RouteWithChildRoutes\n                        path=\"project/background_tasks\"\n                        childRoutes={backgroundTasksRoutes}\n                      />\n                      <RouteWithChildRoutes\n                        path=\"project/baseline\"\n                        childRoutes={projectBaselineRoutes}\n                      />\n                      <RouteWithChildRoutes\n                        path=\"project/branches\"\n                        childRoutes={projectBranchesRoutes}\n                      />\n                      <RouteWithChildRoutes path=\"project/settings\" childRoutes={settingsRoutes} />\n                      <RouteWithChildRoutes\n                        path=\"project_roles\"\n                        childRoutes={projectPermissionsRoutes}\n                      />\n                      <RouteWithChildRoutes path=\"project/webhooks\" childRoutes={webhooksRoutes} />\n                      <Route\n                        path=\"project/deletion\"\n                        component={lazyLoad(() => import('../../apps/projectDeletion/App'))}\n                      />\n                      <Route\n                        path=\"project/links\"\n                        component={lazyLoad(() => import('../../apps/projectLinks/App'))}\n                      />\n                      <Route\n                        path=\"project/key\"\n                        component={lazyLoad(() => import('../../apps/projectKey/Key'))}\n                      />\n                    </Route>\n                  </Route>\n\n                  <Route\n                    component={lazyLoad(() => import('../components/AdminContainer'))}\n                    path=\"admin\">\n                    <Route\n                      path=\"extension/:pluginKey/:extensionKey\"\n                      component={lazyLoad(() =>\n                        import('../components/extensions/GlobalAdminPageExtension')\n                      )}\n                    />\n                    <RouteWithChildRoutes\n                      path=\"background_tasks\"\n                      childRoutes={backgroundTasksRoutes}\n                    />\n                    <RouteWithChildRoutes path=\"custom_metrics\" childRoutes={customMetricsRoutes} />\n                    {!isSonarCloud() && (\n                      <>\n                        <RouteWithChildRoutes path=\"groups\" childRoutes={groupsRoutes} />\n                        <RouteWithChildRoutes\n                          path=\"permission_templates\"\n                          childRoutes={permissionTemplatesRoutes}\n                        />\n                        <RouteWithChildRoutes\n                          path=\"permissions\"\n                          childRoutes={globalPermissionsRoutes}\n                        />\n                        <RouteWithChildRoutes\n                          path=\"projects_management\"\n                          childRoutes={projectsManagementRoutes}\n                        />\n                      </>\n                    )}\n                    <RouteWithChildRoutes path=\"settings\" childRoutes={settingsRoutes} />\n                    <RouteWithChildRoutes path=\"system\" childRoutes={systemRoutes} />\n                    <RouteWithChildRoutes path=\"marketplace\" childRoutes={marketplaceRoutes} />\n                    <RouteWithChildRoutes path=\"users\" childRoutes={usersRoutes} />\n                    <RouteWithChildRoutes path=\"webhooks\" childRoutes={webhooksRoutes} />\n                  </Route>\n                </Route>\n                <Route\n                  path=\"not_found\"\n                  component={lazyLoad(() => import('../components/NotFound'))}\n                />\n                <Route path=\"*\" component={lazyLoad(() => import('../components/NotFound'))} />\n              </Route>\n            </Route>\n          </Router>\n        </ThemeProvider>\n      </IntlProvider>\n    </Provider>,\n    el\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { combineReducers } from 'redux';\nimport globalMessages, * as fromGlobalMessages from '../../../store/globalMessages';\nimport definitions, * as fromDefinitions from './definitions';\nimport settingsPage, * as fromSettingsPage from './settingsPage';\nimport values, * as fromValues from './values';\n\ninterface State {\n  definitions: fromDefinitions.State;\n  globalMessages: fromGlobalMessages.State;\n  settingsPage: fromSettingsPage.State;\n  values: fromValues.State;\n}\n\nexport default combineReducers({ definitions, values, settingsPage, globalMessages });\n\nexport function getDefinition(state: State, key: string) {\n  return fromDefinitions.getDefinition(state.definitions, key);\n}\n\nexport function getAllCategories(state: State) {\n  return fromDefinitions.getAllCategories(state.definitions);\n}\n\nexport function getDefaultCategory(state: State) {\n  return fromDefinitions.getDefaultCategory(state.definitions);\n}\n\nexport function getValue(state: State, key: string, component?: string) {\n  return fromValues.getValue(state.values, key, component);\n}\n\nexport function getSettingsForCategory(state: State, category: string, component?: string) {\n  return fromDefinitions.getDefinitionsForCategory(state.definitions, category).map(definition => ({\n    key: definition.key,\n    ...getValue(state, definition.key, component),\n    definition\n  }));\n}\n\nexport function getChangedValue(state: State, key: string) {\n  return fromSettingsPage.getChangedValue(state.settingsPage, key);\n}\n\nexport function isLoading(state: State, key: string) {\n  return fromSettingsPage.isLoading(state.settingsPage, key);\n}\n\nexport function getValidationMessage(state: State, key: string) {\n  return fromSettingsPage.getValidationMessage(state.settingsPage, key);\n}\n\nexport function getGlobalMessages(state: State) {\n  return fromGlobalMessages.getGlobalMessages(state.globalMessages);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { combineReducers } from 'redux';\nimport settingsApp, * as fromSettingsApp from '../apps/settings/store/rootReducer';\nimport { BranchLike } from '../types/branch-like';\nimport appState from './appState';\nimport branches, * as fromBranches from './branches';\nimport globalMessages, * as fromGlobalMessages from './globalMessages';\nimport languages, * as fromLanguages from './languages';\nimport metrics, * as fromMetrics from './metrics';\nimport organizations, * as fromOrganizations from './organizations';\nimport users, * as fromUsers from './users';\n\nexport type Store = {\n  appState: T.AppState;\n  branches: fromBranches.State;\n  globalMessages: fromGlobalMessages.State;\n  languages: T.Languages;\n  metrics: fromMetrics.State;\n  organizations: fromOrganizations.State;\n  users: fromUsers.State;\n\n  // apps\n  settingsApp: any;\n};\n\nexport default combineReducers<Store>({\n  appState,\n  branches,\n  globalMessages,\n  languages,\n  metrics,\n  organizations,\n  users,\n\n  // apps\n  settingsApp\n});\n\nexport function getAppState(state: Store) {\n  return state.appState;\n}\n\nexport function getGlobalMessages(state: Store) {\n  return fromGlobalMessages.getGlobalMessages(state.globalMessages);\n}\n\nexport function getLanguages(state: Store) {\n  return fromLanguages.getLanguages(state.languages);\n}\n\nexport function getCurrentUserSetting(state: Store, key: T.CurrentUserSettingNames) {\n  return fromUsers.getCurrentUserSetting(state.users, key);\n}\n\nexport function getCurrentUser(state: Store) {\n  return fromUsers.getCurrentUser(state.users);\n}\n\nexport function getMetrics(state: Store) {\n  return fromMetrics.getMetrics(state.metrics);\n}\n\nexport function getMetricsKey(state: Store) {\n  return fromMetrics.getMetricsKey(state.metrics);\n}\n\nexport function getMetricByKey(state: Store, key: string) {\n  return fromMetrics.getMetricByKey(state.metrics, key);\n}\n\nexport function getOrganizationByKey(state: Store, key: string) {\n  return fromOrganizations.getOrganizationByKey(state.organizations, key);\n}\n\nexport function getMyOrganizations(state: Store) {\n  return fromOrganizations.getMyOrganizations(state.organizations);\n}\n\nexport function areThereCustomOrganizations(state: Store) {\n  return getAppState(state).organizationsEnabled;\n}\n\nexport function getGlobalSettingValue(state: Store, key: string) {\n  return fromSettingsApp.getValue(state.settingsApp, key);\n}\n\nexport function getSettingsAppDefinition(state: Store, key: string) {\n  return fromSettingsApp.getDefinition(state.settingsApp, key);\n}\n\nexport function getSettingsAppAllCategories(state: Store) {\n  return fromSettingsApp.getAllCategories(state.settingsApp);\n}\n\nexport function getSettingsAppDefaultCategory(state: Store) {\n  return fromSettingsApp.getDefaultCategory(state.settingsApp);\n}\n\nexport function getSettingsAppSettingsForCategory(\n  state: Store,\n  category: string,\n  component?: string\n) {\n  return fromSettingsApp.getSettingsForCategory(state.settingsApp, category, component);\n}\n\nexport function getSettingsAppChangedValue(state: Store, key: string) {\n  return fromSettingsApp.getChangedValue(state.settingsApp, key);\n}\n\nexport function isSettingsAppLoading(state: Store, key: string) {\n  return fromSettingsApp.isLoading(state.settingsApp, key);\n}\n\nexport function getSettingsAppValidationMessage(state: Store, key: string) {\n  return fromSettingsApp.getValidationMessage(state.settingsApp, key);\n}\n\nexport function getBranchStatusByBranchLike(\n  state: Store,\n  component: string,\n  branchLike: BranchLike\n) {\n  return fromBranches.getBranchStatusByBranchLike(state.branches, component, branchLike);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getBaseUrl, Location } from 'sonar-ui-common/helpers/urls';\nimport { getProfilePath } from '../apps/quality-profiles/utils';\nimport { BranchLike } from '../types/branch-like';\nimport { getBranchLikeQuery, isBranch, isMainBranch, isPullRequest } from './branch-like';\n\ntype Query = Location['query'];\n\nexport function getProjectUrl(project: string, branch?: string): Location {\n  return { pathname: '/dashboard', query: { id: project, branch } };\n}\n\nexport function getPortfolioUrl(key: string): Location {\n  return { pathname: '/portfolio', query: { id: key } };\n}\n\nexport function getPortfolioAdminUrl(key: string, qualifier: string) {\n  return { pathname: '/project/admin/extension/governance/console', query: { id: key, qualifier } };\n}\n\nexport function getComponentBackgroundTaskUrl(componentKey: string, status?: string): Location {\n  return { pathname: '/project/background_tasks', query: { id: componentKey, status } };\n}\n\nexport function getBranchLikeUrl(project: string, branchLike?: BranchLike): Location {\n  if (isPullRequest(branchLike)) {\n    return getPullRequestUrl(project, branchLike.key);\n  } else if (isBranch(branchLike) && !isMainBranch(branchLike)) {\n    return getBranchUrl(project, branchLike.name);\n  } else {\n    return getProjectUrl(project);\n  }\n}\n\nexport function getBranchUrl(project: string, branch: string): Location {\n  return { pathname: '/dashboard', query: { branch, id: project } };\n}\n\nexport function getPullRequestUrl(project: string, pullRequest: string): Location {\n  return { pathname: '/dashboard', query: { id: project, pullRequest } };\n}\n\n/**\n * Generate URL for a global issues page\n */\nexport function getIssuesUrl(query: Query, organization?: string): Location {\n  const pathname = organization ? `/organizations/${organization}/issues` : '/issues';\n  return { pathname, query };\n}\n\n/**\n * Generate URL for a component's issues page\n */\nexport function getComponentIssuesUrl(componentKey: string, query?: Query): Location {\n  return { pathname: '/project/issues', query: { ...(query || {}), id: componentKey } };\n}\n\n/**\n * Generate URL for a component's drilldown page\n */\nexport function getComponentDrilldownUrl(options: {\n  componentKey: string;\n  metric: string;\n  branchLike?: BranchLike;\n  selectionKey?: string;\n  treemapView?: boolean;\n  listView?: boolean;\n}): Location {\n  const { componentKey, metric, branchLike, selectionKey, treemapView, listView } = options;\n  const query: Query = { id: componentKey, metric, ...getBranchLikeQuery(branchLike) };\n  if (treemapView) {\n    query.view = 'treemap';\n  }\n  if (listView) {\n    query.view = 'list';\n  }\n  if (selectionKey) {\n    query.selected = selectionKey;\n  }\n  return { pathname: '/component_measures', query };\n}\n\nexport function getComponentDrilldownUrlWithSelection(\n  componentKey: string,\n  selectionKey: string,\n  metric: string,\n  branchLike?: BranchLike\n): Location {\n  return getComponentDrilldownUrl({ componentKey, selectionKey, metric, branchLike });\n}\n\nexport function getMeasureTreemapUrl(componentKey: string, metric: string) {\n  return getComponentDrilldownUrl({ componentKey, metric, treemapView: true });\n}\n\nexport function getActivityUrl(component: string, branchLike?: BranchLike) {\n  return {\n    pathname: '/project/activity',\n    query: { id: component, ...getBranchLikeQuery(branchLike) }\n  };\n}\n\n/**\n * Generate URL for a component's measure history\n */\nexport function getMeasureHistoryUrl(component: string, metric: string, branchLike?: BranchLike) {\n  return {\n    pathname: '/project/activity',\n    query: {\n      id: component,\n      graph: 'custom',\n      custom_metrics: metric,\n      ...getBranchLikeQuery(branchLike)\n    }\n  };\n}\n\n/**\n * Generate URL for a component's permissions page\n */\nexport function getComponentPermissionsUrl(componentKey: string): Location {\n  return { pathname: '/project_roles', query: { id: componentKey } };\n}\n\n/**\n * Generate URL for a quality profile\n */\nexport function getQualityProfileUrl(\n  name: string,\n  language: string,\n  organization?: string | null\n): Location {\n  return getProfilePath(name, language, organization);\n}\n\nexport function getQualityGateUrl(key: string, organization?: string | null): Location {\n  return {\n    pathname: getQualityGatesUrl(organization).pathname + '/show/' + encodeURIComponent(key)\n  };\n}\n\nexport function getQualityGatesUrl(organization?: string | null): Location {\n  return {\n    pathname:\n      (organization ? '/organizations/' + encodeURIComponent(organization) : '') + '/quality_gates'\n  };\n}\n\n/**\n * Generate URL for the rules page\n */\nexport function getRulesUrl(query: Query, organization: string | null | undefined): Location {\n  const pathname = organization ? `/organizations/${organization}/rules` : '/coding_rules';\n  return { pathname, query };\n}\n\n/**\n * Generate URL for the rules page filtering only active deprecated rules\n */\nexport function getDeprecatedActiveRulesUrl(\n  query: Query = {},\n  organization: string | null | undefined\n): Location {\n  const baseQuery = { activation: 'true', statuses: 'DEPRECATED' };\n  return getRulesUrl({ ...query, ...baseQuery }, organization);\n}\n\nexport function getRuleUrl(rule: string, organization: string | undefined) {\n  return getRulesUrl({ open: rule, rule_key: rule }, organization);\n}\n\nexport function getMarkdownHelpUrl(): string {\n  return getBaseUrl() + '/markdown/help';\n}\n\nexport function getCodeUrl(\n  project: string,\n  branchLike?: BranchLike,\n  selected?: string,\n  line?: number\n) {\n  return {\n    pathname: '/code',\n    query: { id: project, ...getBranchLikeQuery(branchLike), selected, line }\n  };\n}\n\nexport function getOrganizationUrl(organization: string) {\n  return `/organizations/${organization}`;\n}\n\nexport function getHomePageUrl(homepage: T.HomePage) {\n  switch (homepage.type) {\n    case 'APPLICATION':\n      return homepage.branch\n        ? getProjectUrl(homepage.component, homepage.branch)\n        : getProjectUrl(homepage.component);\n    case 'PROJECT':\n      return homepage.branch\n        ? getBranchUrl(homepage.component, homepage.branch)\n        : getProjectUrl(homepage.component);\n    case 'ORGANIZATION':\n      return getOrganizationUrl(homepage.organization);\n    case 'PORTFOLIO':\n      return getPortfolioUrl(homepage.component);\n    case 'PORTFOLIOS':\n      return '/portfolios';\n    case 'MY_PROJECTS':\n      return '/projects';\n    case 'ISSUES':\n    case 'MY_ISSUES':\n      return { pathname: '/issues', query: { resolved: 'false' } };\n  }\n\n  // should never happen, but just in case...\n  return '/projects';\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { parseError } from 'sonar-ui-common/helpers/request';\nimport { addGlobalErrorMessage } from '../../store/globalMessages';\nimport getStore from './getStore';\n\nexport default function throwGlobalError(param: Response | any): Promise<Response | any> {\n  const store = getStore();\n\n  if (param.response instanceof Response) {\n    /* eslint-disable-next-line no-console */\n    console.warn('DEPRECATED: response should not be wrapped, pass it directly.');\n    param = param.response;\n  }\n\n  if (param instanceof Response) {\n    return parseError(param)\n      .then(\n        message => {\n          store.dispatch(addGlobalErrorMessage(message));\n        },\n        () => {}\n      )\n      .then(() => Promise.reject(param));\n  }\n\n  return Promise.reject(param);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\nimport { orderBy } from 'lodash';\nimport {\n  Branch,\n  BranchLike,\n  BranchLikeTree,\n  BranchParameters,\n  MainBranch,\n  PullRequest\n} from '../types/branch-like';\n\nexport function isBranch(branchLike?: BranchLike): branchLike is Branch {\n  return branchLike !== undefined && (branchLike as Branch).isMain !== undefined;\n}\n\nexport function isMainBranch(branchLike?: BranchLike): branchLike is MainBranch {\n  return isBranch(branchLike) && branchLike.isMain;\n}\n\nexport function sortBranches(branches: Branch[]) {\n  return orderBy(branches, [b => b.isMain, b => b.name], ['desc', 'asc']);\n}\n\nexport function isPullRequest(branchLike?: BranchLike): branchLike is PullRequest {\n  return branchLike !== undefined && (branchLike as PullRequest).key !== undefined;\n}\n\nexport function sortPullRequests(pullRequests: PullRequest[]) {\n  return orderBy(pullRequests, pr => getPullRequestDisplayName(pr));\n}\n\nexport function getPullRequestDisplayName(pullRequest: PullRequest) {\n  return `${pullRequest.key}  ${pullRequest.title}`;\n}\n\nexport function getBranchLikeDisplayName(branchLike: BranchLike) {\n  return isPullRequest(branchLike) ? getPullRequestDisplayName(branchLike) : branchLike.name;\n}\n\nexport function getBranchLikeKey(branchLike: BranchLike) {\n  return isPullRequest(branchLike) ? `pull-request-${branchLike.key}` : `branch-${branchLike.name}`;\n}\n\nexport function getBranchQualityGateColor(status: string) {\n  let indicatorColor = 'gray';\n  if (status === 'ERROR') {\n    indicatorColor = 'red';\n  } else if (status === 'WARN') {\n    indicatorColor = 'orange';\n  } else if (status === 'OK') {\n    indicatorColor = 'green';\n  }\n  return indicatorColor;\n}\n\nexport function isSameBranchLike(a: BranchLike | undefined, b: BranchLike | undefined) {\n  // main branches are always equal\n  if (isMainBranch(a) && isMainBranch(b)) {\n    return true;\n  }\n\n  // Branches are compared by name\n  if (isBranch(a) && isBranch(b)) {\n    return a.name === b.name;\n  }\n\n  // pull requests are compared by id\n  if (isPullRequest(a) && isPullRequest(b)) {\n    return a.key === b.key;\n  }\n\n  // finally if both parameters are `undefined`, consider them equal\n  return a === b;\n}\n\nexport function getBrancheLikesAsTree(branchLikes: BranchLike[]): BranchLikeTree {\n  const mainBranch = branchLikes.find(isMainBranch);\n  const branches = orderBy(branchLikes.filter(isBranch).filter(b => !isMainBranch(b)), b => b.name);\n  const pullRequests = orderBy(branchLikes.filter(isPullRequest), b => b.key);\n  const parentlessPullRequests = pullRequests.filter(\n    pr => !pr.isOrphan && ![mainBranch, ...branches].find(b => !!b && b.name === pr.base)\n  );\n  const orphanPullRequests = pullRequests.filter(pr => pr.isOrphan);\n\n  const tree: BranchLikeTree = {\n    branchTree: branches.map(b => ({ branch: b, pullRequests: getPullRequests(b) })),\n    parentlessPullRequests,\n    orphanPullRequests\n  };\n\n  if (mainBranch) {\n    tree.mainBranchTree = {\n      branch: mainBranch,\n      pullRequests: getPullRequests(mainBranch)\n    };\n  }\n\n  return tree;\n\n  function getPullRequests(branch: Branch) {\n    return pullRequests.filter(pr => !pr.isOrphan && pr.base === branch.name);\n  }\n}\n\nexport function getBranchLikeQuery(branchLike?: BranchLike): BranchParameters {\n  if (isBranch(branchLike) && !isMainBranch(branchLike)) {\n    return { branch: branchLike.name };\n  } else if (isPullRequest(branchLike)) {\n    return { pullRequest: branchLike.key };\n  } else {\n    return {};\n  }\n}\n\n// Create branch object from branch name or pull request key\nexport function fillBranchLike(\n  branch?: string,\n  pullRequest?: string\n): Branch | PullRequest | undefined {\n  if (branch) {\n    return {\n      isMain: false,\n      name: branch\n    } as Branch;\n  } else if (pullRequest) {\n    return { base: '', branch: '', key: pullRequest, title: '' } as PullRequest;\n  }\n  return undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function hasGlobalPermission(user: T.CurrentUser, permission: string): boolean {\n  if (!user.permissions) {\n    return false;\n  }\n  return user.permissions.global.includes(permission);\n}\n\nexport function isLoggedIn(user: T.CurrentUser): user is T.LoggedInUser {\n  return user.isLoggedIn;\n}\n\nexport function isUserActive(user: T.UserBase): user is T.UserActive {\n  return user.active !== false && Boolean(user.name);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n// IMPORTANT: any change in this file requires restart of the dev server\nconst grid = 8;\n\nmodule.exports = {\n  colors: {\n    blue: '#4b9fd5',\n    veryLightBlue: '#f2faff',\n    lightBlue: '#cae3f2',\n    darkBlue: '#236a97',\n    veryDarkBlue: '#0E516F',\n    green: '#00aa00',\n    lightGreen: '#b0d513',\n    veryLightGreen: '#f5f9fc',\n    yellow: '#eabe06',\n    orange: '#ed7d20',\n    red: '#d4333f',\n    purple: '#9139d4',\n\n    gray94: '#efefef',\n    gray80: '#cdcdcd',\n    gray71: '#b4b4b4',\n    gray67: '#aaa',\n    gray60: '#999',\n    gray40: '#404040',\n\n    transparentWhite: 'rgba(255,255,255,0.62)',\n    transparentGray: 'rgba(200, 200, 200, 0.5)',\n\n    disableGrayText: '#bbb',\n    disableGrayBorder: '#ddd',\n    disableGrayBg: '#ebebeb',\n\n    barBackgroundColor: '#f3f3f3',\n    barBackgroundColorHighlight: '#f8f8f8',\n    barBorderColor: '#e6e6e6',\n\n    globalNavBarBg: '#262626',\n\n    // fonts\n    baseFontColor: '#444',\n    secondFontColor: '#777',\n\n    // forms\n    mandatoryFieldColor: '#a4030f',\n\n    // leak\n    leakPrimaryColor: '#fbf3d5',\n    leakSecondaryColor: '#f1e8cb',\n\n    snippetFontColor: '#f0f0f0',\n\n    // issues\n    issueBgColor: '#f2dede',\n    hotspotBgColor: '#eeeff4',\n    issueLocationSelected: '#f4b1b0',\n    issueLocationHighlighted: '#e1e1f2',\n    conciseIssueRed: '#d18582',\n    conciseIssueRedSelected: '#a4030f',\n\n    // coverage\n    lineCoverageRed: '#a4030f',\n    lineCoverageGreen: '#b4dd78',\n\n    // alerts\n    warningIconColor: '#eabe06',\n\n    alertBorderError: '#f4b1b0',\n    alertBackgroundError: '#f2dede',\n    alertTextError: '#862422',\n    alertIconError: '#a4030f',\n\n    alertBorderWarning: '#faebcc',\n    alertBackgroundWarning: '#fcf8e3',\n    alertTextWarning: '#6f4f17',\n    alertIconWarning: '#db781a',\n\n    alertBorderSuccess: '#d6e9c6',\n    alertBackgroundSuccess: '#dff0d8',\n    alertTextSuccess: '#215821',\n    alertIconSuccess: '#6d9867',\n\n    alertBorderInfo: '#b1dff3',\n    alertBackgroundInfo: '#d9edf7',\n    alertTextInfo: '#0e516f',\n    alertIconInfo: '#0271b9',\n\n    // alm\n    azure: '#0078d7',\n    bitbucket: '#0052CC',\n    github: '#e1e4e8',\n\n    // code/pre\n    codeBackground: '#e6e6e6',\n\n    // sonarcloud\n    sonarcloudOrange500: '#fd6a00',\n    sonarcloudOrange600: '#e26003',\n    sonarcloudOrange700: '#db5700',\n\n    sonarcloudBlack100: '#ffffff',\n    sonarcloudBlack200: '#f9f9fb',\n    sonarcloudBlack250: '#e6e8ea',\n    sonarcloudBlack300: '#cfd3d7',\n    sonarcloudBlack500: '#8a8c8f',\n    sonarcloudBlack700: '#434447',\n    sonarcloudBlack800: '#2d3032',\n    sonarcloudBlack900: '#070706',\n\n    sonarcloudBlue500: '#4c9bd6',\n    sonarcloudBlue600: '#327bb3',\n    sonarcloudBlue900: '#0b3c62',\n\n    sonarcloudBorderGray: 'rgba(207, 211, 215, 0.5)'\n  },\n\n  sizes: {\n    gridSize: `${grid}px`,\n\n    baseFontSize: '13px',\n    verySmallFontSize: '10px',\n    smallFontSize: '12px',\n    mediumFontSize: '14px',\n    bigFontSize: '16px',\n    hugeFontSize: '24px',\n\n    hugeControlHeight: `${5 * grid}px`,\n    largeControlHeight: `${4 * grid}px`,\n    controlHeight: `${3 * grid}px`,\n    smallControlHeight: `${2.5 * grid}px`,\n    tinyControlHeight: `${2 * grid}px`,\n\n    globalNavHeight: `${6 * grid}px`,\n\n    globalNavContentHeight: `${4 * grid}px`,\n\n    maxPageWidth: '1320px',\n    minPageWidth: '1080px',\n    pagePadding: '20px'\n  },\n\n  rawSizes: {\n    grid,\n    globalNavHeightRaw: 6 * grid,\n    globalNavContentHeightRaw: 4 * grid,\n    contextNavHeightRaw: 9 * grid\n  },\n\n  fonts: {\n    baseFontFamily: \"'Helvetica Neue', Helvetica, Arial, sans-serif\",\n    systemFontFamily: \"-apple-system,'BlinkMacSystemFont','Helvetica','Arial',sans-serif\",\n    sonarcloudFontFamily:\n      \"Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif\"\n  },\n\n  // z-index\n  // =======\n  //    1 -  100  for page elements (e.g. sidebars, panels)\n  //  101 -  500  for generic page fixed elements (e.g. navigation, workspace)\n  //  501 - 3000  for page ui elements\n  // 3001 - 8000  for generic ui elements (e.g. dropdowns, tooltips)\n  zIndexes: {\n    // common\n    aboveNormalZIndex: '3',\n    normalZIndex: '2',\n    belowNormalZIndex: '1',\n\n    // ui elements\n    pageMainZIndex: '50',\n    pageSideZIndex: '51',\n\n    tooltipZIndex: '8000',\n\n    dropdownMenuZIndex: '7500',\n\n    processContainerZIndex: '7000',\n\n    modalZIndex: '6001',\n    modalOverlayZIndex: '6000',\n\n    popupZIndex: '5000'\n  },\n\n  others: {\n    defaultShadow: '0 6px 12px rgba(0, 0, 0, 0.175)'\n  }\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { withRouter as originalWithRouter, WithRouterProps } from 'react-router';\n\nexport type Location = WithRouterProps['location'];\nexport type Router = WithRouterProps['router'];\n\ninterface InjectedProps {\n  location?: Partial<Location>;\n  router?: Partial<Router>;\n}\n\nexport function withRouter<P extends InjectedProps>(\n  WrappedComponent: React.ComponentType<P & InjectedProps>\n): React.ComponentType<T.Omit<P, keyof InjectedProps>> {\n  return originalWithRouter(WrappedComponent as any);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { createContext } from 'react';\n\ninterface SuggestionsContextShape {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: T.SuggestionLink[];\n}\n\nexport const SuggestionsContext = createContext<SuggestionsContextShape>({\n  addSuggestions: () => {},\n  removeSuggestions: () => {},\n  suggestions: []\n});\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON, RequestData } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { BranchParameters } from '../types/branch-like';\n\nexport interface BaseSearchProjectsParameters {\n  analyzedBefore?: string;\n  onProvisionedOnly?: boolean;\n  organization: string;\n  projects?: string;\n  q?: string;\n  qualifiers?: string;\n  visibility?: T.Visibility;\n}\n\nexport interface ProjectBase {\n  key: string;\n  name: string;\n  qualifier: string;\n  visibility: T.Visibility;\n}\n\nexport interface Project extends ProjectBase {\n  id: string;\n  lastAnalysisDate?: string;\n  organization: string;\n}\n\nexport interface SearchProjectsParameters extends BaseSearchProjectsParameters {\n  p?: number;\n  ps?: number;\n}\n\nexport function getComponents(\n  parameters: SearchProjectsParameters\n): Promise<{\n  components: Project[];\n  paging: T.Paging;\n}> {\n  return getJSON('/api/projects/search', parameters);\n}\n\nexport function bulkDeleteProjects(\n  parameters: BaseSearchProjectsParameters\n): Promise<void | Response> {\n  return post('/api/projects/bulk_delete', parameters).catch(throwGlobalError);\n}\n\nexport function deleteProject(project: string): Promise<void | Response> {\n  return post('/api/projects/delete', { project }).catch(throwGlobalError);\n}\n\nexport function deletePortfolio(portfolio: string): Promise<void | Response> {\n  return post('/api/views/delete', { key: portfolio }).catch(throwGlobalError);\n}\n\nexport function createProject(data: {\n  name: string;\n  project: string;\n  organization?: string;\n  visibility?: T.Visibility;\n}): Promise<{ project: ProjectBase }> {\n  return postJSON('/api/projects/create', data).catch(throwGlobalError);\n}\n\nexport function searchProjectTags(data?: { ps?: number; q?: string }): Promise<any> {\n  return getJSON('/api/project_tags/search', data).catch(throwGlobalError);\n}\n\nexport function setProjectTags(data: { project: string; tags: string }): Promise<void> {\n  return post('/api/project_tags/set', data);\n}\n\nexport function getComponentTree(\n  strategy: string,\n  component: string,\n  metrics: string[] = [],\n  additional: RequestData = {}\n): Promise<{\n  baseComponent: T.ComponentMeasure;\n  components: T.ComponentMeasure[];\n  metrics: T.Metric[];\n  paging: T.Paging;\n}> {\n  const url = '/api/measures/component_tree';\n  const data = { ...additional, component, metricKeys: metrics.join(','), strategy };\n  return getJSON(url, data).catch(throwGlobalError);\n}\n\nexport function getChildren(\n  component: string,\n  metrics: string[] = [],\n  additional: RequestData = {}\n) {\n  return getComponentTree('children', component, metrics, additional);\n}\n\nexport function getComponentLeaves(\n  component: string,\n  metrics: string[] = [],\n  additional: RequestData = {}\n) {\n  return getComponentTree('leaves', component, metrics, additional);\n}\n\nexport function getComponent(\n  data: { component: string; metricKeys: string } & BranchParameters\n): Promise<{ component: T.ComponentMeasure }> {\n  return getJSON('/api/measures/component', data);\n}\n\nexport interface TreeComponent extends T.LightComponent {\n  id?: string;\n  name: string;\n  path?: string;\n  refId?: string;\n  refKey?: string;\n  tags?: string[];\n  visibility: T.Visibility;\n}\n\nexport interface TreeComponentWithPath extends TreeComponent {\n  path: string;\n}\n\ntype GetTreeParams = {\n  asc?: boolean;\n  component: string;\n  p?: number;\n  ps?: number;\n  q?: string;\n  s?: string;\n  strategy?: 'all' | 'leaves' | 'children';\n} & BranchParameters;\n\nexport function getTree<T = TreeComponent>(\n  data: GetTreeParams & { qualifiers?: string }\n): Promise<{ baseComponent: TreeComponent; components: T[]; paging: T.Paging }> {\n  return getJSON('/api/components/tree', data).catch(throwGlobalError);\n}\n\nexport function getFiles(data: GetTreeParams) {\n  return getTree<TreeComponentWithPath>({ ...data, qualifiers: 'FIL' });\n}\n\nexport function getDirectories(data: GetTreeParams) {\n  return getTree<TreeComponentWithPath>({ ...data, qualifiers: 'DIR' });\n}\n\nexport function getComponentData(data: { component: string } & BranchParameters): Promise<any> {\n  return getJSON('/api/components/show', data);\n}\n\nexport function doesComponentExists(\n  data: { component: string } & BranchParameters\n): Promise<boolean> {\n  return getComponentData(data).then(({ component }) => component !== undefined, () => false);\n}\n\nexport function getComponentShow(data: { component: string } & BranchParameters): Promise<any> {\n  return getComponentData(data).catch(throwGlobalError);\n}\n\nexport function getParents(component: string): Promise<any> {\n  return getComponentShow({ component }).then(r => r.ancestors);\n}\n\nexport function getBreadcrumbs(data: { component: string } & BranchParameters): Promise<any> {\n  return getComponentShow(data).then(r => {\n    const reversedAncestors = [...r.ancestors].reverse();\n    return [...reversedAncestors, r.component];\n  });\n}\n\nexport function getMyProjects(data: {\n  p?: number;\n  ps?: number;\n}): Promise<{ paging: T.Paging; projects: T.MyProject[] }> {\n  return getJSON('/api/projects/search_my_projects', data);\n}\n\nexport interface Component {\n  organization: string;\n  id: string;\n  key: string;\n  name: string;\n  isFavorite?: boolean;\n  analysisDate?: string;\n  tags: string[];\n  visibility: T.Visibility;\n  leakPeriodDate?: string;\n}\n\nexport interface Facet {\n  property: string;\n  values: Array<{ val: string; count: number }>;\n}\n\nexport function searchProjects(\n  data: RequestData\n): Promise<{\n  components: Component[];\n  facets: Facet[];\n  organizations: Array<{ key: string; name: string }>;\n  paging: T.Paging;\n}> {\n  const url = '/api/components/search_projects';\n  return getJSON(url, data);\n}\n\nexport function searchComponents(data?: {\n  q?: string;\n  qualifiers?: string;\n  ps?: number;\n}): Promise<any> {\n  return getJSON('/api/components/search', data);\n}\n\nexport function changeKey(data: { from: string; to: string }) {\n  return post('/api/projects/update_key', data).catch(throwGlobalError);\n}\n\nexport interface SuggestionsResponse {\n  organizations: Array<{ key: string; name: string }>;\n  projects: Array<{ key: string; name: string }>;\n  results: Array<{\n    items: Array<{\n      isFavorite: boolean;\n      isRecentlyBrowsed: boolean;\n      key: string;\n      match: string;\n      name: string;\n      organization: string;\n      project: string;\n    }>;\n    more: number;\n    q: string;\n  }>;\n  warning?: string;\n}\n\nexport function getSuggestions(\n  query?: string,\n  recentlyBrowsed?: string[],\n  more?: string\n): Promise<SuggestionsResponse> {\n  const data: RequestData = {};\n  if (query) {\n    data.s = query;\n  }\n  if (recentlyBrowsed) {\n    data.recentlyBrowsed = recentlyBrowsed.join();\n  }\n  if (more) {\n    data.more = more;\n  }\n  return getJSON('/api/components/suggestions', data).catch(throwGlobalError);\n}\n\nexport function getComponentForSourceViewer(\n  data: { component: string } & BranchParameters\n): Promise<T.SourceViewerFile> {\n  return getJSON('/api/components/app', data);\n}\n\nexport function getSources(\n  data: { key: string; from?: number; to?: number } & BranchParameters\n): Promise<T.SourceLine[]> {\n  return getJSON('/api/sources/lines', data).then(r => r.sources);\n}\n\nexport function getDuplications(\n  data: { key: string } & BranchParameters\n): Promise<{ duplications: T.Duplication[]; files: T.Dict<T.DuplicatedFile> }> {\n  return getJSON('/api/duplications/show', data).catch(throwGlobalError);\n}\n\nexport function getTests(\n  data: { sourceFileKey: string; sourceFileLineNumber: number | string } & BranchParameters\n): Promise<any> {\n  return getJSON('/api/tests/list', data).then(r => r.tests);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { isDefined } from 'sonar-ui-common/helpers/types';\n\n/** Return a localized metric name */\nexport function localizeMetric(metricKey: string): string {\n  return translate('metric', metricKey, 'name');\n}\n\n/** Return corresponding \"short\" for better display in UI */\nexport function getShortType(type: string): string {\n  if (type === 'INT') {\n    return 'SHORT_INT';\n  } else if (type === 'WORK_DUR') {\n    return 'SHORT_WORK_DUR';\n  }\n  return type;\n}\n\nexport function enhanceMeasuresWithMetrics(\n  measures: T.Measure[],\n  metrics: T.Metric[]\n): T.MeasureEnhanced[] {\n  return measures\n    .map(measure => {\n      const metric = metrics.find(metric => metric.key === measure.metric);\n      return metric && { ...measure, metric };\n    })\n    .filter(isDefined);\n}\n\n/** Get period value of a measure */\nexport function getPeriodValue(\n  measure: T.Measure | T.MeasureEnhanced,\n  periodIndex: number\n): string | undefined {\n  const { periods } = measure;\n  const period = periods && periods.find(period => period.index === periodIndex);\n  return period ? period.value : undefined;\n}\n\nexport function isPeriodBestValue(\n  measure: T.Measure | T.MeasureEnhanced,\n  periodIndex: number\n): boolean {\n  const { periods } = measure;\n  const period = periods && periods.find(period => period.index === periodIndex);\n  return (period && period.bestValue) || false;\n}\n\n/** Check if metric is differential */\nexport function isDiffMetric(metricKey: string): boolean {\n  return metricKey.indexOf('new_') === 0;\n}\n\nfunction getRatingGrid(): string {\n  // workaround cyclic dependencies\n  const getStore = require('../app/utils/getStore').default;\n  const { getGlobalSettingValue } = require('../store/rootReducer');\n\n  const store = getStore();\n  const settingValue = getGlobalSettingValue(store.getState(), 'sonar.technicalDebt.ratingGrid');\n  return settingValue ? settingValue.value : '';\n}\n\nlet maintainabilityRatingGrid: number[];\n\nfunction getMaintainabilityRatingGrid(): number[] {\n  if (maintainabilityRatingGrid) {\n    return maintainabilityRatingGrid;\n  }\n\n  const str = getRatingGrid();\n  const numbers = str\n    .split(',')\n    .map(s => parseFloat(s))\n    .filter(n => !isNaN(n));\n\n  if (numbers.length === 4) {\n    maintainabilityRatingGrid = numbers;\n  } else {\n    maintainabilityRatingGrid = [0, 0, 0, 0];\n  }\n\n  return maintainabilityRatingGrid;\n}\n\nfunction getMaintainabilityRatingTooltip(rating: number): string {\n  const maintainabilityGrid = getMaintainabilityRatingGrid();\n  const maintainabilityRatingThreshold = maintainabilityGrid[Math.floor(rating) - 2];\n\n  if (rating < 2) {\n    return translateWithParameters(\n      'metric.sqale_rating.tooltip.A',\n      formatMeasure(maintainabilityGrid[0] * 100, 'PERCENT')\n    );\n  }\n\n  const ratingLetter = formatMeasure(rating, 'RATING');\n\n  return translateWithParameters(\n    'metric.sqale_rating.tooltip',\n    ratingLetter,\n    formatMeasure(maintainabilityRatingThreshold * 100, 'PERCENT')\n  );\n}\n\nexport function getRatingTooltip(metricKey: string, value: number | string): string {\n  const ratingLetter = formatMeasure(value, 'RATING');\n\n  const finalMetricKey = isDiffMetric(metricKey) ? metricKey.substr(4) : metricKey;\n\n  return finalMetricKey === 'sqale_rating' || finalMetricKey === 'maintainability_rating'\n    ? getMaintainabilityRatingTooltip(Number(value))\n    : translate('metric', finalMetricKey, 'tooltip', ratingLetter);\n}\n\nexport function getDisplayMetrics(metrics: T.Metric[]) {\n  return metrics.filter(metric => !metric.hidden && !['DATA', 'DISTRIB'].includes(metric.type));\n}\n\nexport function findMeasure(measures: T.Measure[], metric: string) {\n  return measures.find(measure => measure.metric === metric);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON, RequestData } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport getCoverageStatus from '../components/SourceViewer/helpers/getCoverageStatus';\nimport { RawIssue } from '../helpers/issues';\n\nexport interface IssueResponse {\n  components?: Array<{ key: string; name: string }>;\n  issue: RawIssue;\n  rules?: Array<{}>;\n  users?: Array<T.UserBase>;\n}\n\ninterface IssuesResponse {\n  components?: { key: string; organization: string; name: string }[];\n  effortTotal: number;\n  facets: Array<{\n    property: string;\n    values: { count: number; val: string }[];\n  }>;\n  issues: RawIssue[];\n  paging: T.Paging;\n  rules?: Array<{}>;\n  users?: Array<T.UserBase>;\n}\n\ntype FacetName =\n  | 'assigned_to_me'\n  | 'assignees'\n  | 'authors'\n  | 'createdAt'\n  | 'cwe'\n  | 'directories'\n  | 'files'\n  | 'languages'\n  | 'modules'\n  | 'owaspTop10'\n  | 'projects'\n  | 'reporters'\n  | 'resolutions'\n  | 'rules'\n  | 'sansTop25'\n  | 'severities'\n  | 'statuses'\n  | 'tags'\n  | 'types';\n\nexport function searchIssues(query: RequestData): Promise<IssuesResponse> {\n  return getJSON('/api/issues/search', query);\n}\n\nexport function getFacets(\n  query: RequestData,\n  facets: FacetName[]\n): Promise<{\n  facets: Array<{ property: string; values: T.FacetValue[] }>;\n  response: IssuesResponse;\n}> {\n  const data = {\n    ...query,\n    facets: facets.join(),\n    ps: 1,\n    additionalFields: '_all'\n  };\n  return searchIssues(data).then(r => {\n    return { facets: r.facets, response: r };\n  });\n}\n\nexport function getFacet(\n  query: RequestData,\n  facet: FacetName\n): Promise<{ facet: { count: number; val: string }[]; response: IssuesResponse }> {\n  return getFacets(query, [facet]).then(r => {\n    return { facet: r.facets[0].values, response: r.response };\n  });\n}\n\nexport function searchIssueTags(data: {\n  organization?: string;\n  project?: string;\n  ps?: number;\n  q?: string;\n}): Promise<string[]> {\n  return getJSON('/api/issues/tags', data)\n    .then(r => r.tags)\n    .catch(throwGlobalError);\n}\n\nexport function getIssueChangelog(issue: string): Promise<{ changelog: T.IssueChangelog[] }> {\n  return getJSON('/api/issues/changelog', { issue }).catch(throwGlobalError);\n}\n\nexport function getIssueFilters() {\n  return getJSON('/api/issue_filters/search').then(r => r.issueFilters);\n}\n\nexport function addIssueComment(data: { issue: string; text: string }): Promise<IssueResponse> {\n  return postJSON('/api/issues/add_comment', data);\n}\n\nexport function deleteIssueComment(data: { comment: string }): Promise<IssueResponse> {\n  return postJSON('/api/issues/delete_comment', data);\n}\n\nexport function editIssueComment(data: { comment: string; text: string }): Promise<IssueResponse> {\n  return postJSON('/api/issues/edit_comment', data);\n}\n\nexport function setIssueAssignee(data: {\n  issue: string;\n  assignee?: string;\n}): Promise<IssueResponse> {\n  return postJSON('/api/issues/assign', data);\n}\n\nexport function setIssueSeverity(data: { issue: string; severity: string }): Promise<any> {\n  return postJSON('/api/issues/set_severity', data);\n}\n\nexport function setIssueTags(data: { issue: string; tags: string }): Promise<IssueResponse> {\n  return postJSON('/api/issues/set_tags', data);\n}\n\nexport function setIssueTransition(data: {\n  issue: string;\n  transition: string;\n}): Promise<IssueResponse> {\n  return postJSON('/api/issues/do_transition', data);\n}\n\nexport function setIssueType(data: { issue: string; type: string }): Promise<IssueResponse> {\n  return postJSON('/api/issues/set_type', data);\n}\n\nexport function bulkChangeIssues(issueKeys: string[], query: RequestData): Promise<void> {\n  return post('/api/issues/bulk_change', { issues: issueKeys.join(), ...query });\n}\n\nexport function searchIssueAuthors(data: {\n  organization?: string;\n  project?: string;\n  ps?: number;\n  q?: string;\n}): Promise<string[]> {\n  return getJSON('/api/issues/authors', data).then(r => r.authors, throwGlobalError);\n}\n\nexport function getIssueFlowSnippets(issueKey: string): Promise<T.Dict<T.SnippetsByComponent>> {\n  return getJSON('/api/sources/issue_snippets', { issueKey }).then(result => {\n    Object.keys(result).forEach(k => {\n      if (result[k].sources) {\n        result[k].sources = result[k].sources.reduce(\n          (lineMap: T.Dict<T.SourceLine>, line: T.SourceLine) => {\n            line.coverageStatus = getCoverageStatus(line);\n            lineMap[line.line] = line;\n            return lineMap;\n          },\n          {}\n        );\n      }\n    });\n    return result;\n  }, throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniqueId } from 'lodash';\nimport { Dispatch } from 'redux';\nimport { requireAuthorization } from './appState';\nimport { ActionType } from './utils/actions';\n\nenum MessageLevel {\n  Error = 'ERROR',\n  Success = 'SUCCESS'\n}\n\ninterface Message {\n  id: string;\n  message: string;\n  level: MessageLevel;\n}\n\nfunction addGlobalMessageActionCreator(id: string, message: string, level: MessageLevel) {\n  return { type: 'ADD_GLOBAL_MESSAGE', message, level, id };\n}\n\nexport function closeGlobalMessage(id: string) {\n  return { type: 'CLOSE_GLOBAL_MESSAGE', id };\n}\n\nexport function closeAllGlobalMessages() {\n  return { type: 'CLOSE_ALL_GLOBAL_MESSAGES' };\n}\n\ntype Action =\n  | ActionType<typeof addGlobalMessageActionCreator, 'ADD_GLOBAL_MESSAGE'>\n  | ActionType<typeof closeGlobalMessage, 'CLOSE_GLOBAL_MESSAGE'>\n  | ActionType<typeof closeAllGlobalMessages, 'CLOSE_ALL_GLOBAL_MESSAGES'>\n  | ActionType<typeof requireAuthorization, 'REQUIRE_AUTHORIZATION'>;\n\nfunction addGlobalMessage(message: string, level: MessageLevel) {\n  return (dispatch: Dispatch) => {\n    const id = uniqueId('global-message-');\n    dispatch(addGlobalMessageActionCreator(id, message, level));\n    setTimeout(() => dispatch(closeGlobalMessage(id)), 5000);\n  };\n}\n\nexport function addGlobalErrorMessage(message: string) {\n  return addGlobalMessage(message, MessageLevel.Error);\n}\n\nexport function addGlobalSuccessMessage(message: string) {\n  return addGlobalMessage(message, MessageLevel.Success);\n}\n\nexport type State = Message[];\n\nexport default function(state: State = [], action: Action): State {\n  switch (action.type) {\n    case 'ADD_GLOBAL_MESSAGE':\n      return [{ id: action.id, message: action.message, level: action.level }];\n\n    case 'REQUIRE_AUTHORIZATION':\n      // FIXME l10n\n      return [\n        {\n          id: uniqueId('global-message-'),\n          message:\n            'You are not authorized to access this page. ' +\n            'Please log in with more privileges and try again.',\n          level: MessageLevel.Error\n        }\n      ];\n\n    case 'CLOSE_GLOBAL_MESSAGE':\n      return state.filter(message => message.id !== action.id);\n\n    case 'CLOSE_ALL_GLOBAL_MESSAGES':\n      return [];\n    default:\n      return state;\n  }\n}\n\nexport function getGlobalMessages(state: State) {\n  return state;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function getWrappedDisplayName<P>(\n  WrappedComponent: React.ComponentType<P>,\n  hocName: string\n) {\n  const wrappedDisplayName = WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  return `${hocName}(${wrappedDisplayName})`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { Store } from 'redux';\nimport { setAppState } from '../../store/appState';\nimport rootReducer, { Store as State } from '../../store/rootReducer';\nimport { receiveCurrentUser } from '../../store/users';\nimport configureStore from '../../store/utils/configureStore';\n\nlet store: Store<State, any>;\n\nconst createStore = (currentUser?: T.CurrentUser, appState?: T.AppState) => {\n  store = configureStore(rootReducer);\n  if (currentUser) {\n    store.dispatch(receiveCurrentUser(currentUser));\n  }\n  if (appState) {\n    store.dispatch(setAppState(appState));\n  }\n  return store;\n};\n\nexport default (currentUser?: T.CurrentUser, appState?: T.AppState) =>\n  store ? store : createStore(currentUser, appState);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { applyMiddleware, compose, createStore } from 'redux';\nimport thunk, { ThunkMiddleware } from 'redux-thunk';\n\ntype RootReducer = typeof import('../rootReducer').default;\ntype State = import('../rootReducer').Store;\n\nconst middlewares = [thunk as ThunkMiddleware<State, any>];\nconst composed = [];\n\nif (process.env.NODE_ENV === 'development') {\n  const { createLogger } = require('redux-logger');\n  middlewares.push(createLogger());\n\n  const { __REDUX_DEVTOOLS_EXTENSION__ } = window as any;\n  composed.push(__REDUX_DEVTOOLS_EXTENSION__ ? __REDUX_DEVTOOLS_EXTENSION__() : (f: Function) => f);\n}\n\nconst finalCreateStore = compose(\n  applyMiddleware(...middlewares),\n  ...composed\n)(createStore);\n\nexport default function configureStore(rootReducer: RootReducer, initialState?: State) {\n  return finalCreateStore(rootReducer, initialState);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getInstance } from '../../helpers/system';\n\ninterface Props {\n  children?: (transformedMessage: string) => React.ReactChild;\n  message: string;\n}\n\nexport default function InstanceMessage({ children, message }: Props): any {\n  const transformedMessage = message.replace(/\\{instance\\}/gim, getInstance());\n\n  if (children) {\n    return children(transformedMessage);\n  }\n\n  return transformedMessage;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport GenericAvatar from 'sonar-ui-common/components/ui/GenericAvatar';\nimport { getGlobalSettingValue, Store } from '../../store/rootReducer';\n\ninterface Props {\n  className?: string;\n  enableGravatar: boolean;\n  gravatarServerUrl: string;\n  hash?: string;\n  name?: string;\n  size: number;\n}\n\nfunction Avatar(props: Props) {\n  if (!props.enableGravatar || !props.hash) {\n    if (!props.name) {\n      return null;\n    }\n    return <GenericAvatar className={props.className} name={props.name} size={props.size} />;\n  }\n\n  const url = props.gravatarServerUrl\n    .replace('{EMAIL_MD5}', props.hash)\n    .replace('{SIZE}', String(props.size * 2));\n\n  return (\n    <img\n      alt={props.name}\n      className={classNames(props.className, 'rounded')}\n      height={props.size}\n      src={url}\n      width={props.size}\n    />\n  );\n}\n\nconst mapStateToProps = (state: Store) => {\n  const enableGravatar = getGlobalSettingValue(state, 'sonar.lf.enableGravatar');\n  const gravatarServerUrl = getGlobalSettingValue(state, 'sonar.lf.gravatarServerUrl');\n  return {\n    enableGravatar: Boolean(enableGravatar && enableGravatar.value === 'true'),\n    gravatarServerUrl: (gravatarServerUrl && gravatarServerUrl.value) || ''\n  };\n};\n\nexport default connect(mapStateToProps)(Avatar);\n\nexport const unconnectedAvatar = Avatar;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { createContext } from 'react';\n\nexport interface A11yContextShape {\n  addA11ySkipLink: (link: T.A11ySkipLink) => void;\n  removeA11ySkipLink: (link: T.A11ySkipLink) => void;\n  links: T.A11ySkipLink[];\n}\n\nexport const A11yContext = createContext<A11yContextShape>({\n  addA11ySkipLink: () => {},\n  removeA11ySkipLink: () => {},\n  links: []\n});\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { request } from 'sonar-ui-common/helpers/request';\n\nexport function login(login: string, password: string): Promise<Response> {\n  return request('/api/authentication/login')\n    .setMethod('POST')\n    .setData({ login, password })\n    .submit()\n    .then(basicCheckStatus);\n}\n\nexport function logout(): Promise<Response> {\n  return request('/api/authentication/logout')\n    .setMethod('POST')\n    .submit()\n    .then(basicCheckStatus);\n}\n\nfunction basicCheckStatus(response: Response): Promise<Response> {\n  if (response.status >= 200 && response.status < 300) {\n    return Promise.resolve(response);\n  } else {\n    return Promise.reject(response);\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { InjectedRouter } from 'react-router';\nimport { Dispatch } from 'redux';\nimport * as auth from '../api/auth';\nimport { getLanguages } from '../api/languages';\nimport { getAllMetrics } from '../api/metrics';\nimport { getOrganization, getOrganizationNavigation, getOrganizations } from '../api/organizations';\nimport { getQualityGateProjectStatus } from '../api/quality-gates';\nimport { getBranchLikeQuery } from '../helpers/branch-like';\nimport { extractStatusConditionsFromProjectStatus } from '../helpers/qualityGates';\nimport { BranchLike } from '../types/branch-like';\nimport { requireAuthorization as requireAuthorizationAction } from './appState';\nimport { registerBranchStatusAction } from './branches';\nimport { addGlobalErrorMessage } from './globalMessages';\nimport { receiveLanguages } from './languages';\nimport { receiveMetrics } from './metrics';\nimport { receiveOrganizations } from './organizations';\n\nexport function fetchLanguages() {\n  return (dispatch: Dispatch) => {\n    getLanguages().then(languages => dispatch(receiveLanguages(languages)), () => {});\n  };\n}\n\nexport function fetchMetrics() {\n  return (dispatch: Dispatch) => {\n    getAllMetrics().then(metrics => dispatch(receiveMetrics(metrics)), () => {});\n  };\n}\n\nexport function fetchOrganizations(organizations: string[]) {\n  return (dispatch: Dispatch) => {\n    getOrganizations({ organizations: organizations && organizations.join() }).then(\n      r => dispatch(receiveOrganizations(r.organizations)),\n      () => {}\n    );\n  };\n}\n\nexport const fetchOrganization = (key: string) => (dispatch: Dispatch) => {\n  return Promise.all([getOrganization(key), getOrganizationNavigation(key)]).then(\n    ([organization, navigation]) => {\n      if (organization) {\n        const organizationWithPermissions = { ...organization, ...navigation };\n        dispatch(receiveOrganizations([organizationWithPermissions]));\n      }\n    }\n  );\n};\n\nexport function fetchBranchStatus(branchLike: BranchLike, projectKey: string) {\n  return (dispatch: Dispatch<any>) => {\n    getQualityGateProjectStatus({ projectKey, ...getBranchLikeQuery(branchLike) }).then(\n      projectStatus => {\n        const { ignoredConditions, status } = projectStatus;\n        const conditions = extractStatusConditionsFromProjectStatus(projectStatus);\n        dispatch(\n          registerBranchStatusAction(branchLike, projectKey, status, conditions, ignoredConditions)\n        );\n      },\n      () => {\n        dispatch(addGlobalErrorMessage('Fetching Quality Gate status failed'));\n      }\n    );\n  };\n}\n\nexport function doLogin(login: string, password: string) {\n  return (dispatch: Dispatch<any>) =>\n    auth.login(login, password).then(\n      () => {\n        /* everything is fine */\n      },\n      () => {\n        dispatch(addGlobalErrorMessage('Authentication failed'));\n        return Promise.reject();\n      }\n    );\n}\n\nexport function doLogout() {\n  return (dispatch: Dispatch<any>) =>\n    auth.logout().then(\n      () => {\n        /* everything is fine */\n      },\n      () => {\n        dispatch(addGlobalErrorMessage('Logout failed'));\n        return Promise.reject();\n      }\n    );\n}\n\nexport function requireAuthorization(router: Pick<InjectedRouter, 'replace'>) {\n  const returnTo = window.location.pathname + window.location.search + window.location.hash;\n  router.replace({ pathname: '/sessions/new', query: { return_to: returnTo } });\n  return requireAuthorizationAction();\n}\n\nexport function registerBranchStatus(branchLike: BranchLike, component: string, status: T.Status) {\n  return (dispatch: Dispatch) => {\n    dispatch(registerBranchStatusAction(branchLike, component, status));\n  };\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getLanguages(): Promise<T.Language[]> {\n  return getJSON('/api/languages/list').then(r => r.languages, throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function extractStatusConditionsFromProjectStatus(\n  projectStatus: T.QualityGateProjectStatus\n): T.QualityGateStatusCondition[] {\n  const { conditions } = projectStatus;\n  return conditions\n    ? conditions.map(c => ({\n        actual: c.actualValue,\n        error: c.errorThreshold,\n        level: c.status,\n        metric: c.metricKey,\n        op: c.comparator,\n        period: c.periodIndex\n      }))\n    : [];\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getOrganizations(data: {\n  organizations?: string;\n  member?: boolean;\n}): Promise<{\n  organizations: T.Organization[];\n  paging: T.Paging;\n}> {\n  return getJSON('/api/organizations/search', data).catch(throwGlobalError);\n}\n\nexport function getOrganization(key: string): Promise<T.Organization | undefined> {\n  return getJSON('/api/organizations/search', { organizations: key }).then(\n    r => r.organizations.find((o: T.Organization) => o.key === key),\n    throwGlobalError\n  );\n}\n\ninterface GetOrganizationNavigation {\n  adminPages: T.Extension[];\n  alm?: { key: string; membersSync: boolean; personal: boolean; url: string };\n  canUpdateProjectsVisibilityToPrivate: boolean;\n  isDefault: boolean;\n  pages: T.Extension[];\n}\n\nexport function getOrganizationNavigation(key: string): Promise<GetOrganizationNavigation> {\n  return getJSON('/api/navigation/organization', { organization: key }).then(\n    r => r.organization,\n    throwGlobalError\n  );\n}\n\nexport function getOrganizationsThatPreventDeletion(): Promise<{\n  organizations: T.Organization[];\n}> {\n  return getJSON('/api/organizations/prevent_user_deletion').catch(throwGlobalError);\n}\n\nexport function createOrganization(\n  data: T.OrganizationBase & { installationId?: string }\n): Promise<T.Organization> {\n  return postJSON('/api/organizations/create', data).then(r => r.organization, throwGlobalError);\n}\n\nexport function updateOrganization(key: string, changes: T.OrganizationBase) {\n  return post('/api/organizations/update', { key, ...changes }).catch(throwGlobalError);\n}\n\nexport function deleteOrganization(key: string) {\n  return post('/api/organizations/delete', { key }).catch(throwGlobalError);\n}\n\nexport function searchMembers(data: {\n  organization?: string;\n  p?: number;\n  ps?: number;\n  q?: string;\n  selected?: string;\n}): Promise<{ paging: T.Paging; users: T.OrganizationMember[] }> {\n  return getJSON('/api/organizations/search_members', data).catch(throwGlobalError);\n}\n\nexport function addMember(data: {\n  login: string;\n  organization: string;\n}): Promise<T.OrganizationMember> {\n  return postJSON('/api/organizations/add_member', data).then(r => r.user, throwGlobalError);\n}\n\nexport function removeMember(data: { login: string; organization: string }) {\n  return post('/api/organizations/remove_member', data).catch(throwGlobalError);\n}\n\nexport interface OrganizationBilling {\n  nclocCount: number;\n  subscription: {\n    plan?: {\n      maxNcloc: number;\n      price: number;\n    };\n    nextBillingDate?: string;\n    status: 'active' | 'inactive' | 'suspended';\n    trial: boolean;\n  };\n}\n\nexport function getOrganizationBilling(organization: string): Promise<OrganizationBilling> {\n  return getJSON('/api/billing/show', { organization, p: 1, ps: 1 });\n}\n\nexport function setOrganizationMemberSync(data: { enabled: boolean; organization: string }) {\n  return post('/api/organizations/set_members_sync', data).catch(throwGlobalError);\n}\n\nexport function syncMembers(organization: string) {\n  return post('/api/organizations/sync_members', { organization }).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport {\n  cleanQuery,\n  parseAsArray,\n  parseAsBoolean,\n  parseAsDate,\n  parseAsString,\n  queriesEqual,\n  serializeDateShort,\n  serializeString,\n  serializeStringArray\n} from 'sonar-ui-common/helpers/query';\nimport { scrollToElement } from 'sonar-ui-common/helpers/scrolling';\nimport { get, save } from 'sonar-ui-common/helpers/storage';\nimport { searchMembers } from '../../api/organizations';\nimport { searchUsers } from '../../api/users';\n\nexport interface Query {\n  assigned: boolean;\n  assignees: string[];\n  authors: string[];\n  createdAfter: Date | undefined;\n  createdAt: string;\n  createdBefore: Date | undefined;\n  createdInLast: string;\n  cwe: string[];\n  directories: string[];\n  files: string[];\n  issues: string[];\n  languages: string[];\n  modules: string[];\n  owaspTop10: string[];\n  projects: string[];\n  resolutions: string[];\n  resolved: boolean;\n  rules: string[];\n  sansTop25: string[];\n  severities: string[];\n  sinceLeakPeriod: boolean;\n  sonarsourceSecurity: string[];\n  sort: string;\n  statuses: string[];\n  tags: string[];\n  types: string[];\n}\n\nexport const STANDARDS = 'standards';\nexport const STANDARD_TYPES: T.StandardType[] = [\n  'owaspTop10',\n  'sansTop25',\n  'cwe',\n  'sonarsourceSecurity'\n];\n\n// allow sorting by CREATION_DATE only\nconst parseAsSort = (sort: string) => (sort === 'CREATION_DATE' ? 'CREATION_DATE' : '');\nconst ISSUES_DEFAULT = 'sonarqube.issues.default';\n\nexport function parseQuery(query: T.RawQuery): Query {\n  return {\n    assigned: parseAsBoolean(query.assigned),\n    assignees: parseAsArray(query.assignees, parseAsString),\n    authors: parseAsArray(query.authors, parseAsString),\n    createdAfter: parseAsDate(query.createdAfter),\n    createdAt: parseAsString(query.createdAt),\n    createdBefore: parseAsDate(query.createdBefore),\n    createdInLast: parseAsString(query.createdInLast),\n    cwe: parseAsArray(query.cwe, parseAsString),\n    directories: parseAsArray(query.directories, parseAsString),\n    files: parseAsArray(query.fileUuids, parseAsString),\n    issues: parseAsArray(query.issues, parseAsString),\n    languages: parseAsArray(query.languages, parseAsString),\n    modules: parseAsArray(query.moduleUuids, parseAsString),\n    owaspTop10: parseAsArray(query.owaspTop10, parseAsString),\n    projects: parseAsArray(query.projects, parseAsString),\n    resolutions: parseAsArray(query.resolutions, parseAsString),\n    resolved: parseAsBoolean(query.resolved),\n    rules: parseAsArray(query.rules, parseAsString),\n    sansTop25: parseAsArray(query.sansTop25, parseAsString),\n    severities: parseAsArray(query.severities, parseAsString),\n    sinceLeakPeriod: parseAsBoolean(query.sinceLeakPeriod, false),\n    sonarsourceSecurity: parseAsArray(query.sonarsourceSecurity, parseAsString),\n    sort: parseAsSort(query.s),\n    statuses: parseAsArray(query.statuses, parseAsString),\n    tags: parseAsArray(query.tags, parseAsString),\n    types: parseAsArray(query.types, parseAsString)\n  };\n}\n\nexport function getOpen(query: T.RawQuery): string | undefined {\n  return query.open;\n}\n\nexport const areMyIssuesSelected = (query: T.RawQuery) => query.myIssues === 'true';\n\nexport function serializeQuery(query: Query): T.RawQuery {\n  const filter = {\n    assigned: query.assigned ? undefined : 'false',\n    assignees: serializeStringArray(query.assignees),\n    authors: serializeStringArray(query.authors),\n    createdAfter: serializeDateShort(query.createdAfter),\n    createdAt: serializeString(query.createdAt),\n    createdBefore: serializeDateShort(query.createdBefore),\n    createdInLast: serializeString(query.createdInLast),\n    cwe: serializeStringArray(query.cwe),\n    directories: serializeStringArray(query.directories),\n    fileUuids: serializeStringArray(query.files),\n    issues: serializeStringArray(query.issues),\n    languages: serializeStringArray(query.languages),\n    moduleUuids: serializeStringArray(query.modules),\n    owaspTop10: serializeStringArray(query.owaspTop10),\n    projects: serializeStringArray(query.projects),\n    resolutions: serializeStringArray(query.resolutions),\n    resolved: query.resolved ? undefined : 'false',\n    rules: serializeStringArray(query.rules),\n    s: serializeString(query.sort),\n    sansTop25: serializeStringArray(query.sansTop25),\n    severities: serializeStringArray(query.severities),\n    sinceLeakPeriod: query.sinceLeakPeriod ? 'true' : undefined,\n    sonarsourceSecurity: serializeStringArray(query.sonarsourceSecurity),\n    statuses: serializeStringArray(query.statuses),\n    tags: serializeStringArray(query.tags),\n    types: serializeStringArray(query.types)\n  };\n  return cleanQuery(filter);\n}\n\nexport const areQueriesEqual = (a: T.RawQuery, b: T.RawQuery) =>\n  queriesEqual(parseQuery(a), parseQuery(b));\n\nexport interface RawFacet {\n  property: string;\n  values: Array<{ val: string; count: number }>;\n}\n\nexport interface Facet {\n  [value: string]: number;\n}\n\nexport function mapFacet(facet: string) {\n  const propertyMapping: T.Dict<string> = {\n    files: 'fileUuids',\n    modules: 'moduleUuids'\n  };\n  return propertyMapping[facet] || facet;\n}\n\nexport function parseFacets(facets: RawFacet[]): T.Dict<Facet> {\n  if (!facets) {\n    return {};\n  }\n\n  // for readability purpose\n  const propertyMapping: T.Dict<string> = {\n    fileUuids: 'files',\n    moduleUuids: 'modules'\n  };\n\n  const result: T.Dict<Facet> = {};\n  facets.forEach(facet => {\n    const values: Facet = {};\n    facet.values.forEach(value => {\n      values[value.val] = value.count;\n    });\n    const finalProperty = propertyMapping[facet.property] || facet.property;\n    result[finalProperty] = values;\n  });\n  return result;\n}\n\nexport function formatFacetStat(stat: number | undefined) {\n  return stat && formatMeasure(stat, 'SHORT_INT');\n}\n\nexport interface ReferencedComponent {\n  key: string;\n  name: string;\n  organization: string;\n  path?: string;\n  uuid: string;\n}\n\nexport interface ReferencedLanguage {\n  name: string;\n}\n\nexport interface ReferencedRule {\n  langName?: string;\n  name: string;\n}\n\nexport const searchAssignees = (\n  query: string,\n  organization: string | undefined,\n  page = 1\n): Promise<{ paging: T.Paging; results: T.UserBase[] }> => {\n  return organization\n    ? searchMembers({ organization, p: page, ps: 50, q: query }).then(({ paging, users }) => ({\n        paging,\n        results: users\n      }))\n    : searchUsers({ p: page, q: query }).then(({ paging, users }) => ({ paging, results: users }));\n};\n\nconst LOCALSTORAGE_MY = 'my';\nconst LOCALSTORAGE_ALL = 'all';\n\nexport const isMySet = () => {\n  return get(ISSUES_DEFAULT) === LOCALSTORAGE_MY;\n};\n\nexport const saveMyIssues = (myIssues: boolean) =>\n  save(ISSUES_DEFAULT, myIssues ? LOCALSTORAGE_MY : LOCALSTORAGE_ALL);\n\nexport function getLocations(\n  { flows, secondaryLocations }: Pick<T.Issue, 'flows' | 'secondaryLocations'>,\n  selectedFlowIndex: number | undefined\n) {\n  if (selectedFlowIndex !== undefined) {\n    return flows[selectedFlowIndex] || [];\n  } else {\n    return flows.length > 0 ? flows[0] : secondaryLocations;\n  }\n}\n\nexport function getSelectedLocation(\n  issue: Pick<T.Issue, 'flows' | 'secondaryLocations'>,\n  selectedFlowIndex: number | undefined,\n  selectedLocationIndex: number | undefined\n) {\n  const locations = getLocations(issue, selectedFlowIndex);\n  if (\n    selectedLocationIndex !== undefined &&\n    selectedLocationIndex >= 0 &&\n    locations.length >= selectedLocationIndex\n  ) {\n    return locations[selectedLocationIndex];\n  } else {\n    return undefined;\n  }\n}\n\nexport function allLocationsEmpty(\n  issue: Pick<T.Issue, 'flows' | 'secondaryLocations'>,\n  selectedFlowIndex: number | undefined\n) {\n  return getLocations(issue, selectedFlowIndex).every(location => !location.msg);\n}\n\nexport function scrollToIssue(issue: string, smooth = true) {\n  const element = document.querySelector(`[data-issue=\"${issue}\"]`);\n  if (element) {\n    scrollToElement(element, { topOffset: 250, bottomOffset: 100, smooth });\n  }\n}\n\nexport function shouldOpenSeverityFacet(openFacets: T.Dict<boolean>, query: Partial<Query>) {\n  return (\n    openFacets.severities ||\n    !(query.types && query.types.length === 1 && query.types[0] === 'SECURITY_HOTSPOT')\n  );\n}\n\nexport function shouldOpenStandardsFacet(\n  openFacets: T.Dict<boolean>,\n  query: Partial<Query>\n): boolean {\n  return (\n    openFacets[STANDARDS] ||\n    isFilteredBySecurityIssueTypes(query) ||\n    isOneStandardChildFacetOpen(openFacets, query)\n  );\n}\n\nexport function shouldOpenStandardsChildFacet(\n  openFacets: T.Dict<boolean>,\n  query: Partial<Query>,\n  standardType: T.StandardType\n): boolean {\n  const filter = query[standardType];\n  return (\n    openFacets[STANDARDS] !== false &&\n    (openFacets[standardType] ||\n      (standardType !== 'cwe' && filter !== undefined && filter.length > 0))\n  );\n}\n\nexport function shouldOpenSonarSourceSecurityFacet(\n  openFacets: T.Dict<boolean>,\n  query: Partial<Query>\n): boolean {\n  // Open it by default if the parent is open, and no other standard is open.\n  return (\n    shouldOpenStandardsChildFacet(openFacets, query, 'sonarsourceSecurity') ||\n    (shouldOpenStandardsFacet(openFacets, query) && !isOneStandardChildFacetOpen(openFacets, query))\n  );\n}\n\nfunction isFilteredBySecurityIssueTypes(query: Partial<Query>): boolean {\n  return (\n    query.types !== undefined &&\n    (query.types.includes('SECURITY_HOTSPOT') || query.types.includes('VULNERABILITY'))\n  );\n}\n\nfunction isOneStandardChildFacetOpen(openFacets: T.Dict<boolean>, query: Partial<Query>): boolean {\n  return STANDARD_TYPES.some(standardType =>\n    shouldOpenStandardsChildFacet(openFacets, query, standardType)\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { getCurrentUser, Store } from '../../store/rootReducer';\nimport { getWrappedDisplayName } from './utils';\n\nexport function withCurrentUser<P>(\n  WrappedComponent: React.ComponentType<P & { currentUser: T.CurrentUser }>\n) {\n  class Wrapper extends React.Component<P & { currentUser: T.CurrentUser }> {\n    static displayName = getWrappedDisplayName(WrappedComponent, 'withCurrentUser');\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  }\n\n  function mapStateToProps(state: Store) {\n    return { currentUser: getCurrentUser(state) };\n  }\n\n  return connect(mapStateToProps)(Wrapper);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniq } from 'lodash';\nimport { combineReducers, Dispatch } from 'redux';\nimport * as api from '../api/users';\nimport { isLoggedIn } from '../helpers/users';\nimport { ActionType } from './utils/actions';\n\nconst enum Actions {\n  ReceiveCurrentUser = 'RECEIVE_CURRENT_USER',\n  SetCurrentUserSetting = 'SET_CURRENT_USER_SETTING',\n  SkipOnboardingAction = 'SKIP_ONBOARDING',\n  SetHomePageAction = 'SET_HOMEPAGE'\n}\n\ntype Action =\n  | ActionType<typeof receiveCurrentUser, Actions.ReceiveCurrentUser>\n  | ActionType<typeof setCurrentUserSettingAction, Actions.SetCurrentUserSetting>\n  | ActionType<typeof setHomePageAction, Actions.SetHomePageAction>\n  | ActionType<typeof skipOnboardingAction, Actions.SkipOnboardingAction>;\n\nexport interface State {\n  usersByLogin: T.Dict<any>;\n  userLogins: string[];\n  currentUser: T.CurrentUser;\n}\n\nexport function receiveCurrentUser(user: T.CurrentUser) {\n  return { type: Actions.ReceiveCurrentUser, user };\n}\n\nfunction skipOnboardingAction() {\n  return { type: Actions.SkipOnboardingAction };\n}\n\nexport function skipOnboarding() {\n  return (dispatch: Dispatch) =>\n    api\n      .skipOnboarding()\n      .then(() => dispatch(skipOnboardingAction()), () => dispatch(skipOnboardingAction()));\n}\n\nfunction setHomePageAction(homepage: T.HomePage) {\n  return { type: Actions.SetHomePageAction, homepage };\n}\n\nfunction setCurrentUserSettingAction(setting: T.CurrentUserSetting) {\n  return { type: Actions.SetCurrentUserSetting, setting };\n}\n\nexport function setHomePage(homepage: T.HomePage) {\n  return (dispatch: Dispatch) => {\n    api.setHomePage(homepage).then(\n      () => {\n        dispatch(setHomePageAction(homepage));\n      },\n      () => {}\n    );\n  };\n}\n\nexport function setCurrentUserSetting(setting: T.CurrentUserSetting) {\n  return (dispatch: Dispatch, getState: () => { users: State }) => {\n    const oldSetting = getCurrentUserSetting(getState().users, setting.key);\n    dispatch(setCurrentUserSettingAction(setting));\n    api.setUserSetting(setting).then(\n      () => {},\n      () => {\n        dispatch(setCurrentUserSettingAction({ ...setting, value: oldSetting || '' }));\n      }\n    );\n  };\n}\n\nfunction usersByLogin(state: State['usersByLogin'] = {}, action: Action): State['usersByLogin'] {\n  if (action.type === Actions.ReceiveCurrentUser && isLoggedIn(action.user)) {\n    return { ...state, [action.user.login]: action.user };\n  } else {\n    return state;\n  }\n}\n\nfunction userLogins(state: State['userLogins'] = [], action: Action): State['userLogins'] {\n  if (action.type === Actions.ReceiveCurrentUser && isLoggedIn(action.user)) {\n    return uniq([...state, action.user.login]);\n  } else {\n    return state;\n  }\n}\n\nfunction currentUser(\n  state: State['currentUser'] = { isLoggedIn: false },\n  action: Action\n): State['currentUser'] {\n  if (action.type === Actions.ReceiveCurrentUser) {\n    return action.user;\n  }\n  if (action.type === Actions.SkipOnboardingAction && isLoggedIn(state)) {\n    return { ...state, showOnboardingTutorial: false } as T.LoggedInUser;\n  }\n  if (action.type === Actions.SetHomePageAction && isLoggedIn(state)) {\n    return { ...state, homepage: action.homepage } as T.LoggedInUser;\n  }\n  if (action.type === Actions.SetCurrentUserSetting && isLoggedIn(state)) {\n    let settings: T.CurrentUserSetting[];\n    if (state.settings) {\n      settings = [...state.settings];\n      const index = settings.findIndex(setting => setting.key === action.setting.key);\n      if (index === -1) {\n        settings.push(action.setting);\n      } else {\n        settings[index] = action.setting;\n      }\n    } else {\n      settings = [action.setting];\n    }\n    return { ...state, settings } as T.LoggedInUser;\n  }\n  return state;\n}\n\nexport default combineReducers({ usersByLogin, userLogins, currentUser });\n\nexport function getCurrentUser(state: State) {\n  return state.currentUser;\n}\n\nexport function getCurrentUserSetting(state: State, key: T.CurrentUserSettingNames) {\n  let setting;\n  if (isLoggedIn(state.currentUser) && state.currentUser.settings) {\n    setting = state.currentUser.settings.find(setting => setting.key === key);\n  }\n  return setting && setting.value;\n}\n\nexport function getUserByLogin(state: State, login: string) {\n  return state.usersByLogin[login];\n}\n\nexport function getUsersByLogins(state: State, logins: string[]) {\n  return logins.map(login => getUserByLogin(state, login));\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getCurrentUser(): Promise<T.CurrentUser> {\n  return getJSON('/api/users/current');\n}\n\nexport function changePassword(data: {\n  login: string;\n  password: string;\n  previousPassword?: string;\n}) {\n  return post('/api/users/change_password', data).catch(throwGlobalError);\n}\n\nexport interface UserGroup {\n  default: boolean;\n  description: string;\n  id: number;\n  name: string;\n  selected: boolean;\n}\n\nexport function getUserGroups(data: {\n  login: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n  q?: string;\n  selected?: string;\n}): Promise<{ paging: T.Paging; groups: UserGroup[] }> {\n  return getJSON('/api/users/groups', data);\n}\n\nexport function getIdentityProviders(): Promise<{ identityProviders: T.IdentityProvider[] }> {\n  return getJSON('/api/users/identity_providers').catch(throwGlobalError);\n}\n\nexport function searchUsers(data: {\n  p?: number;\n  ps?: number;\n  q?: string;\n}): Promise<{ paging: T.Paging; users: T.User[] }> {\n  data.q = data.q || undefined;\n  return getJSON('/api/users/search', data).catch(throwGlobalError);\n}\n\nexport function createUser(data: {\n  email?: string;\n  local?: boolean;\n  login: string;\n  name: string;\n  password?: string;\n  scmAccount: string[];\n}): Promise<void | Response> {\n  return post('/api/users/create', data);\n}\n\nexport function updateUser(data: {\n  email?: string;\n  login: string;\n  name?: string;\n  scmAccount: string[];\n}): Promise<T.User> {\n  return postJSON('/api/users/update', {\n    ...data,\n    scmAccount: data.scmAccount.length > 0 ? data.scmAccount : ''\n  });\n}\n\nexport function deactivateUser(data: { login: string }): Promise<T.User> {\n  return postJSON('/api/users/deactivate', data).catch(throwGlobalError);\n}\n\nexport function skipOnboarding(): Promise<void | Response> {\n  return post('/api/users/skip_onboarding_tutorial').catch(throwGlobalError);\n}\n\nexport function setHomePage(homepage: T.HomePage): Promise<void | Response> {\n  return post('/api/users/set_homepage', homepage).catch(throwGlobalError);\n}\n\nexport function setUserSetting(setting: T.CurrentUserSetting): Promise<void | Response> {\n  return post('/api/users/set_setting', setting).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { colors } from '../app/theme';\n\nexport const SEVERITIES = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\nexport const STATUSES = ['OPEN', 'REOPENED', 'CONFIRMED', 'RESOLVED', 'CLOSED'];\nexport const ISSUE_TYPES: T.IssueType[] = [\n  'BUG',\n  'VULNERABILITY',\n  'CODE_SMELL',\n  'SECURITY_HOTSPOT'\n];\nexport const RULE_TYPES: T.RuleType[] = ['BUG', 'VULNERABILITY', 'CODE_SMELL', 'SECURITY_HOTSPOT'];\nexport const RULE_STATUSES = ['READY', 'BETA', 'DEPRECATED'];\n\nexport const CHART_COLORS_RANGE_PERCENT = [\n  colors.green,\n  colors.lightGreen,\n  colors.yellow,\n  colors.orange,\n  colors.red\n];\n\nexport const CHART_REVERSED_COLORS_RANGE_PERCENT = [\n  colors.red,\n  colors.orange,\n  colors.yellow,\n  colors.lightGreen,\n  colors.green\n];\n\nexport const RATING_COLORS = [\n  colors.green,\n  colors.lightGreen,\n  colors.yellow,\n  colors.orange,\n  colors.red\n];\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as differenceInYears from 'date-fns/difference_in_years';\nimport { sortBy } from 'lodash';\nimport { isValidDate, parseDate } from 'sonar-ui-common/helpers/dates';\nimport { Profile as BaseProfile } from '../../api/quality-profiles';\nimport { Profile } from './types';\n\nexport function sortProfiles(profiles: BaseProfile[]): Profile[] {\n  const result: Profile[] = [];\n  const sorted = sortBy(profiles, 'name');\n\n  function retrieveChildren(parent: BaseProfile | null) {\n    return sorted.filter(\n      p => (parent == null && p.parentKey == null) || (parent != null && p.parentKey === parent.key)\n    );\n  }\n\n  function putProfile(profile: BaseProfile | null = null, depth: number = 1) {\n    const children = retrieveChildren(profile);\n\n    if (profile != null) {\n      result.push({ ...profile, childrenCount: children.length, depth });\n    }\n\n    children.forEach(child => putProfile(child, depth + 1));\n  }\n\n  sorted\n    .filter(\n      profile => profile.parentKey == null || sorted.find(p => p.key === profile.parentKey) == null\n    )\n    .forEach(profile => putProfile(profile));\n\n  return result;\n}\n\nexport function isStagnant(profile: Profile): boolean {\n  if (profile.rulesUpdatedAt) {\n    const updateDate = parseDate(profile.rulesUpdatedAt);\n    if (isValidDate(updateDate)) {\n      return differenceInYears(new Date(), updateDate) >= 1;\n    }\n  }\n  return false;\n}\n\nexport const getProfilesPath = (organization: string | null | undefined) =>\n  organization ? `/organizations/${organization}/quality_profiles` : '/profiles';\n\nexport const getProfilesForLanguagePath = (\n  language: string,\n  organization: string | null | undefined\n) => ({\n  pathname: getProfilesPath(organization),\n  query: { language }\n});\n\nexport const getProfilePath = (\n  name: string,\n  language: string,\n  organization: string | null | undefined\n) => ({\n  pathname: getProfilesPath(organization) + '/show',\n  query: { name, language }\n});\n\nexport const getProfileComparePath = (\n  name: string,\n  language: string,\n  organization: string | null | undefined,\n  withKey?: string\n) => {\n  const query = { language, name };\n  if (withKey) {\n    Object.assign(query, { withKey });\n  }\n  return {\n    pathname: getProfilesPath(organization) + '/compare',\n    query\n  };\n};\n\nexport const getProfileChangelogPath = (\n  name: string,\n  language: string,\n  organization: string | null | undefined,\n  filter?: { since?: string; to?: string }\n) => {\n  const query = { language, name };\n  if (filter) {\n    if (filter.since) {\n      Object.assign(query, { since: filter.since });\n    }\n    if (filter.to) {\n      Object.assign(query, { to: filter.to });\n    }\n  }\n  return {\n    pathname: getProfilesPath(organization) + '/changelog',\n    query\n  };\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { BranchParameters } from '../types/branch-like';\n\nexport function fetchQualityGates(data: {\n  organization?: string;\n}): Promise<{\n  actions: { create: boolean };\n  qualitygates: T.QualityGate[];\n}> {\n  return getJSON('/api/qualitygates/list', data).catch(throwGlobalError);\n}\n\nexport function fetchQualityGate(data: {\n  id: number | string;\n  organization?: string;\n}): Promise<T.QualityGate> {\n  return getJSON('/api/qualitygates/show', data).catch(throwGlobalError);\n}\n\nexport function createQualityGate(data: {\n  name: string;\n  organization?: string;\n}): Promise<T.QualityGate> {\n  return postJSON('/api/qualitygates/create', data).catch(throwGlobalError);\n}\n\nexport function deleteQualityGate(data: {\n  id: number;\n  organization?: string;\n}): Promise<void | Response> {\n  return post('/api/qualitygates/destroy', data).catch(throwGlobalError);\n}\n\nexport function renameQualityGate(data: {\n  id: number;\n  name: string;\n  organization?: string;\n}): Promise<void | Response> {\n  return post('/api/qualitygates/rename', data).catch(throwGlobalError);\n}\n\nexport function copyQualityGate(data: {\n  id: number;\n  name: string;\n  organization?: string;\n}): Promise<T.QualityGate> {\n  return postJSON('/api/qualitygates/copy', data).catch(throwGlobalError);\n}\n\nexport function setQualityGateAsDefault(data: {\n  id: number;\n  organization?: string;\n}): Promise<void | Response> {\n  return post('/api/qualitygates/set_as_default', data).catch(throwGlobalError);\n}\n\nexport function createCondition(\n  data: {\n    gateId: number;\n    organization?: string;\n  } & T.Omit<T.Condition, 'id'>\n): Promise<T.Condition> {\n  return postJSON('/api/qualitygates/create_condition', data).catch(throwGlobalError);\n}\n\nexport function updateCondition(\n  data: { organization?: string } & T.Condition\n): Promise<T.Condition> {\n  return postJSON('/api/qualitygates/update_condition', data).catch(throwGlobalError);\n}\n\nexport function deleteCondition(data: { id: number; organization?: string }): Promise<void> {\n  return post('/api/qualitygates/delete_condition', data);\n}\n\nexport function getGateForProject(data: {\n  organization?: string;\n  project: string;\n}): Promise<T.QualityGate | undefined> {\n  return getJSON('/api/qualitygates/get_by_project', data).then(\n    ({ qualityGate }) =>\n      qualityGate && {\n        ...qualityGate,\n        isDefault: qualityGate.default\n      },\n    throwGlobalError\n  );\n}\n\nexport function searchProjects(data: {\n  gateId: number;\n  organization?: string;\n  page?: number;\n  pageSize?: number;\n  query?: string;\n  selected?: string;\n}): Promise<{\n  paging: T.Paging;\n  results: Array<{ id: string; key: string; name: string; selected: boolean }>;\n}> {\n  return getJSON('/api/qualitygates/search', data).catch(throwGlobalError);\n}\n\nexport function associateGateWithProject(data: {\n  gateId: number;\n  organization?: string;\n  projectKey?: string;\n  projectId?: string;\n}): Promise<void | Response> {\n  return post('/api/qualitygates/select', data).catch(throwGlobalError);\n}\n\nexport function dissociateGateWithProject(data: {\n  gateId: number;\n  organization?: string;\n  projectKey?: string;\n  projectId?: string;\n}): Promise<void | Response> {\n  return post('/api/qualitygates/deselect', data).catch(throwGlobalError);\n}\n\nexport interface ConditionAnalysis {\n  comparator: string;\n  errorThreshold?: string;\n  metric: string;\n  periodIndex?: number;\n  onLeak?: boolean;\n  status: string;\n  value: string;\n  warningThreshold?: string;\n}\n\nexport interface ApplicationProject {\n  key: string;\n  name: string;\n  status: string;\n  conditions: ConditionAnalysis[];\n}\n\nexport interface ApplicationQualityGate {\n  metrics: T.Metric[];\n  projects: ApplicationProject[];\n  status: string;\n}\n\nexport function getApplicationQualityGate(data: {\n  application: string;\n  branch?: string;\n  organization?: string;\n}): Promise<ApplicationQualityGate> {\n  return getJSON('/api/qualitygates/application_status', data).catch(throwGlobalError);\n}\n\nexport function getQualityGateProjectStatus(\n  data: {\n    projectKey?: string;\n    projectId?: string;\n  } & BranchParameters\n): Promise<T.QualityGateProjectStatus> {\n  return getJSON('/api/qualitygates/project_status', data)\n    .then(r => r.projectStatus)\n    .catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\nexport default function GlobalFooterBranding() {\n  const { official } = window as any;\n  return official ? (\n    <div>\n      SonarQube&trade; technology is powered by{' '}\n      <a href=\"http://www.sonarsource.com\" rel=\"noopener noreferrer\" target=\"_blank\">\n        SonarSource SA\n      </a>\n    </div>\n  ) : (\n    <div>\n      This application is based on{' '}\n      <a\n        href=\"http://www.sonarqube.org/\"\n        rel=\"noopener noreferrer\"\n        target=\"_blank\"\n        title=\"SonarQube\">\n        SonarQube\n      </a>{' '}\n      but is <strong>not</strong> an official version provided by{' '}\n      <a\n        href=\"http://www.sonarsource.com\"\n        rel=\"noopener noreferrer\"\n        target=\"_blank\"\n        title=\"SonarSource SA\">\n        SonarSource SA\n      </a>\n      .\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as getYear from 'date-fns/get_year';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport default function GlobalFooterSonarCloud() {\n  return (\n    <div className=\"page-footer page-container\" id=\"footer\">\n      <div>\n        {` 2008-${getYear(new Date())}, SonarCloud by `}\n        <a\n          href=\"http://www.sonarsource.com\"\n          rel=\"noopener noreferrer\"\n          target=\"_blank\"\n          title=\"SonarSource SA\">\n          SonarSource SA\n        </a>\n        . All rights reserved.\n      </div>\n\n      <ul className=\"page-footer-menu\">\n        <li className=\"page-footer-menu-item\">\n          <a\n            href=\"https://blog.sonarsource.com/product/SonarCloud\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\">\n            {translate('footer.news')}\n          </a>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <a href=\"https://twitter.com/sonarcloud\" rel=\"noopener noreferrer\" target=\"_blank\">\n            {translate('footer.twitter')}\n          </a>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <Link rel=\"noopener noreferrer\" target=\"_blank\" to=\"/terms.pdf\">\n            {translate('footer.terms')}\n          </Link>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <Link to=\"/about/pricing/\">{translate('footer.pricing')}</Link>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <Link to=\"/documentation/privacy/\">{translate('footer.privacy')}</Link>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <Link to=\"/documentation/security/\">{translate('footer.security')}</Link>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <a\n            href=\"https://community.sonarsource.com/c/help/sc\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\">\n            {translate('footer.help')}\n          </a>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <Link to=\"/about/contact\">{translate('footer.contact_us')}</Link>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <a href=\"https://sonarcloud.statuspage.io/\" rel=\"noopener noreferrer\" target=\"_blank\">\n            {translate('footer.status')}\n          </a>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <Link to=\"/about\">{translate('footer.about')}</Link>\n        </li>\n      </ul>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport { getAppState, Store } from '../../store/rootReducer';\nimport { EditionKey } from '../../types/editions';\nimport GlobalFooter from './GlobalFooter';\n\ninterface StateProps {\n  productionDatabase: boolean;\n  sonarqubeEdition?: EditionKey;\n  sonarqubeVersion?: string;\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  productionDatabase: getAppState(state).productionDatabase,\n  sonarqubeEdition: getAppState(state).edition as EditionKey, // TODO: Fix once AppState is no longer ambiant.\n  sonarqubeVersion: getAppState(state).version\n});\n\nexport default connect(mapStateToProps)(GlobalFooter);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport InstanceMessage from '../../components/common/InstanceMessage';\nimport { getEdition } from '../../helpers/editions';\nimport { isSonarCloud } from '../../helpers/system';\nimport { EditionKey } from '../../types/editions';\nimport GlobalFooterBranding from './GlobalFooterBranding';\nimport GlobalFooterSonarCloud from './GlobalFooterSonarCloud';\n\ninterface Props {\n  hideLoggedInInfo?: boolean;\n  productionDatabase: boolean;\n  sonarqubeEdition?: EditionKey;\n  sonarqubeVersion?: string;\n}\n\nexport default function GlobalFooter({\n  hideLoggedInInfo,\n  productionDatabase,\n  sonarqubeEdition,\n  sonarqubeVersion\n}: Props) {\n  if (isSonarCloud()) {\n    return <GlobalFooterSonarCloud />;\n  }\n\n  const currentEdition = sonarqubeEdition && getEdition(sonarqubeEdition);\n\n  return (\n    <div className=\"page-footer page-container\" id=\"footer\">\n      {productionDatabase === false && (\n        <Alert display=\"inline\" id=\"evaluation_warning\" variant=\"warning\">\n          <p className=\"big\">{translate('footer.production_database_warning')}</p>\n          <p>\n            <InstanceMessage message={translate('footer.production_database_explanation')} />\n          </p>\n        </Alert>\n      )}\n\n      <GlobalFooterBranding />\n\n      <ul className=\"page-footer-menu\">\n        {!hideLoggedInInfo && currentEdition && (\n          <li className=\"page-footer-menu-item\">{currentEdition.name}</li>\n        )}\n        {!hideLoggedInInfo && sonarqubeVersion && (\n          <li className=\"page-footer-menu-item\">\n            {translateWithParameters('footer.version_x', sonarqubeVersion)}\n          </li>\n        )}\n        <li className=\"page-footer-menu-item\">\n          <a href=\"http://www.gnu.org/licenses/lgpl-3.0.txt\">{translate('footer.license')}</a>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <a href=\"http://www.sonarqube.org\">{translate('footer.community')}</a>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <Link to=\"/documentation\">{translate('footer.documentation')}</Link>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <a href=\"https://redirect.sonarsource.com/doc/community.html\">\n            {translate('footer.support')}\n          </a>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <a href=\"https://redirect.sonarsource.com/doc/plugin-library.html\">\n            {translate('footer.plugins')}\n          </a>\n        </li>\n        {!hideLoggedInInfo && (\n          <li className=\"page-footer-menu-item\">\n            <Link to=\"/web_api\">{translate('footer.web_api')}</Link>\n          </li>\n        )}\n        {!hideLoggedInInfo && (\n          <li className=\"page-footer-menu-item\">\n            <Link to=\"/about\">{translate('footer.about')}</Link>\n          </li>\n        )}\n      </ul>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sanitize } from 'dompurify';\nimport { hasMessage, translate } from 'sonar-ui-common/helpers/l10n';\n\nexport const DEFAULT_CATEGORY = 'general';\n\nexport type DefaultSpecializedInputProps = T.Omit<DefaultInputProps, 'setting'> & {\n  isDefault: boolean;\n  name: string;\n};\n\nexport interface DefaultInputProps {\n  hasValueChanged?: boolean;\n  onCancel?: () => void;\n  onChange: (value: any) => void;\n  onSave?: () => void;\n  setting: T.Setting;\n  value: any;\n}\n\nexport function sanitizeTranslation(html: string) {\n  return sanitize(html, {\n    ALLOWED_TAGS: ['b', 'br', 'code', 'i', 'li', 'p', 'strong', 'ul']\n  });\n}\n\nexport function getPropertyName(definition: T.SettingDefinition) {\n  const key = `property.${definition.key}.name`;\n  return hasMessage(key) ? translate(key) : definition.name;\n}\n\nexport function getPropertyDescription(definition: T.SettingDefinition) {\n  const key = `property.${definition.key}.description`;\n  return hasMessage(key) ? translate(key) : definition.description;\n}\n\nexport function getCategoryName(category: string) {\n  const key = `property.category.${category}`;\n  return hasMessage(key) ? translate(key) : category;\n}\n\nexport function getSubCategoryName(category: string, subCategory: string) {\n  const key = `property.category.${category}.${subCategory}`;\n  return hasMessage(key) ? translate(key) : getCategoryName(subCategory);\n}\n\nexport function getSubCategoryDescription(category: string, subCategory: string) {\n  const key = `property.category.${category}.${subCategory}.description`;\n  return hasMessage(key) ? translate(key) : null;\n}\n\nexport function getUniqueName(definition: T.SettingDefinition, index?: string) {\n  const indexSuffix = index ? `[${index}]` : '';\n  return `settings[${definition.key}]${indexSuffix}`;\n}\n\nexport function getSettingValue({ definition, fieldValues, value, values }: T.Setting) {\n  if (isCategoryDefinition(definition) && definition.multiValues) {\n    return values;\n  } else if (definition.type === 'PROPERTY_SET') {\n    return fieldValues;\n  } else {\n    return value;\n  }\n}\n\nexport function isEmptyValue(definition: T.SettingDefinition, value: any) {\n  if (value == null) {\n    return true;\n  } else if (definition.type === 'BOOLEAN') {\n    return false;\n  } else {\n    return value.length === 0;\n  }\n}\n\nexport function isCategoryDefinition(\n  item: T.SettingDefinition\n): item is T.SettingCategoryDefinition {\n  return Boolean((item as any).fields);\n}\n\nexport function getEmptyValue(item: T.SettingDefinition | T.SettingCategoryDefinition): any {\n  if (isCategoryDefinition(item)) {\n    if (item.multiValues) {\n      return [getEmptyValue({ ...item, multiValues: false })];\n    }\n\n    if (item.type === 'PROPERTY_SET') {\n      const value: T.Dict<string> = {};\n      item.fields.forEach(field => (value[field.key] = getEmptyValue(field)));\n      return [value];\n    }\n  }\n\n  if (item.type === 'BOOLEAN' || item.type === 'SINGLE_SELECT_LIST') {\n    return null;\n  }\n  return '';\n}\n\nexport function isDefaultOrInherited(setting: T.Setting) {\n  return Boolean(setting.inherited);\n}\n\nexport function getDefaultValue(setting: T.Setting) {\n  const { definition, parentFieldValues, parentValue, parentValues } = setting;\n\n  if (definition.type === 'PASSWORD') {\n    return translate('settings.default.password');\n  }\n\n  if (definition.type === 'BOOLEAN' && parentValue) {\n    const isTrue = parentValue === 'true';\n    return isTrue ? translate('settings.boolean.true') : translate('settings.boolean.false');\n  }\n\n  if (\n    isCategoryDefinition(definition) &&\n    definition.multiValues &&\n    parentValues &&\n    parentValues.length > 0\n  ) {\n    return parentValues.join(', ');\n  }\n\n  if (definition.type === 'PROPERTY_SET' && parentFieldValues && parentFieldValues.length > 0) {\n    return translate('settings.default.complex_value');\n  }\n\n  if (parentValue == null) {\n    return isCategoryDefinition(definition) && definition.defaultValue\n      ? definition.defaultValue\n      : translate('settings.default.no_value');\n  }\n\n  return parentValue;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { ActionType } from './utils/actions';\n\nexport const enum Actions {\n  SetAppState = 'SET_APP_STATE',\n  SetAdminPages = 'SET_ADMIN_PAGES',\n  RequireAuthorization = 'REQUIRE_AUTHORIZATION'\n}\n\nexport type Action =\n  | ActionType<typeof setAppState, Actions.SetAppState>\n  | ActionType<typeof setAdminPages, Actions.SetAdminPages>\n  | ActionType<typeof requireAuthorization, Actions.RequireAuthorization>;\n\nexport function setAppState(appState: T.AppState) {\n  return { type: Actions.SetAppState, appState };\n}\n\nexport function setAdminPages(adminPages: T.Extension[]) {\n  return { type: Actions.SetAdminPages, adminPages };\n}\n\nexport function requireAuthorization() {\n  return { type: Actions.RequireAuthorization };\n}\n\nconst defaultValue: T.AppState = {\n  authenticationError: false,\n  authorizationError: false,\n  defaultOrganization: '',\n  edition: undefined,\n  organizationsEnabled: false,\n  productionDatabase: true,\n  qualifiers: [],\n  settings: {},\n  version: ''\n};\n\nexport default function(state: T.AppState = defaultValue, action: Action): T.AppState {\n  if (action.type === Actions.SetAppState) {\n    return { ...state, ...action.appState };\n  }\n  if (action.type === Actions.SetAdminPages) {\n    return { ...state, adminPages: action.adminPages };\n  }\n  if (action.type === Actions.RequireAuthorization) {\n    return { ...state, authorizationError: true };\n  }\n  return state;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniq } from 'lodash';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { RequestData } from 'sonar-ui-common/helpers/request';\nimport { Facet, searchProjects } from '../../api/components';\nimport { getMeasuresForProjects } from '../../api/measures';\nimport { getOrganizations } from '../../api/organizations';\nimport { getPeriodValue, isDiffMetric } from '../../helpers/measures';\nimport { convertToFilter, Query } from './query';\n\ninterface SortingOption {\n  class?: string;\n  value: string;\n}\n\nexport const PROJECTS_DEFAULT_FILTER = 'sonarqube.projects.default';\nexport const PROJECTS_FAVORITE = 'favorite';\nexport const PROJECTS_ALL = 'all';\n\nexport const SORTING_METRICS: SortingOption[] = [\n  { value: 'name' },\n  { value: 'analysis_date' },\n  { value: 'reliability' },\n  { value: 'security' },\n  { value: 'maintainability' },\n  { value: 'coverage' },\n  { value: 'duplications' },\n  { value: 'size' }\n];\n\nexport const SORTING_LEAK_METRICS: SortingOption[] = [\n  { value: 'name' },\n  { value: 'analysis_date' },\n  { value: 'new_reliability', class: 'projects-leak-sorting-option' },\n  { value: 'new_security', class: 'projects-leak-sorting-option' },\n  { value: 'new_maintainability', class: 'projects-leak-sorting-option' },\n  { value: 'new_coverage', class: 'projects-leak-sorting-option' },\n  { value: 'new_duplications', class: 'projects-leak-sorting-option' },\n  { value: 'new_lines', class: 'projects-leak-sorting-option' }\n];\n\nexport const SORTING_SWITCH: T.Dict<string> = {\n  analysis_date: 'analysis_date',\n  name: 'name',\n  reliability: 'new_reliability',\n  security: 'new_security',\n  maintainability: 'new_maintainability',\n  coverage: 'new_coverage',\n  duplications: 'new_duplications',\n  size: 'new_lines',\n  new_reliability: 'reliability',\n  new_security: 'security',\n  new_maintainability: 'maintainability',\n  new_coverage: 'coverage',\n  new_duplications: 'duplications',\n  new_lines: 'size'\n};\n\nexport const VIEWS = [{ value: 'overall', label: 'overall' }, { value: 'leak', label: 'new_code' }];\n\nexport const VISUALIZATIONS = [\n  'risk',\n  'reliability',\n  'security',\n  'maintainability',\n  'coverage',\n  'duplications'\n];\n\nconst PAGE_SIZE = 50;\nconst PAGE_SIZE_VISUALIZATIONS = 99;\n\nconst METRICS = [\n  'alert_status',\n  'bugs',\n  'reliability_rating',\n  'vulnerabilities',\n  'security_rating',\n  'code_smells',\n  'sqale_rating',\n  'duplicated_lines_density',\n  'coverage',\n  'ncloc',\n  'ncloc_language_distribution'\n];\n\nconst LEAK_METRICS = [\n  'alert_status',\n  'new_bugs',\n  'new_reliability_rating',\n  'new_vulnerabilities',\n  'new_security_rating',\n  'new_code_smells',\n  'new_maintainability_rating',\n  'new_coverage',\n  'new_duplicated_lines_density',\n  'new_lines'\n];\n\nconst METRICS_BY_VISUALIZATION: T.Dict<string[]> = {\n  risk: ['reliability_rating', 'security_rating', 'coverage', 'ncloc', 'sqale_index'],\n  // x, y, size, color\n  reliability: ['ncloc', 'reliability_remediation_effort', 'bugs', 'reliability_rating'],\n  security: ['ncloc', 'security_remediation_effort', 'vulnerabilities', 'security_rating'],\n  maintainability: ['ncloc', 'sqale_index', 'code_smells', 'sqale_rating'],\n  coverage: ['complexity', 'coverage', 'uncovered_lines'],\n  duplications: ['ncloc', 'duplicated_lines_density', 'duplicated_blocks']\n};\n\nexport const FACETS = [\n  'reliability_rating',\n  'security_rating',\n  'sqale_rating',\n  'coverage',\n  'duplicated_lines_density',\n  'ncloc',\n  'alert_status',\n  'languages',\n  'tags'\n];\n\nexport const LEAK_FACETS = [\n  'new_reliability_rating',\n  'new_security_rating',\n  'new_maintainability_rating',\n  'new_coverage',\n  'new_duplicated_lines_density',\n  'new_lines',\n  'alert_status',\n  'languages',\n  'tags'\n];\n\nconst REVERSED_FACETS = ['coverage', 'new_coverage'];\n\nexport function localizeSorting(sort?: string): string {\n  return translate('projects.sort', sort || 'name');\n}\n\nexport function parseSorting(sort: string): { sortValue: string; sortDesc: boolean } {\n  const desc = sort[0] === '-';\n  return { sortValue: desc ? sort.substr(1) : sort, sortDesc: desc };\n}\n\nexport function fetchProjects(\n  query: Query,\n  isFavorite: boolean,\n  organization: T.Organization | undefined,\n  pageIndex = 1\n) {\n  const ps = query.view === 'visualizations' ? PAGE_SIZE_VISUALIZATIONS : PAGE_SIZE;\n  const data = convertToQueryData(query, isFavorite, organization && organization.key, {\n    p: pageIndex > 1 ? pageIndex : undefined,\n    ps,\n    facets: defineFacets(query).join(),\n    f: 'analysisDate,leakPeriodDate'\n  });\n  return searchProjects(data)\n    .then(response =>\n      Promise.all([\n        fetchProjectMeasures(response.components, query),\n        fetchProjectOrganizations(response.components, organization),\n        Promise.resolve(response)\n      ])\n    )\n    .then(([measures, organizations, { components, facets, paging }]) => {\n      return {\n        facets: getFacetsMap(facets),\n        projects: components\n          .map(component => {\n            const componentMeasures: T.Dict<string> = {};\n            measures\n              .filter(measure => measure.component === component.key)\n              .forEach(measure => {\n                const value = isDiffMetric(measure.metric)\n                  ? getPeriodValue(measure, 1)\n                  : measure.value;\n                if (value !== undefined) {\n                  componentMeasures[measure.metric] = value;\n                }\n              });\n            return { ...component, measures: componentMeasures };\n          })\n          .map(component => {\n            const organization = organizations.find(o => o.key === component.organization);\n            return { ...component, organization };\n          }),\n        total: paging.total\n      };\n    });\n}\n\nfunction defineMetrics(query: Query): string[] {\n  switch (query.view) {\n    case 'visualizations':\n      return METRICS_BY_VISUALIZATION[query.visualization || 'risk'];\n    case 'leak':\n      return LEAK_METRICS;\n    default:\n      return METRICS;\n  }\n}\n\nfunction defineFacets(query: Query): string[] {\n  if (query.view === 'leak') {\n    return LEAK_FACETS;\n  }\n  return FACETS;\n}\n\nfunction convertToQueryData(\n  query: Query,\n  isFavorite: boolean,\n  organization?: string,\n  defaultData = {}\n) {\n  const data: RequestData = { ...defaultData, organization };\n  const filter = convertToFilter(query, isFavorite);\n  const sort = convertToSorting(query);\n\n  if (filter) {\n    data.filter = filter;\n  }\n  if (sort.s) {\n    data.s = sort.s;\n  }\n  if (sort.asc !== undefined) {\n    data.asc = sort.asc;\n  }\n  return data;\n}\n\nexport function fetchProjectMeasures(projects: Array<{ key: string }>, query: Query) {\n  if (!projects.length) {\n    return Promise.resolve([]);\n  }\n\n  const projectKeys = projects.map(project => project.key);\n  const metrics = defineMetrics(query);\n  return getMeasuresForProjects(projectKeys, metrics);\n}\n\nexport function fetchProjectOrganizations(\n  projects: Array<{ organization: string }>,\n  organization: T.Organization | undefined\n) {\n  if (organization) {\n    return Promise.resolve([organization]);\n  }\n  if (!projects.length) {\n    return Promise.resolve([]);\n  }\n\n  const organizations = uniq(projects.map(project => project.organization));\n  return getOrganizations({ organizations: organizations.join() }).then(r => r.organizations);\n}\n\nfunction mapFacetValues(values: Array<{ val: string; count: number }>) {\n  const map: T.Dict<number> = {};\n  values.forEach(value => {\n    map[value.val] = value.count;\n  });\n  return map;\n}\n\nfunction getFacetsMap(facets: Facet[]) {\n  const map: T.Dict<T.Dict<number>> = {};\n  facets.forEach(facet => {\n    const property = mapMetricToProperty(facet.property);\n    const { values } = facet;\n    if (REVERSED_FACETS.includes(property)) {\n      values.reverse();\n    }\n    map[property] = mapFacetValues(values);\n  });\n  return map;\n}\n\nfunction mapPropertyToMetric(property?: string) {\n  const map: T.Dict<string> = {\n    analysis_date: 'analysisDate',\n    reliability: 'reliability_rating',\n    new_reliability: 'new_reliability_rating',\n    security: 'security_rating',\n    new_security: 'new_security_rating',\n    maintainability: 'sqale_rating',\n    new_maintainability: 'new_maintainability_rating',\n    coverage: 'coverage',\n    new_coverage: 'new_coverage',\n    duplications: 'duplicated_lines_density',\n    new_duplications: 'new_duplicated_lines_density',\n    size: 'ncloc',\n    new_lines: 'new_lines',\n    gate: 'alert_status',\n    languages: 'languages',\n    tags: 'tags',\n    search: 'query'\n  };\n  return property && map[property];\n}\n\nfunction convertToSorting({ sort }: Query): { s?: string; asc?: boolean } {\n  if (sort && sort[0] === '-') {\n    return { s: mapPropertyToMetric(sort.substr(1)), asc: false };\n  }\n  return { s: mapPropertyToMetric(sort) };\n}\n\nfunction mapMetricToProperty(metricKey: string) {\n  const map: T.Dict<string> = {\n    analysisDate: 'analysis_date',\n    reliability_rating: 'reliability',\n    new_reliability_rating: 'new_reliability',\n    security_rating: 'security',\n    new_security_rating: 'new_security',\n    sqale_rating: 'maintainability',\n    new_maintainability_rating: 'new_maintainability',\n    coverage: 'coverage',\n    new_coverage: 'new_coverage',\n    duplicated_lines_density: 'duplications',\n    new_duplicated_lines_density: 'new_duplications',\n    ncloc: 'size',\n    new_lines: 'new_lines',\n    alert_status: 'gate',\n    languages: 'languages',\n    tags: 'tags',\n    query: 'search'\n  };\n  return map[metricKey];\n}\n\nconst ONE_MINUTE = 60000;\nconst ONE_HOUR = 60 * ONE_MINUTE;\nconst ONE_DAY = 24 * ONE_HOUR;\nconst ONE_MONTH = 30 * ONE_DAY;\nconst ONE_YEAR = 12 * ONE_MONTH;\n\nfunction format(periods: Array<{ value: number; label: string }>) {\n  let result = '';\n  let count = 0;\n  let lastId = -1;\n  for (let i = 0; i < periods.length && count < 2; i++) {\n    if (periods[i].value > 0) {\n      count++;\n      if (lastId < 0 || lastId + 1 === i) {\n        lastId = i;\n        result += translateWithParameters(periods[i].label, periods[i].value) + ' ';\n      }\n    }\n  }\n  return result;\n}\n\nexport function formatDuration(ms: number) {\n  if (ms < ONE_MINUTE) {\n    return translate('duration.seconds');\n  }\n  const years = Math.floor(ms / ONE_YEAR);\n  ms -= years * ONE_YEAR;\n  const months = Math.floor(ms / ONE_MONTH);\n  ms -= months * ONE_MONTH;\n  const days = Math.floor(ms / ONE_DAY);\n  ms -= days * ONE_DAY;\n  const hours = Math.floor(ms / ONE_HOUR);\n  ms -= hours * ONE_HOUR;\n  const minutes = Math.floor(ms / ONE_MINUTE);\n  return format([\n    { value: years, label: 'duration.years' },\n    { value: months, label: 'duration.months' },\n    { value: days, label: 'duration.days' },\n    { value: hours, label: 'duration.hours' },\n    { value: minutes, label: 'duration.minutes' }\n  ]);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON, RequestData } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { BranchParameters } from '../types/branch-like';\n\nexport function getMeasures(\n  data: { component: string; metricKeys: string } & BranchParameters\n): Promise<T.Measure[]> {\n  return getJSON('/api/measures/component', data).then(r => r.component.measures, throwGlobalError);\n}\n\nexport function getMeasuresAndMeta(\n  component: string,\n  metrics: string[],\n  additional: RequestData = {}\n): Promise<{ component: T.ComponentMeasure; metrics?: T.Metric[]; periods?: T.Period[] }> {\n  return getJSON('/api/measures/component', {\n    ...additional,\n    component,\n    metricKeys: metrics.join(',')\n  }).catch(throwGlobalError);\n}\n\ninterface MeasuresForProjects {\n  component: string;\n  metric: string;\n  periods?: T.PeriodMeasure[];\n  value?: string;\n}\n\nexport function getMeasuresForProjects(\n  projectKeys: string[],\n  metricKeys: string[]\n): Promise<MeasuresForProjects[]> {\n  return getJSON('/api/measures/search', {\n    projectKeys: projectKeys.join(),\n    metricKeys: metricKeys.join()\n  }).then(r => r.measures);\n}\n\nexport function getCustomMeasures(data: {\n  f?: string;\n  p?: number;\n  projectKey: string;\n  ps?: number;\n}): Promise<{ customMeasures: T.CustomMeasure[]; paging: T.Paging }> {\n  return getJSON('/api/custom_measures/search', data).then(\n    r =>\n      ({\n        customMeasures: r.customMeasures,\n        paging: { pageIndex: r.p, pageSize: r.ps, total: r.total }\n      } as any),\n    throwGlobalError\n  );\n}\n\nexport function createCustomMeasure(data: {\n  description?: string;\n  metricKey: string;\n  projectKey: string;\n  value: string;\n}): Promise<T.CustomMeasure> {\n  return postJSON('/api/custom_measures/create', data).catch(throwGlobalError);\n}\n\nexport function updateCustomMeasure(data: { description?: string; id: string; value?: string }) {\n  return post('/api/custom_measures/update', data).catch(throwGlobalError);\n}\n\nexport function deleteCustomMeasure(data: { id: string }) {\n  return post('/api/custom_measures/delete', data).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport GenericAvatar from 'sonar-ui-common/components/ui/GenericAvatar';\nimport './OrganizationAvatar.css';\n\ninterface Props {\n  className?: string;\n  organization: Pick<T.OrganizationBase, 'avatar' | 'name'>;\n  small?: boolean;\n}\n\ninterface State {\n  imgLoadError: boolean;\n}\n\nexport default class OrganizationAvatar extends React.PureComponent<Props, State> {\n  state = { imgLoadError: false };\n\n  handleImgError = () => {\n    this.setState({ imgLoadError: true });\n  };\n\n  render() {\n    const { className, organization, small } = this.props;\n    const { imgLoadError } = this.state;\n    return (\n      <div\n        className={classNames(\n          'navbar-context-avatar',\n          'rounded',\n          { 'no-border': !organization.avatar, 'is-small': small },\n          className\n        )}>\n        {organization.avatar && !imgLoadError ? (\n          <img\n            alt={organization.name}\n            className=\"rounded\"\n            onError={this.handleImgError}\n            src={organization.avatar}\n          />\n        ) : (\n          <GenericAvatar name={organization.name} size={small ? 15 : 30} />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit, uniq, without } from 'lodash';\nimport { combineReducers } from 'redux';\nimport { ActionType } from './utils/actions';\n\ntype ReceiveOrganizationsAction =\n  | ActionType<typeof receiveOrganizations, 'RECEIVE_ORGANIZATIONS'>\n  | ActionType<typeof receiveMyOrganizations, 'RECEIVE_MY_ORGANIZATIONS'>;\n\ntype Action =\n  | ReceiveOrganizationsAction\n  | ActionType<typeof createOrganization, 'CREATE_ORGANIZATION'>\n  | ActionType<typeof updateOrganization, 'UPDATE_ORGANIZATION'>\n  | ActionType<typeof deleteOrganization, 'DELETE_ORGANIZATION'>;\n\nexport interface State {\n  byKey: T.Dict<T.Organization>;\n  my: string[];\n}\n\nexport function receiveOrganizations(organizations: T.Organization[]) {\n  return { type: 'RECEIVE_ORGANIZATIONS', organizations };\n}\n\nexport function receiveMyOrganizations(organizations: T.Organization[]) {\n  return { type: 'RECEIVE_MY_ORGANIZATIONS', organizations };\n}\n\nexport function createOrganization(organization: T.Organization) {\n  return { type: 'CREATE_ORGANIZATION', organization };\n}\n\nexport function updateOrganization(key: string, changes: T.OrganizationBase) {\n  return { type: 'UPDATE_ORGANIZATION', key, changes };\n}\n\nexport function deleteOrganization(key: string) {\n  return { type: 'DELETE_ORGANIZATION', key };\n}\n\nfunction onReceiveOrganizations(state: State['byKey'], action: ReceiveOrganizationsAction) {\n  const nextState = { ...state };\n  action.organizations.forEach(organization => {\n    nextState[organization.key] = { ...state[organization.key], ...organization };\n  });\n  return nextState;\n}\n\nfunction byKey(state: State['byKey'] = {}, action: Action): State['byKey'] {\n  switch (action.type) {\n    case 'RECEIVE_ORGANIZATIONS':\n    case 'RECEIVE_MY_ORGANIZATIONS':\n      return onReceiveOrganizations(state, action);\n    case 'CREATE_ORGANIZATION':\n      return {\n        ...state,\n        [action.organization.key]: {\n          ...action.organization,\n          actions: { ...(action.organization.actions || {}), admin: true }\n        }\n      };\n    case 'UPDATE_ORGANIZATION':\n      return {\n        ...state,\n        [action.key]: {\n          ...state[action.key],\n          key: action.key,\n          ...action.changes\n        }\n      };\n    case 'DELETE_ORGANIZATION':\n      return omit(state, action.key);\n    default:\n      return state;\n  }\n}\n\nfunction my(state: State['my'] = [], action: Action): State['my'] {\n  switch (action.type) {\n    case 'RECEIVE_MY_ORGANIZATIONS':\n      return uniq([...state, ...action.organizations.map(o => o.key)]);\n    case 'CREATE_ORGANIZATION':\n      return uniq([...state, action.organization.key]);\n    case 'DELETE_ORGANIZATION':\n      return without(state, action.key);\n    default:\n      return state;\n  }\n}\n\nexport default combineReducers({ byKey, my });\n\nexport function getOrganizationByKey(state: State, key: string) {\n  return state.byKey[key];\n}\n\nexport function getMyOrganizations(state: State) {\n  return state.my.map(key => getOrganizationByKey(state, key));\n}\n\nexport function areThereCustomOrganizations(state: State) {\n  return Object.keys(state.byKey).length > 1;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { createPortal } from 'react-dom';\n\nexport default class WorkspacePortal extends React.PureComponent {\n  el: HTMLElement;\n\n  constructor(props: {}) {\n    super(props);\n    this.el = document.createElement('div');\n    this.el.classList.add('workspace');\n  }\n\n  componentDidMount() {\n    document.body.appendChild(this.el);\n  }\n\n  componentWillUnmount() {\n    document.body.removeChild(this.el);\n  }\n\n  render() {\n    return createPortal(this.props.children, this.el);\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit, uniqBy } from 'lodash';\nimport * as React from 'react';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport { get, save } from 'sonar-ui-common/helpers/storage';\nimport { ComponentDescriptor, RuleDescriptor, WorkspaceContext } from './context';\nimport './styles.css';\nimport WorkspacePortal from './WorkspacePortal';\n\nconst WORKSPACE = 'sonarqube-workspace';\nconst WorkspaceNav = lazyLoad(() => import('./WorkspaceNav'));\nconst WorkspaceRuleViewer = lazyLoad(() => import('./WorkspaceRuleViewer'));\nconst WorkspaceComponentViewer = lazyLoad(() => import('./WorkspaceComponentViewer'));\n\ninterface State {\n  components: ComponentDescriptor[];\n  height: number;\n  maximized?: boolean;\n  open: { component?: string; rule?: string };\n  rules: RuleDescriptor[];\n}\n\nconst MIN_HEIGHT = 0.05;\nconst MAX_HEIGHT = 0.85;\nconst INITIAL_HEIGHT = 300;\n\nconst TYPE_KEY = '__type__';\n\nexport default class Workspace extends React.PureComponent<{}, State> {\n  mounted = false;\n\n  constructor(props: {}) {\n    super(props);\n    this.state = { height: INITIAL_HEIGHT, open: {}, ...this.loadWorkspace() };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentDidUpdate(_: {}, prevState: State) {\n    if (prevState.components !== this.state.components || prevState.rules !== this.state.rules) {\n      this.saveWorkspace();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadWorkspace = () => {\n    try {\n      const data: any[] = JSON.parse(get(WORKSPACE) || '');\n      const components: ComponentDescriptor[] = data.filter(x => x[TYPE_KEY] === 'component');\n      const rules: RuleDescriptor[] = data.filter(x => x[TYPE_KEY] === 'rule');\n      return { components, rules };\n    } catch {\n      // fail silently\n      return { components: [], rules: [] };\n    }\n  };\n\n  saveWorkspace = () => {\n    const data = [\n      // do not save line number, next time the file is open, it should be open on the first line\n      ...this.state.components.map(x => omit({ ...x, [TYPE_KEY]: 'component' }, 'line')),\n      ...this.state.rules.map(x => ({ ...x, [TYPE_KEY]: 'rule' }))\n    ];\n    save(WORKSPACE, JSON.stringify(data));\n  };\n\n  openComponent = (component: ComponentDescriptor) => {\n    this.setState((state: State) => ({\n      components: uniqBy([...state.components, component], component => component.key),\n      open: { component: component.key }\n    }));\n  };\n\n  reopenComponent = (componentKey: string) => {\n    this.setState({ open: { component: componentKey } });\n  };\n\n  openRule = (rule: RuleDescriptor) => {\n    this.setState((state: State) => ({\n      open: { rule: rule.key },\n      rules: uniqBy([...state.rules, rule], rule => rule.key)\n    }));\n  };\n\n  reopenRule = (ruleKey: string) => {\n    this.setState({ open: { rule: ruleKey } });\n  };\n\n  closeComponent = (componentKey: string) => {\n    this.setState((state: State) => ({\n      components: state.components.filter(x => x.key !== componentKey),\n      open: {\n        ...state.open,\n        component: state.open.component === componentKey ? undefined : state.open.component\n      }\n    }));\n  };\n\n  closeRule = (ruleKey: string) => {\n    this.setState((state: State) => ({\n      rules: state.rules.filter(x => x.key !== ruleKey),\n      open: {\n        ...state.open,\n        rule: state.open.rule === ruleKey ? undefined : state.open.rule\n      }\n    }));\n  };\n\n  handleComponentLoad = (details: { key: string; name: string; qualifier: string }) => {\n    if (this.mounted) {\n      const { key, name, qualifier } = details;\n      this.setState((state: State) => ({\n        components: state.components.map(component =>\n          component.key === key ? { ...component, name, qualifier } : component\n        )\n      }));\n    }\n  };\n\n  handleRuleLoad = (details: { key: string; name: string }) => {\n    if (this.mounted) {\n      const { key, name } = details;\n      this.setState((state: State) => ({\n        rules: state.rules.map(rule => (rule.key === key ? { ...rule, name } : rule))\n      }));\n    }\n  };\n\n  collapse = () => {\n    this.setState({ open: {} });\n  };\n\n  maximize = () => {\n    this.setState({ maximized: true });\n  };\n\n  minimize = () => {\n    this.setState({ maximized: false });\n  };\n\n  resize = (deltaY: number) => {\n    const minHeight = window.innerHeight * MIN_HEIGHT;\n    const maxHeight = window.innerHeight * MAX_HEIGHT;\n    this.setState((state: State) => ({\n      height: Math.min(maxHeight, Math.max(minHeight, state.height - deltaY))\n    }));\n  };\n\n  render() {\n    const { components, open, rules } = this.state;\n\n    const openComponent = open.component && components.find(x => x.key === open.component);\n    const openRule = open.rule && rules.find(x => x.key === open.rule);\n\n    const height = this.state.maximized ? window.innerHeight * MAX_HEIGHT : this.state.height;\n\n    return (\n      <WorkspaceContext.Provider\n        value={{ openComponent: this.openComponent, openRule: this.openRule }}>\n        {this.props.children}\n        <WorkspacePortal>\n          {(components.length > 0 || rules.length > 0) && (\n            <WorkspaceNav\n              components={components}\n              onComponentClose={this.closeComponent}\n              onComponentOpen={this.reopenComponent}\n              onRuleClose={this.closeRule}\n              onRuleOpen={this.reopenRule}\n              open={this.state.open}\n              rules={rules}\n            />\n          )}\n          {openComponent && (\n            <WorkspaceComponentViewer\n              component={openComponent}\n              height={height}\n              maximized={this.state.maximized}\n              onClose={this.closeComponent}\n              onCollapse={this.collapse}\n              onLoad={this.handleComponentLoad}\n              onMaximize={this.maximize}\n              onMinimize={this.minimize}\n              onResize={this.resize}\n            />\n          )}\n          {openRule && (\n            <WorkspaceRuleViewer\n              height={height}\n              maximized={this.state.maximized}\n              onClose={this.closeRule}\n              onCollapse={this.collapse}\n              onLoad={this.handleRuleLoad}\n              onMaximize={this.maximize}\n              onMinimize={this.minimize}\n              onResize={this.resize}\n              rule={openRule}\n            />\n          )}\n        </WorkspacePortal>\n      </WorkspaceContext.Provider>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\nimport * as React from 'react';\nimport { A11yContext } from './A11yContext';\n\ninterface State {\n  links: T.A11ySkipLink[];\n}\n\nexport default class A11yProvider extends React.Component<{}, State> {\n  keys: string[] = [];\n  state: State = { links: [] };\n\n  addA11ySkipLink = (link: T.A11ySkipLink) => {\n    this.setState(prevState => {\n      const links = [...prevState.links];\n      links.push({ ...link, weight: link.weight || 0 });\n      return { links };\n    });\n  };\n\n  removeA11ySkipLink = (link: T.A11ySkipLink) => {\n    this.setState(prevState => {\n      const links = prevState.links.filter(l => l.key !== link.key);\n      return { links };\n    });\n  };\n\n  render() {\n    const links = sortBy(this.state.links, 'weight');\n    return (\n      <A11yContext.Provider\n        value={{\n          addA11ySkipLink: this.addA11ySkipLink,\n          links,\n          removeA11ySkipLink: this.removeA11ySkipLink\n        }}>\n        {this.props.children}\n      </A11yContext.Provider>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { A11yContext } from './A11yContext';\nimport './A11ySkipLinks.css';\n\nexport default function A11ySkipLinks() {\n  return (\n    <A11yContext.Consumer>\n      {({ links }) =>\n        links.map(link => (\n          <a className=\"a11y-skip-link\" href={`#a11y_target__${link.key}`} key={link.key}>\n            {link.label}\n          </a>\n        ))\n      }\n    </A11yContext.Consumer>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport suggestionsJson from 'Docs/EmbedDocsSuggestions.json';\nimport * as React from 'react';\nimport { isSonarCloud } from '../../../helpers/system';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ntype SuggestionsJson = T.Dict<T.SuggestionLink[]>;\n\ninterface State {\n  suggestions: T.SuggestionLink[];\n}\n\nexport default class SuggestionsProvider extends React.Component<{}, State> {\n  keys: string[] = [];\n  state: State = { suggestions: [] };\n\n  fetchSuggestions = () => {\n    const jsonList = suggestionsJson as SuggestionsJson;\n    let suggestions: T.SuggestionLink[] = [];\n    this.keys.forEach(key => {\n      if (jsonList[key]) {\n        suggestions = [...jsonList[key], ...suggestions];\n      }\n    });\n    if (!isSonarCloud()) {\n      suggestions = suggestions.filter(suggestion => suggestion.scope !== 'sonarcloud');\n    }\n    this.setState({ suggestions });\n  };\n\n  addSuggestions = (newKey: string) => {\n    this.keys = [...this.keys, newKey];\n    this.fetchSuggestions();\n  };\n\n  removeSuggestions = (oldKey: string) => {\n    this.keys = this.keys.filter(key => key !== oldKey);\n    this.fetchSuggestions();\n  };\n\n  render() {\n    return (\n      <SuggestionsContext.Provider\n        value={{\n          addSuggestions: this.addSuggestions,\n          removeSuggestions: this.removeSuggestions,\n          suggestions: this.state.suggestions\n        }}>\n        {this.props.children}\n      </SuggestionsContext.Provider>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport HelpIcon from 'sonar-ui-common/components/icons/HelpIcon';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nconst EmbedDocsPopup = lazyLoad(() => import('./EmbedDocsPopup'));\n\ninterface State {\n  helpOpen: boolean;\n}\n\nexport default class EmbedDocsPopupHelper extends React.PureComponent<{}, State> {\n  mounted = false;\n  state: State = { helpOpen: false };\n\n  componentDidMount() {\n    window.addEventListener('keypress', this.onKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keypress', this.onKeyPress);\n  }\n\n  onKeyPress = (event: KeyboardEvent) => {\n    const { tagName } = event.target as HTMLElement;\n    const code = event.keyCode || event.which;\n    const isInput = tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA';\n    const isTriggerKey = code === 63;\n    if (!isInput && isTriggerKey) {\n      this.toggleHelp();\n    }\n  };\n\n  setHelpDisplay = (helpOpen: boolean) => {\n    this.setState({ helpOpen });\n  };\n\n  handleClick = () => {\n    this.toggleHelp();\n  };\n\n  toggleHelp = () => {\n    this.setState(state => {\n      return { helpOpen: !state.helpOpen };\n    });\n  };\n\n  closeHelp = () => {\n    this.setState({ helpOpen: false });\n  };\n\n  render() {\n    return (\n      <li className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.closeHelp}\n          open={this.state.helpOpen}\n          overlay={<EmbedDocsPopup onClose={this.closeHelp} />}>\n          <ButtonLink\n            aria-expanded={this.state.helpOpen}\n            aria-haspopup={true}\n            className=\"navbar-help navbar-icon\"\n            onClick={this.handleClick}\n            title={translate('help')}>\n            <HelpIcon />\n          </ButtonLink>\n        </Toggler>\n      </li>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as key from 'keymaster';\nimport { debounce, keyBy, uniqBy } from 'lodash';\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { withRouter, WithRouterProps } from 'react-router';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport OutsideClickHandler from 'sonar-ui-common/components/controls/OutsideClickHandler';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport ClockIcon from 'sonar-ui-common/components/icons/ClockIcon';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { scrollToElement } from 'sonar-ui-common/helpers/scrolling';\nimport { getSuggestions } from '../../../api/components';\nimport { getCodeUrl, getProjectUrl } from '../../../helpers/urls';\nimport RecentHistory from '../RecentHistory';\nimport './Search.css';\nimport { ComponentResult, More, Results, sortQualifiers } from './utils';\n\nconst SearchResults = lazyLoad(() => import('./SearchResults'));\nconst SearchResult = lazyLoad(() => import('./SearchResult'));\n\ninterface OwnProps {\n  appState: Pick<T.AppState, 'organizationsEnabled'>;\n  currentUser: T.CurrentUser;\n}\n\ntype Props = OwnProps & WithRouterProps;\n\ninterface State {\n  loading: boolean;\n  loadingMore?: string;\n  more: More;\n  open: boolean;\n  organizations: T.Dict<{ name: string }>;\n  projects: T.Dict<{ name: string }>;\n  query: string;\n  results: Results;\n  selected?: string;\n  shortQuery: boolean;\n}\n\nexport class Search extends React.PureComponent<Props, State> {\n  input?: HTMLInputElement | null;\n  node?: HTMLElement | null;\n  nodes: T.Dict<HTMLElement>;\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.nodes = {};\n    this.search = debounce(this.search, 250);\n    this.state = {\n      loading: false,\n      more: {},\n      open: false,\n      organizations: {},\n      projects: {},\n      query: '',\n      results: {},\n      shortQuery: false\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    key('s', () => {\n      this.focusInput();\n      this.openSearch();\n      return false;\n    });\n  }\n\n  componentWillUpdate() {\n    this.nodes = {};\n  }\n\n  componentDidUpdate(_prevProps: Props, prevState: State) {\n    if (prevState.selected !== this.state.selected) {\n      this.scrollToSelected();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    key.unbind('s');\n  }\n\n  focusInput = () => {\n    if (this.input) {\n      this.input.focus();\n    }\n  };\n\n  handleClickOutside = () => {\n    this.closeSearch(false);\n  };\n\n  handleFocus = () => {\n    if (!this.state.open) {\n      // simulate click to close any other dropdowns\n      const body = document.documentElement;\n      if (body) {\n        body.click();\n      }\n    }\n    this.openSearch();\n  };\n\n  openSearch = () => {\n    if (!this.state.open && !this.state.query) {\n      this.search('');\n    }\n    this.setState({ open: true });\n  };\n\n  closeSearch = (clear = true) => {\n    if (this.input) {\n      this.input.blur();\n    }\n    if (clear) {\n      this.setState({\n        more: {},\n        open: false,\n        organizations: {},\n        projects: {},\n        query: '',\n        results: {},\n        selected: undefined,\n        shortQuery: false\n      });\n    } else {\n      this.setState({ open: false });\n    }\n  };\n\n  getPlainComponentsList = (results: Results, more: More) =>\n    sortQualifiers(Object.keys(results)).reduce((components, qualifier) => {\n      const next = [...components, ...results[qualifier].map(component => component.key)];\n      if (more[qualifier]) {\n        next.push('qualifier###' + qualifier);\n      }\n      return next;\n    }, []);\n\n  findFile = (key: string) => {\n    const findInResults = (results: ComponentResult[] | undefined) =>\n      results && results.find(r => r.key === key);\n\n    const file = findInResults(this.state.results['FIL']);\n    if (file) {\n      return file;\n    }\n\n    const test = findInResults(this.state.results['UTS']);\n    if (test) {\n      return test;\n    }\n\n    return undefined;\n  };\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  search = (query: string) => {\n    if (query.length === 0 || query.length >= 2) {\n      this.setState({ loading: true });\n      const recentlyBrowsed = RecentHistory.get().map(component => component.key);\n      getSuggestions(query, recentlyBrowsed).then(response => {\n        // compare `this.state.query` and `query` to handle two request done almost at the same time\n        // in this case only the request that matches the current query should be taken\n        if (this.mounted && this.state.query === query) {\n          const results: Results = {};\n          const more: More = {};\n          response.results.forEach(group => {\n            results[group.q] = group.items.map(item => ({ ...item, qualifier: group.q }));\n            more[group.q] = group.more;\n          });\n          const list = this.getPlainComponentsList(results, more);\n          this.setState(state => ({\n            loading: false,\n            more,\n            organizations: { ...state.organizations, ...keyBy(response.organizations, 'key') },\n            projects: { ...state.projects, ...keyBy(response.projects, 'key') },\n            results,\n            selected: list.length > 0 ? list[0] : undefined,\n            shortQuery: query.length > 2 && response.warning === 'short_input'\n          }));\n        }\n      }, this.stopLoading);\n    } else {\n      this.setState({ loading: false });\n    }\n  };\n\n  searchMore = (qualifier: string) => {\n    const { query } = this.state;\n    if (query.length === 1) {\n      return;\n    }\n\n    this.setState({ loading: true, loadingMore: qualifier });\n    const recentlyBrowsed = RecentHistory.get().map(component => component.key);\n    getSuggestions(query, recentlyBrowsed, qualifier).then(response => {\n      if (this.mounted) {\n        const group = response.results.find(group => group.q === qualifier);\n        const moreResults = (group ? group.items : []).map(item => ({ ...item, qualifier }));\n        this.setState(state => ({\n          loading: false,\n          loadingMore: undefined,\n          more: { ...state.more, [qualifier]: 0 },\n          organizations: { ...state.organizations, ...keyBy(response.organizations, 'key') },\n          projects: { ...state.projects, ...keyBy(response.projects, 'key') },\n          results: {\n            ...state.results,\n            [qualifier]: uniqBy([...state.results[qualifier], ...moreResults], 'key')\n          },\n          selected: moreResults.length > 0 ? moreResults[0].key : state.selected\n        }));\n        this.focusInput();\n      }\n    }, this.stopLoading);\n  };\n\n  handleQueryChange = (query: string) => {\n    this.setState({ query, shortQuery: query.length === 1 });\n    this.search(query);\n  };\n\n  selectPrevious = () => {\n    this.setState(({ more, results, selected }) => {\n      if (selected) {\n        const list = this.getPlainComponentsList(results, more);\n        const index = list.indexOf(selected);\n        return index > 0 ? { selected: list[index - 1] } : null;\n      } else {\n        return null;\n      }\n    });\n  };\n\n  selectNext = () => {\n    this.setState(({ more, results, selected }) => {\n      if (selected) {\n        const list = this.getPlainComponentsList(results, more);\n        const index = list.indexOf(selected);\n        return index >= 0 && index < list.length - 1 ? { selected: list[index + 1] } : null;\n      } else {\n        return null;\n      }\n    });\n  };\n\n  openSelected = () => {\n    const { selected } = this.state;\n\n    if (selected) {\n      if (selected.startsWith('qualifier###')) {\n        this.searchMore(selected.substr(12));\n      } else {\n        const file = this.findFile(selected);\n        if (file) {\n          this.props.router.push(getCodeUrl(file.project!, undefined, file.key));\n        } else {\n          this.props.router.push(getProjectUrl(selected));\n        }\n        this.closeSearch();\n      }\n    }\n  };\n\n  scrollToSelected = () => {\n    if (this.state.selected) {\n      const node = this.nodes[this.state.selected];\n      if (node && this.node) {\n        scrollToElement(node, { topOffset: 30, bottomOffset: 30, parent: this.node });\n      }\n    }\n  };\n\n  handleKeyDown = (event: React.KeyboardEvent) => {\n    switch (event.keyCode) {\n      case 13:\n        event.preventDefault();\n        this.openSelected();\n        return;\n      case 38:\n        event.preventDefault();\n        this.selectPrevious();\n        return;\n      case 40:\n        event.preventDefault();\n        this.selectNext();\n        // keep this return to prevent fall-through in case more cases will be adder later\n        // eslint-disable-next-line no-useless-return\n        return;\n    }\n  };\n\n  handleSelect = (selected: string) => {\n    this.setState({ selected });\n  };\n\n  innerRef = (component: string, node: HTMLElement | null) => {\n    if (node) {\n      this.nodes[component] = node;\n    }\n  };\n\n  searchInputRef = (node: HTMLInputElement | null) => {\n    this.input = node;\n  };\n\n  renderResult = (component: ComponentResult) => (\n    <SearchResult\n      appState={this.props.appState}\n      component={component}\n      innerRef={this.innerRef}\n      key={component.key}\n      onClose={this.closeSearch}\n      onSelect={this.handleSelect}\n      organizations={this.state.organizations}\n      projects={this.state.projects}\n      selected={this.state.selected === component.key}\n    />\n  );\n\n  renderNoResults = () => (\n    <div className=\"navbar-search-no-results\">\n      {translateWithParameters('no_results_for_x', this.state.query)}\n    </div>\n  );\n\n  render() {\n    const search = (\n      <li className=\"navbar-search dropdown\">\n        <DeferredSpinner className=\"navbar-search-icon\" loading={this.state.loading} />\n\n        <SearchBox\n          autoFocus={this.state.open}\n          innerRef={this.searchInputRef}\n          minLength={2}\n          onChange={this.handleQueryChange}\n          onFocus={this.handleFocus}\n          onKeyDown={this.handleKeyDown}\n          placeholder={translate('search.placeholder')}\n          value={this.state.query}\n        />\n\n        {this.state.shortQuery && (\n          <span className=\"navbar-search-input-hint\">\n            {translateWithParameters('select2.tooShort', 2)}\n          </span>\n        )}\n\n        {this.state.open && Object.keys(this.state.results).length > 0 && (\n          <DropdownOverlay noPadding={true}>\n            <div className=\"global-navbar-search-dropdown\" ref={node => (this.node = node)}>\n              <SearchResults\n                allowMore={this.state.query.length !== 1}\n                loadingMore={this.state.loadingMore}\n                more={this.state.more}\n                onMoreClick={this.searchMore}\n                onSelect={this.handleSelect}\n                renderNoResults={this.renderNoResults}\n                renderResult={this.renderResult}\n                results={this.state.results}\n                selected={this.state.selected}\n              />\n              <div className=\"dropdown-bottom-hint\">\n                <div className=\"pull-right\">\n                  <ClockIcon className=\"little-spacer-right\" size={12} />\n                  {translate('recently_browsed')}\n                </div>\n                <FormattedMessage\n                  defaultMessage={translate('search.shortcut_hint')}\n                  id=\"search.shortcut_hint\"\n                  values={{\n                    shortcut: <span className=\"shortcut-button shortcut-button-small\">s</span>\n                  }}\n                />\n              </div>\n            </div>\n          </DropdownOverlay>\n        )}\n      </li>\n    );\n\n    return this.state.open ? (\n      <OutsideClickHandler onClickOutside={this.handleClickOutside}>{search}</OutsideClickHandler>\n    ) : (\n      search\n    );\n  }\n}\n\nexport default withRouter<OwnProps>(Search);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getBaseUrl } from 'sonar-ui-common/helpers/urls';\nimport { getGlobalSettingValue, Store } from '../../../../store/rootReducer';\n\ninterface StateProps {\n  customLogoUrl?: string;\n  customLogoWidth?: string | number;\n}\n\nexport function GlobalNavBranding({ customLogoUrl, customLogoWidth }: StateProps) {\n  const title = translate('layout.sonar.slogan');\n  const url = customLogoUrl || `${getBaseUrl()}/images/logo.svg?v=6.6`;\n  const width = customLogoUrl ? customLogoWidth || 100 : 83;\n\n  return (\n    <Link className=\"navbar-brand\" to=\"/\">\n      <img alt={title} height={30} src={url} title={title} width={width} />\n    </Link>\n  );\n}\n\nexport function SonarCloudNavBranding() {\n  return (\n    <GlobalNavBranding\n      customLogoUrl={`${getBaseUrl()}/images/sonarcloud-logo.svg`}\n      customLogoWidth={105}\n    />\n  );\n}\n\nconst mapStateToProps = (state: Store): StateProps => {\n  const customLogoUrl = getGlobalSettingValue(state, 'sonar.lf.logoUrl');\n  const customLogoWidth = getGlobalSettingValue(state, 'sonar.lf.logoWidthPx');\n  return {\n    customLogoUrl: customLogoUrl && customLogoUrl.value,\n    customLogoWidth: customLogoWidth && customLogoWidth.value\n  };\n};\n\nexport default connect(mapStateToProps)(GlobalNavBranding);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  location: { pathname: string };\n}\n\nexport default function GlobalNavExplore({ location }: Props) {\n  const active = location.pathname.startsWith('/explore');\n  return (\n    <li>\n      <Link\n        className={active ? 'active' : undefined}\n        to={{ pathname: '/explore/projects', query: { sort: '-analysis_date' } }}>\n        {translate('explore')}\n      </Link>\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as differenceInDays from 'date-fns/difference_in_days';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport { parseDate, toShortNotSoISOString } from 'sonar-ui-common/helpers/dates';\nimport { hasMessage } from 'sonar-ui-common/helpers/l10n';\nimport { get, save } from 'sonar-ui-common/helpers/storage';\nimport { showLicense } from '../../api/marketplace';\nimport { Location, Router, withRouter } from '../../components/hoc/withRouter';\nimport { isSonarCloud } from '../../helpers/system';\nimport { isLoggedIn } from '../../helpers/users';\nimport { getAppState, getCurrentUser, Store } from '../../store/rootReducer';\nimport { skipOnboarding } from '../../store/users';\nimport { EditionKey } from '../../types/editions';\nimport { OnboardingContext } from './OnboardingContext';\n\nconst OnboardingModal = lazyLoad(() => import('../../apps/tutorials/onboarding/OnboardingModal'));\nconst LicensePromptModal = lazyLoad(\n  () => import('../../apps/marketplace/components/LicensePromptModal'),\n  'LicensePromptModal'\n);\n\ninterface StateProps {\n  canAdmin?: boolean;\n  currentEdition?: EditionKey;\n  currentUser: T.CurrentUser;\n}\n\ninterface DispatchProps {\n  skipOnboarding: () => void;\n}\n\ninterface OwnProps {\n  children?: React.ReactNode;\n}\n\ninterface WithRouterProps {\n  location: Pick<Location, 'pathname'>;\n  router: Pick<Router, 'push'>;\n}\n\ntype Props = StateProps & DispatchProps & OwnProps & WithRouterProps;\n\nexport enum ModalKey {\n  license,\n  onboarding\n}\n\ninterface State {\n  modal?: ModalKey;\n}\n\nconst LICENSE_PROMPT = 'sonarqube.license.prompt';\n\nexport class StartupModal extends React.PureComponent<Props, State> {\n  state: State = {};\n\n  componentDidMount() {\n    this.tryAutoOpenLicense().catch(this.tryAutoOpenOnboarding);\n  }\n\n  closeOnboarding = () => {\n    this.setState(state => {\n      if (state.modal !== ModalKey.license) {\n        this.props.skipOnboarding();\n        return { modal: undefined };\n      }\n      return null;\n    });\n  };\n\n  closeLicense = () => {\n    this.setState(state => {\n      if (state.modal === ModalKey.license) {\n        return { modal: undefined };\n      }\n      return null;\n    });\n  };\n\n  openOnboarding = () => {\n    this.setState({ modal: ModalKey.onboarding });\n  };\n\n  openProjectOnboarding = (organization?: T.Organization) => {\n    this.setState({ modal: undefined });\n    const state: { organization?: string; tab?: string } = {};\n    if (organization) {\n      state.organization = organization.key;\n      state.tab = organization.alm ? 'auto' : 'manual';\n    }\n    this.props.router.push({ pathname: `/projects/create`, state });\n  };\n\n  tryAutoOpenLicense = () => {\n    const { canAdmin, currentEdition, currentUser } = this.props;\n    const hasLicenseManager = hasMessage('license.prompt.title');\n    const hasLicensedEdition = currentEdition && currentEdition !== 'community';\n\n    if (canAdmin && hasLicensedEdition && isLoggedIn(currentUser) && hasLicenseManager) {\n      const lastPrompt = get(LICENSE_PROMPT, currentUser.login);\n\n      if (!lastPrompt || differenceInDays(new Date(), parseDate(lastPrompt)) >= 1) {\n        return showLicense().then(license => {\n          if (!license || !license.isValidEdition) {\n            save(LICENSE_PROMPT, toShortNotSoISOString(new Date()), currentUser.login);\n            this.setState({ modal: ModalKey.license });\n            return Promise.resolve();\n          }\n          return Promise.reject();\n        });\n      }\n    }\n    return Promise.reject();\n  };\n\n  tryAutoOpenOnboarding = () => {\n    if (\n      isSonarCloud() &&\n      this.props.currentUser.showOnboardingTutorial &&\n      !['/about', '/documentation', '/onboarding', '/projects/create', '/create-organization'].some(\n        path => this.props.location.pathname.startsWith(path)\n      )\n    ) {\n      this.openOnboarding();\n    }\n  };\n\n  render() {\n    const { modal } = this.state;\n    return (\n      <OnboardingContext.Provider value={this.openProjectOnboarding}>\n        {this.props.children}\n        {modal === ModalKey.license && <LicensePromptModal onClose={this.closeLicense} />}\n        {modal === ModalKey.onboarding && (\n          <OnboardingModal\n            onClose={this.closeOnboarding}\n            onOpenProjectOnboarding={this.openProjectOnboarding}\n          />\n        )}\n      </OnboardingContext.Provider>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  canAdmin: getAppState(state).canAdmin,\n  currentEdition: getAppState(state).edition as EditionKey, // TODO: Fix once AppState is no longer ambiant.\n  currentUser: getCurrentUser(state)\n});\n\nconst mapDispatchToProps: DispatchProps = { skipOnboarding };\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withRouter(StartupModal));\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Dropdown from 'sonar-ui-common/components/controls/Dropdown';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { isMySet } from '../../../../apps/issues/utils';\nimport { isSonarCloud } from '../../../../helpers/system';\nimport { getQualityGatesUrl } from '../../../../helpers/urls';\nimport { isLoggedIn } from '../../../../helpers/users';\n\ninterface Props {\n  appState: Pick<T.AppState, 'canAdmin' | 'globalPages' | 'organizationsEnabled' | 'qualifiers'>;\n  currentUser: T.CurrentUser;\n  location: { pathname: string };\n}\n\nexport default class GlobalNavMenu extends React.PureComponent<Props> {\n  renderProjects() {\n    if (isSonarCloud() && !isLoggedIn(this.props.currentUser)) {\n      return null;\n    }\n\n    const active =\n      this.props.location.pathname.startsWith('/projects') &&\n      this.props.location.pathname !== '/projects/create';\n\n    return (\n      <li>\n        <Link className={classNames({ active })} to=\"/projects\">\n          {isSonarCloud() ? translate('my_projects') : translate('projects.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderPortfolios() {\n    return (\n      <li>\n        <Link activeClassName=\"active\" to=\"/portfolios\">\n          {translate('portfolios.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderIssuesLink() {\n    if (isSonarCloud() && !isLoggedIn(this.props.currentUser)) {\n      return null;\n    }\n\n    const active = this.props.location.pathname.startsWith('/issues');\n\n    if (isSonarCloud()) {\n      return (\n        <li>\n          <Link\n            className={classNames({ active })}\n            to={{ pathname: '/issues', query: { resolved: 'false' } }}>\n            {translate('my_issues')}\n          </Link>\n        </li>\n      );\n    }\n\n    const query =\n      this.props.currentUser.isLoggedIn && isMySet()\n        ? { resolved: 'false', myIssues: 'true' }\n        : { resolved: 'false' };\n    return (\n      <li>\n        <Link className={classNames({ active })} to={{ pathname: '/issues', query }}>\n          {translate('issues.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderRulesLink() {\n    return (\n      <li>\n        <Link activeClassName=\"active\" to=\"/coding_rules\">\n          {translate('coding_rules.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderProfilesLink() {\n    return (\n      <li>\n        <Link activeClassName=\"active\" to=\"/profiles\">\n          {translate('quality_profiles.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderQualityGatesLink() {\n    return (\n      <li>\n        <Link activeClassName=\"active\" to={getQualityGatesUrl()}>\n          {translate('quality_gates.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderAdministrationLink() {\n    if (!this.props.appState.canAdmin) {\n      return null;\n    }\n\n    return (\n      <li>\n        <Link activeClassName=\"active\" to=\"/admin\">\n          {translate('layout.settings')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderGlobalPageLink = ({ key, name }: T.Extension) => {\n    return (\n      <li key={key}>\n        <Link to={`/extension/${key}`}>{name}</Link>\n      </li>\n    );\n  };\n\n  renderMore() {\n    const { globalPages = [] } = this.props.appState;\n    const withoutPortfolios = globalPages.filter(page => page.key !== 'governance/portfolios');\n    if (withoutPortfolios.length === 0) {\n      return null;\n    }\n    return (\n      <Dropdown\n        overlay={<ul className=\"menu\">{withoutPortfolios.map(this.renderGlobalPageLink)}</ul>}\n        tagName=\"li\">\n        {({ onToggleClick, open }) => (\n          <a\n            aria-expanded={open}\n            aria-haspopup=\"true\"\n            className={classNames('dropdown-toggle', { active: open })}\n            href=\"#\"\n            id=\"global-navigation-more\"\n            onClick={onToggleClick}>\n            {translate('more')}\n            <DropdownIcon className=\"little-spacer-left text-middle\" />\n          </a>\n        )}\n      </Dropdown>\n    );\n  }\n\n  render() {\n    const governanceInstalled = this.props.appState.qualifiers.includes('VW');\n    const { organizationsEnabled } = this.props.appState;\n\n    return (\n      <ul className=\"global-navbar-menu\">\n        {this.renderProjects()}\n        {governanceInstalled && this.renderPortfolios()}\n        {this.renderIssuesLink()}\n        {!organizationsEnabled && this.renderRulesLink()}\n        {!organizationsEnabled && this.renderProfilesLink()}\n        {!organizationsEnabled && this.renderQualityGatesLink()}\n        {this.renderAdministrationLink()}\n        {this.renderMore()}\n      </ul>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Dropdown from 'sonar-ui-common/components/controls/Dropdown';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getBaseUrl } from 'sonar-ui-common/helpers/urls';\nimport { Router, withRouter } from '../../../../components/hoc/withRouter';\nimport Avatar from '../../../../components/ui/Avatar';\nimport OrganizationListItem from '../../../../components/ui/OrganizationListItem';\nimport { isLoggedIn } from '../../../../helpers/users';\nimport { rawSizes } from '../../../theme';\n\ninterface Props {\n  appState: { organizationsEnabled?: boolean };\n  currentUser: T.CurrentUser;\n  organizations: T.Organization[];\n  router: Pick<Router, 'push'>;\n}\n\nexport class GlobalNavUser extends React.PureComponent<Props> {\n  handleLogin = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    const shouldReturnToCurrentPage = window.location.pathname !== `${getBaseUrl()}/about`;\n    if (shouldReturnToCurrentPage) {\n      const returnTo = encodeURIComponent(window.location.pathname + window.location.search);\n      window.location.href =\n        getBaseUrl() + `/sessions/new?return_to=${returnTo}${window.location.hash}`;\n    } else {\n      window.location.href = `${getBaseUrl()}/sessions/new`;\n    }\n  };\n\n  handleLogout = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.props.router.push('/sessions/logout');\n  };\n\n  renderAuthenticated() {\n    const { organizations } = this.props;\n    const currentUser = this.props.currentUser as T.LoggedInUser;\n    const hasOrganizations = this.props.appState.organizationsEnabled && organizations.length > 0;\n    return (\n      <Dropdown\n        className=\"js-user-authenticated\"\n        overlay={\n          <ul className=\"menu\">\n            <li className=\"menu-item\">\n              <div className=\"text-ellipsis text-muted\" title={currentUser.name}>\n                <strong>{currentUser.name}</strong>\n              </div>\n              {currentUser.email != null && (\n                <div\n                  className=\"little-spacer-top text-ellipsis text-muted\"\n                  title={currentUser.email}>\n                  {currentUser.email}\n                </div>\n              )}\n            </li>\n            <li className=\"divider\" />\n            <li>\n              <Link to=\"/account\">{translate('my_account.page')}</Link>\n            </li>\n            {hasOrganizations && <li className=\"divider\" role=\"separator\" />}\n            {hasOrganizations && (\n              <li>\n                <Link to=\"/account/organizations\">{translate('my_organizations')}</Link>\n              </li>\n            )}\n            {hasOrganizations &&\n              sortBy(organizations, org => org.name.toLowerCase()).map(organization => (\n                <OrganizationListItem key={organization.key} organization={organization} />\n              ))}\n            {hasOrganizations && <li className=\"divider\" role=\"separator\" />}\n            <li>\n              <a href=\"#\" onClick={this.handleLogout}>\n                {translate('layout.logout')}\n              </a>\n            </li>\n          </ul>\n        }\n        tagName=\"li\">\n        <a className=\"dropdown-toggle navbar-avatar\" href=\"#\" title={currentUser.name}>\n          <Avatar\n            hash={currentUser.avatar}\n            name={currentUser.name}\n            size={rawSizes.globalNavContentHeightRaw}\n          />\n        </a>\n      </Dropdown>\n    );\n  }\n\n  renderAnonymous() {\n    return (\n      <li>\n        <a className=\"navbar-login\" href=\"/sessions/new\" onClick={this.handleLogin}>\n          {translate('layout.login')}\n        </a>\n      </li>\n    );\n  }\n\n  render() {\n    return isLoggedIn(this.props.currentUser) ? this.renderAuthenticated() : this.renderAnonymous();\n  }\n}\n\nexport default withRouter(GlobalNavUser);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport { getMyOrganizations, Store } from '../../../../store/rootReducer';\nimport GlobalNavUser from './GlobalNavUser';\n\ninterface StateProps {\n  organizations: T.Organization[];\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  organizations: getMyOrganizations(state)\n});\n\nexport default connect(mapStateToProps)(GlobalNavUser);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport NavBar from 'sonar-ui-common/components/ui/NavBar';\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\nimport {\n  fetchPrismicFeatureNews,\n  fetchPrismicRefs,\n  PrismicFeatureNews\n} from '../../../../api/news';\nimport { isSonarCloud } from '../../../../helpers/system';\nimport { isLoggedIn } from '../../../../helpers/users';\nimport {\n  getAppState,\n  getCurrentUser,\n  getCurrentUserSetting,\n  getGlobalSettingValue,\n  Store\n} from '../../../../store/rootReducer';\nimport { setCurrentUserSetting } from '../../../../store/users';\nimport { rawSizes } from '../../../theme';\nimport EmbedDocsPopupHelper from '../../embed-docs-modal/EmbedDocsPopupHelper';\nimport { OnboardingContext } from '../../OnboardingContext';\nimport Search from '../../search/Search';\nimport './GlobalNav.css';\nimport GlobalNavBranding, { SonarCloudNavBranding } from './GlobalNavBranding';\nimport GlobalNavExplore from './GlobalNavExplore';\nimport GlobalNavMenu from './GlobalNavMenu';\nimport GlobalNavUserContainer from './GlobalNavUserContainer';\n\nconst GlobalNavPlus = lazyLoad(() => import('./GlobalNavPlus'), 'GlobalNavPlus');\nconst NotificationsSidebar = lazyLoad(\n  () => import('../../notifications/NotificationsSidebar'),\n  'NotificationsSidebar'\n);\nconst NavLatestNotification = lazyLoad(\n  () => import('../../notifications/NavLatestNotification'),\n  'NavLatestNotification'\n);\n\ninterface Props {\n  accessToken?: string;\n  appState: Pick<T.AppState, 'canAdmin' | 'globalPages' | 'organizationsEnabled' | 'qualifiers'>;\n  currentUser: T.CurrentUser;\n  location: { pathname: string };\n  notificationsLastReadDate?: Date;\n  notificationsOptOut?: boolean;\n  setCurrentUserSetting: (setting: T.CurrentUserSetting) => void;\n}\n\ninterface State {\n  notificationSidebar?: boolean;\n  loadingNews: boolean;\n  loadingMoreNews: boolean;\n  news: PrismicFeatureNews[];\n  newsPaging?: T.Paging;\n  newsRef?: string;\n}\n\nconst PAGE_SIZE = 5;\n\nexport class GlobalNav extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    loadingNews: false,\n    loadingMoreNews: false,\n    news: [],\n    notificationSidebar: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    if (isSonarCloud()) {\n      this.fetchFeatureNews();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchFeatureNews = () => {\n    const { accessToken } = this.props;\n    if (accessToken) {\n      this.setState({ loadingNews: true });\n      fetchPrismicRefs()\n        .then(({ ref }) => {\n          if (this.mounted) {\n            this.setState({ newsRef: ref });\n          }\n          return ref;\n        })\n        .then(ref => fetchPrismicFeatureNews({ accessToken, ref, ps: PAGE_SIZE }))\n        .then(\n          ({ news, paging }) => {\n            if (this.mounted) {\n              this.setState({\n                loadingNews: false,\n                news,\n                newsPaging: paging\n              });\n            }\n          },\n          () => {\n            if (this.mounted) {\n              this.setState({ loadingNews: false });\n            }\n          }\n        );\n    }\n  };\n\n  fetchMoreFeatureNews = () => {\n    const { accessToken } = this.props;\n    const { newsPaging, newsRef } = this.state;\n    if (accessToken && newsPaging && newsRef) {\n      this.setState({ loadingMoreNews: true });\n      fetchPrismicFeatureNews({\n        accessToken,\n        ref: newsRef,\n        p: newsPaging.pageIndex + 1,\n        ps: PAGE_SIZE\n      }).then(\n        ({ news, paging }) => {\n          if (this.mounted) {\n            this.setState(state => ({\n              loadingMoreNews: false,\n              news: [...state.news, ...news],\n              newsPaging: paging\n            }));\n          }\n        },\n        () => {\n          if (this.mounted) {\n            this.setState({ loadingMoreNews: false });\n          }\n        }\n      );\n    }\n  };\n\n  handleOpenNotificationSidebar = () => {\n    this.setState({ notificationSidebar: true });\n    this.fetchFeatureNews();\n  };\n\n  handleCloseNotificationSidebar = () => {\n    this.setState({ notificationSidebar: false });\n    const lastNews = this.state.news[0];\n    const readDate = lastNews ? parseDate(lastNews.publicationDate).getTime() : Date.now();\n    this.props.setCurrentUserSetting({ key: 'notifications.readDate', value: readDate.toString() });\n  };\n\n  render() {\n    const { appState, currentUser } = this.props;\n    const { news } = this.state;\n    return (\n      <NavBar className=\"navbar-global\" height={rawSizes.globalNavHeightRaw} id=\"global-navigation\">\n        {isSonarCloud() ? <SonarCloudNavBranding /> : <GlobalNavBranding />}\n\n        <GlobalNavMenu {...this.props} />\n\n        <ul className=\"global-navbar-menu global-navbar-menu-right\">\n          {isSonarCloud() && isLoggedIn(currentUser) && news.length > 0 && (\n            <NavLatestNotification\n              lastNews={news[0]}\n              notificationsLastReadDate={this.props.notificationsLastReadDate}\n              notificationsOptOut={this.props.notificationsOptOut}\n              onClick={this.handleOpenNotificationSidebar}\n              setCurrentUserSetting={this.props.setCurrentUserSetting}\n            />\n          )}\n          {isSonarCloud() && <GlobalNavExplore location={this.props.location} />}\n          <EmbedDocsPopupHelper />\n          <Search appState={appState} currentUser={currentUser} />\n          {isLoggedIn(currentUser) && (\n            <OnboardingContext.Consumer data-test=\"global-nav-plus\">\n              {openProjectOnboarding => (\n                <GlobalNavPlus\n                  appState={appState}\n                  currentUser={currentUser}\n                  openProjectOnboarding={openProjectOnboarding}\n                />\n              )}\n            </OnboardingContext.Consumer>\n          )}\n          <GlobalNavUserContainer appState={appState} currentUser={currentUser} />\n        </ul>\n        {isSonarCloud() && isLoggedIn(currentUser) && this.state.notificationSidebar && (\n          <NotificationsSidebar\n            fetchMoreFeatureNews={this.fetchMoreFeatureNews}\n            loading={this.state.loadingNews}\n            loadingMore={this.state.loadingMoreNews}\n            news={news}\n            notificationsLastReadDate={this.props.notificationsLastReadDate}\n            onClose={this.handleCloseNotificationSidebar}\n            paging={this.state.newsPaging}\n          />\n        )}\n      </NavBar>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store) => {\n  const accessToken = getGlobalSettingValue(state, 'sonar.prismic.accessToken');\n  const notificationsLastReadDate = getCurrentUserSetting(state, 'notifications.readDate');\n  const notificationsOptOut = getCurrentUserSetting(state, 'notifications.optOut') === 'true';\n\n  return {\n    currentUser: getCurrentUser(state),\n    appState: getAppState(state),\n    accessToken: accessToken && accessToken.value,\n    notificationsLastReadDate: notificationsLastReadDate\n      ? parseDate(Number(notificationsLastReadDate))\n      : undefined,\n    notificationsOptOut\n  };\n};\n\nconst mapDispatchToProps = {\n  setCurrentUserSetting\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(GlobalNav);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Workspace from '../../components/workspace/Workspace';\nimport A11yProvider from './a11y/A11yProvider';\nimport A11ySkipLinks from './a11y/A11ySkipLinks';\nimport SuggestionsProvider from './embed-docs-modal/SuggestionsProvider';\nimport GlobalFooterContainer from './GlobalFooterContainer';\nimport GlobalMessagesContainer from './GlobalMessagesContainer';\nimport GlobalNav from './nav/global/GlobalNav';\nimport StartupModal from './StartupModal';\n\nexport interface Props {\n  children: React.ReactNode;\n  footer?: React.ReactNode;\n  location: { pathname: string };\n}\n\nexport default function GlobalContainer(props: Props) {\n  // it is important to pass `location` down to `GlobalNav` to trigger render on url change\n  const { footer = <GlobalFooterContainer /> } = props;\n  return (\n    <SuggestionsProvider>\n      <A11yProvider>\n        <StartupModal>\n          <A11ySkipLinks />\n\n          <div className=\"global-container\">\n            <div className=\"page-wrapper\" id=\"container\">\n              <div className=\"page-container\">\n                <Workspace>\n                  <GlobalNav location={props.location} />\n                  <GlobalMessagesContainer />\n                  {props.children}\n                </Workspace>\n              </div>\n            </div>\n            {footer}\n          </div>\n        </StartupModal>\n      </A11yProvider>\n    </SuggestionsProvider>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omitBy } from 'lodash';\nimport { getJSON, post, postJSON, RequestData } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { isCategoryDefinition } from '../apps/settings/utils';\nimport { BranchParameters } from '../types/branch-like';\n\nexport function getDefinitions(component?: string): Promise<T.SettingCategoryDefinition[]> {\n  return getJSON('/api/settings/list_definitions', { component }).then(\n    r => r.definitions,\n    throwGlobalError\n  );\n}\n\nexport function getValues(\n  data: { keys: string; component?: string } & BranchParameters\n): Promise<T.SettingValue[]> {\n  return getJSON('/api/settings/values', data).then(r => r.settings);\n}\n\nexport function setSettingValue(\n  definition: T.SettingDefinition,\n  value: any,\n  component?: string\n): Promise<void> {\n  const { key } = definition;\n  const data: RequestData = { key, component };\n\n  if (isCategoryDefinition(definition) && definition.multiValues) {\n    data.values = value;\n  } else if (definition.type === 'PROPERTY_SET') {\n    data.fieldValues = value\n      .map((fields: any) => omitBy(fields, value => value == null))\n      .map(JSON.stringify);\n  } else {\n    data.value = value;\n  }\n\n  return post('/api/settings/set', data);\n}\n\nexport function setSimpleSettingValue(\n  data: { component?: string; value: string; key: string } & BranchParameters\n): Promise<void | Response> {\n  return post('/api/settings/set', data).catch(throwGlobalError);\n}\n\nexport function resetSettingValue(\n  data: { keys: string; component?: string } & BranchParameters\n): Promise<void> {\n  return post('/api/settings/reset', data);\n}\n\nexport function sendTestEmail(to: string, subject: string, message: string): Promise<void> {\n  return post('/api/emails/send', { to, subject, message });\n}\n\nexport function checkSecretKey(): Promise<{ secretKeyAvailable: boolean }> {\n  return getJSON('/api/settings/check_secret_key').catch(throwGlobalError);\n}\n\nexport function generateSecretKey(): Promise<{ secretKey: string }> {\n  return postJSON('/api/settings/generate_secret_key').catch(throwGlobalError);\n}\n\nexport function encryptValue(value: string): Promise<{ encryptedValue: string }> {\n  return postJSON('/api/settings/encrypt', { value }).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { Dispatch } from 'redux';\nimport { getOrganizations } from '../../../api/organizations';\nimport { getValues } from '../../../api/settings';\nimport { receiveMyOrganizations } from '../../../store/organizations';\nimport { receiveValues } from '../../settings/store/values';\n\nexport const fetchMyOrganizations = () => (dispatch: Dispatch) => {\n  return getOrganizations({ member: true }).then(({ organizations }) => {\n    return dispatch(receiveMyOrganizations(organizations));\n  });\n};\n\nexport const fetchIfAnyoneCanCreateOrganizations = () => (dispatch: Dispatch) => {\n  return getValues({ keys: 'sonar.organizations.anyoneCanCreate' }).then(values => {\n    dispatch(receiveValues(values));\n  });\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface MetricsResponse {\n  metrics: T.Metric[];\n  p: number;\n  ps: number;\n  total: number;\n}\n\nexport function getMetrics(data?: {\n  isCustom?: boolean;\n  p?: number;\n  ps?: number;\n}): Promise<MetricsResponse> {\n  return getJSON('/api/metrics/search', data).catch(throwGlobalError);\n}\n\nexport function getAllMetrics(data?: {\n  isCustom?: boolean;\n  p?: number;\n  ps?: number;\n}): Promise<T.Metric[]> {\n  return inner(data);\n\n  function inner(\n    data: { p?: number; ps?: number } = { ps: 500 },\n    prev?: MetricsResponse\n  ): Promise<T.Metric[]> {\n    return getMetrics(data).then(r => {\n      const result = prev ? prev.metrics.concat(r.metrics) : r.metrics;\n      if (r.p * r.ps >= r.total) {\n        return result;\n      }\n      return inner({ ...data, p: r.p + 1 }, { ...r, metrics: result });\n    });\n  }\n}\n\nexport function getMetricDomains(): Promise<string[]> {\n  return getJSON('/api/metrics/domains').then(r => r.domains, throwGlobalError);\n}\n\nexport function getMetricTypes(): Promise<string[]> {\n  return getJSON('/api/metrics/types').then(r => r.types, throwGlobalError);\n}\n\nexport function createMetric(data: {\n  description?: string;\n  domain?: string;\n  key: string;\n  name: string;\n  type: string;\n}): Promise<T.Metric> {\n  return postJSON('/api/metrics/create', data).catch(throwGlobalError);\n}\n\nexport function updateMetric(data: {\n  description?: string;\n  domain?: string;\n  id: string;\n  key?: string;\n  name?: string;\n  type?: string;\n}) {\n  return post('/api/metrics/update', data).catch(throwGlobalError);\n}\n\nexport function deleteMetric(data: { keys: string }) {\n  return post('/api/metrics/delete', data).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { createContext } from 'react';\nimport { BranchLike } from '../../types/branch-like';\n\nexport interface ComponentDescriptor {\n  branchLike: BranchLike | undefined;\n  key: string;\n  line?: number;\n  name?: string;\n  qualifier?: string;\n}\n\nexport interface RuleDescriptor {\n  key: string;\n  name?: string;\n  organization: string;\n}\n\nexport interface WorkspaceContextShape {\n  openComponent: (component: ComponentDescriptor) => void;\n  openRule: (rule: RuleDescriptor) => void;\n}\n\nexport const WorkspaceContext = createContext<WorkspaceContextShape>({\n  openComponent: () => {},\n  openRule: () => {}\n});\n"],"sourceRoot":""}